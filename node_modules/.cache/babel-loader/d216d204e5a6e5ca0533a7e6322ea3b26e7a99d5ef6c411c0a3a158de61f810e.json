{"ast":null,"code":"//api key: AIzaSyDzxaLJiJgdKYs2WqTPrmeT2k8JoHTj8kk\nimport React,{useMemo}from\"react\";import{GoogleMap,LoadScript,TrafficLayer,Polyline,Marker}from\"@react-google-maps/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SG={lat:1.3521,lng:103.8198};// Singapore center\nconst containerStyle={width:\"100%\",height:\"100%\"};// ðŸ”‘ Insert your API key here\nconst GOOGLE_MAPS_KEY=\"AIzaSyDzxaLJiJgdKYs2WqTPrmeT2k8JoHTj8kk\";export default function LiveTrafficMap(_ref){let{center=SG,zoom=12,routeGeometry,// [{lat,lng}, ...] or [[lng,lat], ...]\nincidents=[]// [{ id, lat, lng, title }]\n}=_ref;const path=useMemo(()=>{var _routeGeometry$;if(!routeGeometry)return null;if(Array.isArray(routeGeometry)&&((_routeGeometry$=routeGeometry[0])===null||_routeGeometry$===void 0?void 0:_routeGeometry$.lat)!==undefined){return routeGeometry;}if(Array.isArray(routeGeometry)&&Array.isArray(routeGeometry[0])){return routeGeometry.map(_ref2=>{let[lng,lat]=_ref2;return{lat,lng};});}return null;},[routeGeometry]);return/*#__PURE__*/_jsx(LoadScript,{googleMapsApiKey:GOOGLE_MAPS_KEY,children:/*#__PURE__*/_jsxs(GoogleMap,{mapContainerStyle:containerStyle,center:center,zoom:zoom,children:[/*#__PURE__*/_jsx(TrafficLayer,{}),path&&/*#__PURE__*/_jsx(Polyline,{path:path,options:{strokeWeight:6,strokeColor:\"#2563eb\"}}),incidents.map(i=>/*#__PURE__*/_jsx(Marker,{position:{lat:i.lat,lng:i.lng},title:i.title},i.id))]})});}","map":{"version":3,"names":["React","useMemo","GoogleMap","LoadScript","TrafficLayer","Polyline","Marker","jsx","_jsx","jsxs","_jsxs","SG","lat","lng","containerStyle","width","height","GOOGLE_MAPS_KEY","LiveTrafficMap","_ref","center","zoom","routeGeometry","incidents","path","_routeGeometry$","Array","isArray","undefined","map","_ref2","googleMapsApiKey","children","mapContainerStyle","options","strokeWeight","strokeColor","i","position","title","id"],"sources":["/workspaces/FYP_TrafficForecast/src/components/LiveTrafficMap.js"],"sourcesContent":["//api key: AIzaSyDzxaLJiJgdKYs2WqTPrmeT2k8JoHTj8kk\n\nimport React, { useMemo } from \"react\";\nimport {\n  GoogleMap,\n  LoadScript,\n  TrafficLayer,\n  Polyline,\n  Marker,\n} from \"@react-google-maps/api\";\n\nconst SG = { lat: 1.3521, lng: 103.8198 }; // Singapore center\nconst containerStyle = { width: \"100%\", height: \"100%\" };\n\n// ðŸ”‘ Insert your API key here\nconst GOOGLE_MAPS_KEY = \"AIzaSyDzxaLJiJgdKYs2WqTPrmeT2k8JoHTj8kk\";\n\nexport default function LiveTrafficMap({\n  center = SG,\n  zoom = 12,\n  routeGeometry, // [{lat,lng}, ...] or [[lng,lat], ...]\n  incidents = [], // [{ id, lat, lng, title }]\n}) {\n  const path = useMemo(() => {\n    if (!routeGeometry) return null;\n    if (Array.isArray(routeGeometry) && routeGeometry[0]?.lat !== undefined) {\n      return routeGeometry;\n    }\n    if (Array.isArray(routeGeometry) && Array.isArray(routeGeometry[0])) {\n      return routeGeometry.map(([lng, lat]) => ({ lat, lng }));\n    }\n    return null;\n  }, [routeGeometry]);\n\n  return (\n    <LoadScript googleMapsApiKey={GOOGLE_MAPS_KEY}>\n      <GoogleMap mapContainerStyle={containerStyle} center={center} zoom={zoom}>\n        {/* ðŸ”´ Live traffic overlay */}\n        <TrafficLayer />\n\n        {/* ðŸ”µ Selected route (optional) */}\n        {path && (\n          <Polyline\n            path={path}\n            options={{ strokeWeight: 6, strokeColor: \"#2563eb\" }}\n          />\n        )}\n\n        {/* ðŸŸ¢ Incident markers (optional) */}\n        {incidents.map((i) => (\n          <Marker\n            key={i.id}\n            position={{ lat: i.lat, lng: i.lng }}\n            title={i.title}\n          />\n        ))}\n      </GoogleMap>\n    </LoadScript>\n  );\n}\n"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,OAAO,KAAQ,OAAO,CACtC,OACEC,SAAS,CACTC,UAAU,CACVC,YAAY,CACZC,QAAQ,CACRC,MAAM,KACD,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhC,KAAM,CAAAC,EAAE,CAAG,CAAEC,GAAG,CAAE,MAAM,CAAEC,GAAG,CAAE,QAAS,CAAC,CAAE;AAC3C,KAAM,CAAAC,cAAc,CAAG,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAO,CAAC,CAExD;AACA,KAAM,CAAAC,eAAe,CAAG,yCAAyC,CAEjE,cAAe,SAAS,CAAAC,cAAcA,CAAAC,IAAA,CAKnC,IALoC,CACrCC,MAAM,CAAGT,EAAE,CACXU,IAAI,CAAG,EAAE,CACTC,aAAa,CAAE;AACfC,SAAS,CAAG,EAAI;AAClB,CAAC,CAAAJ,IAAA,CACC,KAAM,CAAAK,IAAI,CAAGvB,OAAO,CAAC,IAAM,KAAAwB,eAAA,CACzB,GAAI,CAACH,aAAa,CAAE,MAAO,KAAI,CAC/B,GAAII,KAAK,CAACC,OAAO,CAACL,aAAa,CAAC,EAAI,EAAAG,eAAA,CAAAH,aAAa,CAAC,CAAC,CAAC,UAAAG,eAAA,iBAAhBA,eAAA,CAAkBb,GAAG,IAAKgB,SAAS,CAAE,CACvE,MAAO,CAAAN,aAAa,CACtB,CACA,GAAII,KAAK,CAACC,OAAO,CAACL,aAAa,CAAC,EAAII,KAAK,CAACC,OAAO,CAACL,aAAa,CAAC,CAAC,CAAC,CAAC,CAAE,CACnE,MAAO,CAAAA,aAAa,CAACO,GAAG,CAACC,KAAA,MAAC,CAACjB,GAAG,CAAED,GAAG,CAAC,CAAAkB,KAAA,OAAM,CAAElB,GAAG,CAAEC,GAAI,CAAC,EAAC,CAAC,CAC1D,CACA,MAAO,KAAI,CACb,CAAC,CAAE,CAACS,aAAa,CAAC,CAAC,CAEnB,mBACEd,IAAA,CAACL,UAAU,EAAC4B,gBAAgB,CAAEd,eAAgB,CAAAe,QAAA,cAC5CtB,KAAA,CAACR,SAAS,EAAC+B,iBAAiB,CAAEnB,cAAe,CAACM,MAAM,CAAEA,MAAO,CAACC,IAAI,CAAEA,IAAK,CAAAW,QAAA,eAEvExB,IAAA,CAACJ,YAAY,GAAE,CAAC,CAGfoB,IAAI,eACHhB,IAAA,CAACH,QAAQ,EACPmB,IAAI,CAAEA,IAAK,CACXU,OAAO,CAAE,CAAEC,YAAY,CAAE,CAAC,CAAEC,WAAW,CAAE,SAAU,CAAE,CACtD,CACF,CAGAb,SAAS,CAACM,GAAG,CAAEQ,CAAC,eACf7B,IAAA,CAACF,MAAM,EAELgC,QAAQ,CAAE,CAAE1B,GAAG,CAAEyB,CAAC,CAACzB,GAAG,CAAEC,GAAG,CAAEwB,CAAC,CAACxB,GAAI,CAAE,CACrC0B,KAAK,CAAEF,CAAC,CAACE,KAAM,EAFVF,CAAC,CAACG,EAGR,CACF,CAAC,EACO,CAAC,CACF,CAAC,CAEjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}