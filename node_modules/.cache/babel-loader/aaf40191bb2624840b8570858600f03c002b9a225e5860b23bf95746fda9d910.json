{"ast":null,"code":"import React,{useEffect,useMemo,useRef,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateUserAccount(_ref){let{open,onClose,onSubmit,onLearnMore,fullScreen=false}=_ref;const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");const[phone,setPhone]=useState(\"\");// NEW\nconst[password,setPassword]=useState(\"\");const[submitted,setSubmitted]=useState(false);const firstRef=useRef(null);useEffect(()=>{if(!open)return;const prevOverflow=document.body.style.overflow;document.body.style.overflow=\"hidden\";setName(\"\");setEmail(\"\");setPhone(\"\");setPassword(\"\");setSubmitted(false);setTimeout(()=>{var _firstRef$current;return(_firstRef$current=firstRef.current)===null||_firstRef$current===void 0?void 0:_firstRef$current.focus();},0);return()=>{document.body.style.overflow=prevOverflow;};},[open]);const errs=useMemo(()=>{const e={};if(!name.trim())e.name=\"Name must be entered\";if(!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email))e.email=\"Valid email must be entered\";if(!password){e.password=\"Password must be entered\";}else if(password.length<8){e.password=\"Password must be at least 8 characters\";}// Optional phone validation (if provided, lightly check digits/spaces)\nif(phone&&!/^[\\d\\s()+-]{6,}$/.test(phone))e.phone=\"Enter a valid phone number\";return e;},[name,email,phone,password]);function handleSubmit(ev){ev.preventDefault();setSubmitted(true);if(Object.keys(errs).length)return;// only name now\nonSubmit===null||onSubmit===void 0?void 0:onSubmit({name,email,phone,password});onClose===null||onClose===void 0?void 0:onClose();}if(!open)return null;const backdropClass=\"cam-backdrop\".concat(fullScreen?\" cam-backdrop--full\":\"\");const cardClass=\"cam-card\".concat(fullScreen?\" cam-card--full\":\"\");return/*#__PURE__*/_jsx(\"div\",{className:backdropClass,role:\"dialog\",\"aria-modal\":\"true\",\"aria-label\":\"Create account\",onClick:e=>e.target===e.currentTarget&&(onClose===null||onClose===void 0?void 0:onClose()),children:/*#__PURE__*/_jsxs(\"div\",{className:cardClass,onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{className:\"cam-close\",\"aria-label\":\"Close\",onClick:onClose,children:\"\\u2715\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cam-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"cam-h-ico\",children:\"\\uD83D\\uDC64\\u2795\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"cam-title\",children:\"Create Your Account\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"cam-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{className:\"cam-label\",htmlFor:\"acc-name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"acc-name\",ref:firstRef,className:\"cam-input\",placeholder:\"Test User\",value:name,onChange:e=>setName(e.target.value),autoComplete:\"name\"}),submitted&&errs.name&&/*#__PURE__*/_jsx(\"div\",{className:\"cam-error\",children:errs.name}),/*#__PURE__*/_jsx(\"label\",{className:\"cam-label\",htmlFor:\"acc-email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"acc-email\",className:\"cam-input\",type:\"email\",placeholder:\"testuser123@gmail.com\",value:email,onChange:e=>setEmail(e.target.value),inputMode:\"email\",autoComplete:\"email\"}),submitted&&errs.email&&/*#__PURE__*/_jsx(\"div\",{className:\"cam-error\",children:errs.email}),/*#__PURE__*/_jsx(\"label\",{className:\"cam-label\",htmlFor:\"acc-phone\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{id:\"acc-phone\",className:\"cam-input\",type:\"tel\",placeholder:\"9876 5432\",value:phone,onChange:e=>setPhone(e.target.value),inputMode:\"tel\",autoComplete:\"tel\"}),submitted&&errs.phone&&/*#__PURE__*/_jsx(\"div\",{className:\"cam-error\",children:errs.phone}),/*#__PURE__*/_jsx(\"label\",{className:\"cam-label\",htmlFor:\"acc-password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"acc-password\",className:\"cam-input\",type:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",value:password,onChange:e=>setPassword(e.target.value),autoComplete:\"new-password\"}),submitted&&errs.password&&/*#__PURE__*/_jsx(\"div\",{className:\"cam-error\",children:errs.password}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"cam-btn cam-btn-primary\",children:\"Create Account\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"cam-btn cam-btn-ghost cam-learn-btn\",onClick:()=>onLearnMore===null||onLearnMore===void 0?void 0:onLearnMore(),children:[/*#__PURE__*/_jsx(\"span\",{className:\"cam-learn-ico-badge\",children:\"\\u2753\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Learn More\"})]})]})]})});}","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","jsx","_jsx","jsxs","_jsxs","CreateUserAccount","_ref","open","onClose","onSubmit","onLearnMore","fullScreen","name","setName","email","setEmail","phone","setPhone","password","setPassword","submitted","setSubmitted","firstRef","prevOverflow","document","body","style","overflow","setTimeout","_firstRef$current","current","focus","errs","e","trim","test","length","handleSubmit","ev","preventDefault","Object","keys","backdropClass","concat","cardClass","className","role","onClick","target","currentTarget","children","stopPropagation","htmlFor","id","ref","placeholder","value","onChange","autoComplete","type","inputMode"],"sources":["/workspaces/FYP_TrafficForecast/src/components/CreateUserAccount.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\n\nexport default function CreateUserAccount({\n  open,\n  onClose,\n  onSubmit,\n  onLearnMore,\n  fullScreen = false,\n}) {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\"); // NEW\n  const [password, setPassword] = useState(\"\");\n  const [submitted, setSubmitted] = useState(false);\n  const firstRef = useRef(null);\n\n  useEffect(() => {\n    if (!open) return;\n    const prevOverflow = document.body.style.overflow;\n    document.body.style.overflow = \"hidden\";\n\n    setName(\"\");\n    setEmail(\"\");\n    setPhone(\"\");\n    setPassword(\"\");\n    setSubmitted(false);\n\n    setTimeout(() => firstRef.current?.focus(), 0);\n\n    return () => {\n      document.body.style.overflow = prevOverflow;\n    };\n  }, [open]);\n\n  const errs = useMemo(() => {\n    const e = {};\n    if (!name.trim()) e.name = \"Name must be entered\";\n    if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email))\n      e.email = \"Valid email must be entered\";\n    if (!password) {\n      e.password = \"Password must be entered\";\n    } else if (password.length < 8) {\n      e.password = \"Password must be at least 8 characters\";\n    }\n    // Optional phone validation (if provided, lightly check digits/spaces)\n    if (phone && !/^[\\d\\s()+-]{6,}$/.test(phone))\n      e.phone = \"Enter a valid phone number\";\n    return e;\n  }, [name, email, phone, password]);\n\n  function handleSubmit(ev) {\n    ev.preventDefault();\n    setSubmitted(true);\n    if (Object.keys(errs).length) return;\n\n    // only name now\n    onSubmit?.({\n      name,\n      email,\n      phone,\n      password,\n    });\n    onClose?.();\n  }\n\n  if (!open) return null;\n\n  const backdropClass = `cam-backdrop${\n    fullScreen ? \" cam-backdrop--full\" : \"\"\n  }`;\n  const cardClass = `cam-card${fullScreen ? \" cam-card--full\" : \"\"}`;\n\n  return (\n    <div\n      className={backdropClass}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-label=\"Create account\"\n      onClick={(e) => e.target === e.currentTarget && onClose?.()}\n    >\n      <div className={cardClass} onClick={(e) => e.stopPropagation()}>\n        <button className=\"cam-close\" aria-label=\"Close\" onClick={onClose}>\n          ✕\n        </button>\n\n        <div className=\"cam-header\">\n          <span className=\"cam-h-ico\">👤➕</span>\n          <h3 className=\"cam-title\">Create Your Account</h3>\n        </div>\n\n        <form className=\"cam-form\" onSubmit={handleSubmit}>\n          {/* Name */}\n          <label className=\"cam-label\" htmlFor=\"acc-name\">\n            Name\n          </label>\n          <input\n            id=\"acc-name\"\n            ref={firstRef}\n            className=\"cam-input\"\n            placeholder=\"Test User\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            autoComplete=\"name\"\n          />\n          {submitted && errs.name && (\n            <div className=\"cam-error\">{errs.name}</div>\n          )}\n\n          {/* Email */}\n          <label className=\"cam-label\" htmlFor=\"acc-email\">\n            Email\n          </label>\n          <input\n            id=\"acc-email\"\n            className=\"cam-input\"\n            type=\"email\"\n            placeholder=\"testuser123@gmail.com\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            inputMode=\"email\"\n            autoComplete=\"email\"\n          />\n          {submitted && errs.email && (\n            <div className=\"cam-error\">{errs.email}</div>\n          )}\n\n          {/* Phone Number */}\n          <label className=\"cam-label\" htmlFor=\"acc-phone\">\n            Phone Number\n          </label>\n          <input\n            id=\"acc-phone\"\n            className=\"cam-input\"\n            type=\"tel\"\n            placeholder=\"9876 5432\"\n            value={phone}\n            onChange={(e) => setPhone(e.target.value)}\n            inputMode=\"tel\"\n            autoComplete=\"tel\"\n          />\n          {submitted && errs.phone && (\n            <div className=\"cam-error\">{errs.phone}</div>\n          )}\n\n          {/* Password */}\n          <label className=\"cam-label\" htmlFor=\"acc-password\">\n            Password\n          </label>\n          <input\n            id=\"acc-password\"\n            className=\"cam-input\"\n            type=\"password\"\n            placeholder=\"••••••••\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            autoComplete=\"new-password\"\n          />\n          {submitted && errs.password && (\n            <div className=\"cam-error\">{errs.password}</div>\n          )}\n\n          <button type=\"submit\" className=\"cam-btn cam-btn-primary\">\n            Create Account\n          </button>\n\n          <button\n            type=\"button\"\n            className=\"cam-btn cam-btn-ghost cam-learn-btn\"\n            onClick={() => onLearnMore?.()}\n          >\n            <span className=\"cam-learn-ico-badge\">❓</span>\n            <span>Learn More</span>\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}