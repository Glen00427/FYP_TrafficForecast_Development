/*! For license information please see main.d6f23c19.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),s=n(43),o=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),k=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var L=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var j=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case m:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case C:return"SuspenseList";case L:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case k:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var M=Array.isArray,A=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},D=[],z=-1;function U(e){return{current:e}}function B(e){0>z||(e.current=D[z],D[z]=null,z--)}function F(e,t){z++,D[z]=e.current,e.current=t}var H=U(null),W=U(null),V=U(null),q=U(null);function G(e,t){switch(F(V,t),F(W,e),F(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(H),F(H,e)}function K(){B(H),B(W),B(V)}function $(e){null!==e.memoizedState&&F(q,e);var t=H.current,n=od(t,e.type);t!==n&&(F(W,e),F(H,n))}function Z(e){W.current===e&&(B(H),B(W)),q.current===e&&(B(q),$d._currentValue=R)}var J=Object.prototype.hasOwnProperty,Q=r.unstable_scheduleCallback,Y=r.unstable_cancelCallback,X=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,se=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,ie=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/ge|0)|0},fe=Math.log,ge=Math.LN2;var me=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,o=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?s=ye(r):0!==(i&=a)?s=ye(i):n||0!==(n=a&~e)&&(s=ye(n)):0!==(a=r&~o)?s=ye(a):0!==i?s=ye(i):n||0!==(n=r&~e)&&(s=ye(n)),0===s?0:0!==t&&t!==s&&0===(t&o)&&((o=s&-s)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:s}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=me;return 0===(4194048&(me<<=1))&&(me=256),e}function xe(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Ce(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Le(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Oe(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Te=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Te,Me="__reactProps$"+Te,Ae="__reactContainer$"+Te,Ie="__reactEvents$"+Te,Re="__reactListeners$"+Te,De="__reactHandles$"+Te,ze="__reactResources$"+Te,Ue="__reactMarker$"+Te;function Be(e){delete e[Ne],delete e[Me],delete e[Ie],delete e[Re],delete e[De]}function Fe(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ae]||n[Ne]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Ne])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function He(e){if(e=e[Ne]||e[Ae]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ve(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[Ue]=!0}var Ge=new Set,Ke={};function $e(e,t){Ze(e,t),Ze(e+"Capture",t)}function Ze(e,t){for(Ke[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Je,Qe,Ye=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xe={},et={};function tt(e,t,n){if(s=t,J.call(et,s)||!J.call(Xe,s)&&(Ye.test(s)?et[s]=!0:(Xe[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function st(e){if(void 0===Je)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Qe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Qe}var ot=!1;function it(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var r=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),i=o[0],a=o[1];if(i&&a){var l=i.split("\n"),c=a.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==c[s]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=s);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return st("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function gt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mt(e,t,n,r,s,o,i,a){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?yt(e,i,ct(t)):null!=n?yt(e,i,ct(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=o&&(e.defaultChecked=!!o),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function vt(e,t,n,r,s,o,i,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:s)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(M(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Ct(e,s,r)}else for(var o in t)t.hasOwnProperty(o)&&Ct(e,o,t[o])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return jt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ot=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,Mt=null;function At(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[Me]||null;if(!s)throw Error(i(90));mt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var It=!1;function Rt(e,t,n){if(It)return e(t,n);It=!0;try{return e(t)}finally{if(It=!1,(null!==Nt||null!==Mt)&&(Fc(),Nt&&(t=Nt,e=Mt,Mt=Nt=null,At(t),e)))for(t=0;t<e.length;t++)At(e[t])}}function Dt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Me]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(zt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Mh){Ut=!1}var Ft=null,Ht=null,Wt=null;function Vt(){if(Wt)return Wt;var e,t,n=Ht,r=n.length,s="value"in Ft?Ft.value:Ft.textContent,o=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[o-t];t++);return Wt=s.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Kt(){return!1}function $t(e){function t(t,n,r,s,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Gt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Zt,Jt,Qt,Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=$t(Yt),en=h({},Yt,{view:0,detail:0}),tn=$t(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Zt=e.screenX-Qt.screenX,Jt=e.screenY-Qt.screenY):Jt=Zt=0,Qt=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),rn=$t(nn),sn=$t(h({},nn,{dataTransfer:0})),on=$t(h({},en,{relatedTarget:0})),an=$t(h({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=$t(h({},Yt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=$t(h({},Yt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return pn}var gn=$t(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=$t(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=$t(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=$t(h({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=$t(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=$t(h({},Yt,{newState:0,oldState:0})),kn=[9,13,27,32],Sn=zt&&"CompositionEvent"in window,xn=null;zt&&"documentMode"in document&&(xn=document.documentMode);var Cn=zt&&"TextEvent"in window&&!xn,En=zt&&(!Sn||xn&&8<xn&&11>=xn),_n=String.fromCharCode(32),Ln=!1;function jn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tn[e.type]:"textarea"===t}function Mn(e,t,n,r){Nt?Mt?Mt.push(r):Mt=[r]:Nt=r,0<(t=Vu(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var An=null,In=null;function Rn(e){Ru(e,0)}function Dn(e){if(ht(We(e)))return e}function zn(e,t){if("change"===e)return t}var Un=!1;if(zt){var Bn;if(zt){var Fn="oninput"in document;if(!Fn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Fn="function"===typeof Hn.oninput}Bn=Fn}else Bn=!1;Un=Bn&&(!document.documentMode||9<document.documentMode)}function Wn(){An&&(An.detachEvent("onpropertychange",Vn),In=An=null)}function Vn(e){if("value"===e.propertyName&&Dn(In)){var t=[];Mn(t,In,e,Tt(e)),Rt(Rn,t)}}function qn(e,t,n){"focusin"===e?(Wn(),In=n,(An=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Wn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(In)}function Kn(e,t){if("click"===e)return Dn(t)}function $n(e,t){if("input"===e||"change"===e)return Dn(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jn(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!J.call(t,s)||!Zn(e[s],t[s]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yn(e,t){var n,r=Qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qn(r)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=zt&&"documentMode"in document&&11>=document.documentMode,rr=null,sr=null,or=null,ir=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ir||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Jn(or,r)||(or=r,0<(r=Vu(sr,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}zt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),fr=hr("animationiteration"),gr=hr("animationstart"),mr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),$e(t,[e])}kr.push("scrollEnd");var xr=new WeakMap;function Cr(e,t){if("object"===typeof e&&null!==e){var n=xr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},xr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Er=[],_r=0,Lr=0;function jr(){for(var e=_r,t=Lr=_r=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var s=Er[t];Er[t++]=null;var o=Er[t];if(Er[t++]=null,null!==r&&null!==s){var i=r.pending;null===i?s.next=s:(s.next=i.next,i.next=s),r.pending=s}0!==o&&Nr(n,s,o)}}function Pr(e,t,n,r){Er[_r++]=e,Er[_r++]=t,Er[_r++]=n,Er[_r++]=r,Lr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Pr(e,t,n,r),Mr(e)}function Tr(e,t){return Pr(e,null,null,t),Mr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(s=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,s&&null!==t&&(s=31-pe(n),null===(r=(e=o.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),o):null}function Mr(e){if(50<Nc)throw Nc=0,Mc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ar={};function Ir(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(e,t,n,r){return new Ir(e,t,n,r)}function Dr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Rr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,s,o){var a=0;if(r=e,"function"===typeof e)Dr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case L:return(e=Rr(31,n,t,s)).elementType=L,e.lanes=o,e;case m:return Fr(n.children,s,o,t);case v:a=8,s|=24;break;case y:return(e=Rr(12,n,t,2|s)).elementType=y,e.lanes=o,e;case x:return(e=Rr(13,n,t,s)).elementType=x,e.lanes=o,e;case C:return(e=Rr(19,n,t,s)).elementType=C,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case k:a=10;break e;case w:a=9;break e;case S:a=11;break e;case E:a=14;break e;case _:a=16,r=null;break e}a=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Rr(a,n,t,s)).elementType=e,t.type=r,t.lanes=o,t}function Fr(e,t,n,r){return(e=Rr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Rr(6,e,null,t)).lanes=n,e}function Wr(e,t,n){return(t=Rr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vr=[],qr=0,Gr=null,Kr=0,$r=[],Zr=0,Jr=null,Qr=1,Yr="";function Xr(e,t){Vr[qr++]=Kr,Vr[qr++]=Gr,Gr=e,Kr=t}function es(e,t,n){$r[Zr++]=Qr,$r[Zr++]=Yr,$r[Zr++]=Jr,Jr=e;var r=Qr;e=Yr;var s=32-pe(r)-1;r&=~(1<<s),n+=1;var o=32-pe(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Qr=1<<32-pe(t)+s|n<<s|r,Yr=o+e}else Qr=1<<o|n<<s|r,Yr=e}function ts(e){null!==e.return&&(Xr(e,1),es(e,1,0))}function ns(e){for(;e===Gr;)Gr=Vr[--qr],Vr[qr]=null,Kr=Vr[--qr],Vr[qr]=null;for(;e===Jr;)Jr=$r[--Zr],$r[Zr]=null,Yr=$r[--Zr],$r[Zr]=null,Qr=$r[--Zr],$r[Zr]=null}var rs=null,ss=null,os=!1,is=null,as=!1,ls=Error(i(519));function cs(e){throw gs(Cr(Error(i(418,"")),e)),ls}function us(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ne]=e,t[Me]=r,n){case"dialog":Du("cancel",t),Du("close",t);break;case"iframe":case"object":case"embed":Du("load",t);break;case"video":case"audio":for(n=0;n<Au.length;n++)Du(Au[n],t);break;case"source":Du("error",t);break;case"img":case"image":case"link":Du("error",t),Du("load",t);break;case"details":Du("toggle",t);break;case"input":Du("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Du("invalid",t);break;case"textarea":Du("invalid",t),kt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Ju(t.textContent,n)?(null!=r.popover&&(Du("beforetoggle",t),Du("toggle",t)),null!=r.onScroll&&Du("scroll",t),null!=r.onScrollEnd&&Du("scrollend",t),null!=r.onClick&&(t.onclick=Qu),t=!0):t=!1,t||cs(e)}function ds(e){for(rs=e.return;rs;)switch(rs.tag){case 5:case 13:return void(as=!1);case 27:case 3:return void(as=!0);default:rs=rs.return}}function hs(e){if(e!==rs)return!1;if(!os)return ds(e),os=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||id(e.type,e.memoizedProps)),t=!t),t&&ss&&cs(e),ds(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ss=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ss=null}}else 27===n?(n=ss,pd(e.type)?(e=yd,yd=null,ss=e):ss=n):ss=rs?vd(e.stateNode.nextSibling):null;return!0}function ps(){ss=rs=null,os=!1}function fs(){var e=is;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),is=null),e}function gs(e){null===is?is=[e]:is.push(e)}var ms=U(null),vs=null,ys=null;function bs(e,t,n){F(ms,t._currentValue),t._currentValue=n}function ws(e){e._currentValue=ms.current,B(ms)}function ks(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var o=s.dependencies;if(null!==o){var a=s.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ks(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),ks(a,n,e),a=null}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}}function xs(e,t,n,r){e=null;for(var s=t,o=!1;null!==s;){if(!o)if(0!==(524288&s.flags))o=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var a=s.alternate;if(null===a)throw Error(i(387));if(null!==(a=a.memoizedProps)){var l=s.type;Zn(s.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(s===q.current){if(null===(a=s.alternate))throw Error(i(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push($d):e=[$d])}s=s.return}null!==e&&Ss(t,e,n,r),t.flags|=262144}function Cs(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){vs=e,ys=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _s(e){return js(vs,e)}function Ls(e,t){return null===vs&&Es(e),js(e,t)}function js(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ys){if(null===e)throw Error(i(308));ys=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ys=ys.next=t;return n}var Ps="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Os=r.unstable_scheduleCallback,Ts=r.unstable_NormalPriority,Ns={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ms(){return{controller:new Ps,data:new Map,refCount:0}}function As(e){e.refCount--,0===e.refCount&&Os(Ts,function(){e.controller.abort()})}var Is=null,Rs=0,Ds=0,zs=null;function Us(){if(0===--Rs&&null!==Is){null!==zs&&(zs.status="fulfilled");var e=Is;Is=null,Ds=0,zs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bs=A.S;A.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Is){var n=Is=[];Rs=0,Ds=Pu(),zs={status:"pending",value:void 0,then:function(e){n.push(e)}}}Rs++,t.then(Us,Us)}(0,t),null!==Bs&&Bs(e,t)};var Fs=U(null);function Hs(){var e=Fs.current;return null!==e?e:rc.pooledCache}function Ws(e,t){F(Fs,null===t?Fs.current:t.pool)}function Vs(){var e=Hs();return null===e?null:{parent:Ns._currentValue,pool:e}}var qs=Error(i(460)),Gs=Error(i(474)),Ks=Error(i(542)),$s={then:function(){}};function Zs(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Js(){}function Qs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Js,Js),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Js,Js);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Ys=t,qs}}var Ys=null;function Xs(){if(null===Ys)throw Error(i(459));var e=Ys;return Ys=null,e}function eo(e){if(e===qs||e===Ks)throw Error(i(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function so(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Mr(e),Nr(e,null,n),t}return Pr(e,r,t,n),Mr(e)}function io(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}function ao(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?s=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?s=o=t:o=o.next=t}else s=o=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==zs)throw zs}}function uo(e,t,n,r){lo=!1;var s=e.updateQueue;to=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,c=l.next;l.next=null,null===i?o=c:i.next=c,i=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=s.baseState;for(i=0,u=c=l=null,a=o;;){var p=-536870913&a.lane,f=p!==a.lane;if(f?(oc&p)===p:(r&p)===p){0!==p&&p===Ds&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var g=e,m=a;p=t;var v=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){d=g.call(v,d,p);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(p="function"===typeof(g=m.payload)?g.call(v,d,p):g)||void 0===p)break e;d=h({},d,p);break e;case 2:to=!0}}null!==(p=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=s.callbacks)?s.callbacks=[p]:f.push(p))}else f={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=p;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(f=a).next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null===o&&(s.shared.lanes=0),pc|=i,e.lanes=i,e.memoizedState=d}}function ho(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function po(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var fo=U(null),go=U(0);function mo(e,t){F(go,e=dc),F(fo,t),dc=e|t.baseLanes}function vo(){F(go,dc),F(fo,fo.current)}function yo(){dc=go.current,B(fo),B(go)}var bo=0,wo=null,ko=null,So=null,xo=!1,Co=!1,Eo=!1,_o=0,Lo=0,jo=null,Po=0;function Oo(){throw Error(i(321))}function To(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function No(e,t,n,r,s,o){return bo=o,wo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=null===e||null===e.memoizedState?Gi:Ki,Eo=!1,o=n(r,s),Eo=!1,Co&&(o=Ao(t,n,r,s)),Mo(e),o}function Mo(e){A.H=qi;var t=null!==ko&&null!==ko.next;if(bo=0,So=ko=wo=null,xo=!1,Lo=0,jo=null,t)throw Error(i(300));null===e||La||null!==(e=e.dependencies)&&Cs(e)&&(La=!0)}function Ao(e,t,n,r){wo=e;var s=0;do{if(Co&&(jo=null),Lo=0,Co=!1,25<=s)throw Error(i(301));if(s+=1,So=ko=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}A.H=$i,o=t(n,r)}while(Co);return o}function Io(){var e=A.H,t=e.useState()[0];return t="function"===typeof t.then?Fo(t):t,e=e.useState()[0],(null!==ko?ko.memoizedState:null)!==e&&(wo.flags|=1024),t}function Ro(){var e=0!==_o;return _o=0,e}function Do(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zo(e){if(xo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xo=!1}bo=0,So=ko=wo=null,Co=!1,Lo=_o=0,jo=null}function Uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===So?wo.memoizedState=So=e:So=So.next=e,So}function Bo(){if(null===ko){var e=wo.alternate;e=null!==e?e.memoizedState:null}else e=ko.next;var t=null===So?wo.memoizedState:So.next;if(null!==t)So=t,ko=e;else{if(null===e){if(null===wo.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(ko=e).memoizedState,baseState:ko.baseState,baseQueue:ko.baseQueue,queue:ko.queue,next:null},null===So?wo.memoizedState=So=e:So=So.next=e}return So}function Fo(e){var t=Lo;return Lo+=1,null===jo&&(jo=[]),e=Qs(jo,e,t),t=wo,null===(null===So?t.memoizedState:So.next)&&(t=t.alternate,A.H=null===t||null===t.memoizedState?Gi:Ki),e}function Ho(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Fo(e);if(e.$$typeof===k)return _s(e)}throw Error(i(438,String(e)))}function Wo(e){var t=null,n=wo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=j;return t.index++,n}function Vo(e,t){return"function"===typeof t?t(e):t}function qo(e){return Go(Bo(),ko,e)}function Go(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var s=e.baseQueue,o=r.pending;if(null!==o){if(null!==s){var a=s.next;s.next=o.next,o.next=a}t.baseQueue=s=o,r.pending=null}if(o=e.baseState,null===s)e.memoizedState=o;else{var l=a=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(bo&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ds&&(d=!0);else{if((bo&p)===p){u=u.next,p===Ds&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,wo.lanes|=p,pc|=p}h=u.action,Eo&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=o):c=c.next=p,wo.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Zn(o,e.memoizedState)&&(La=!0,d&&null!==(n=zs)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ko(e){var t=Bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{o=e(o,a.action),a=a.next}while(a!==s);Zn(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function $o(e,t,n){var r=wo,s=Bo(),o=os;if(o){if(void 0===n)throw Error(i(407));n=n()}else n=t();var a=!Zn((ko||s).memoizedState,n);if(a&&(s.memoizedState=n,La=!0),s=s.queue,vi(2048,8,Qo.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||null!==So&&1&So.memoizedState.tag){if(r.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Jo.bind(null,r,s,n,t),null),null===rc)throw Error(i(349));o||0!==(124&bo)||Zo(r,t,n)}return n}function Zo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Jo(e,t,n,r){t.value=n,t.getSnapshot=r,Yo(t)&&Xo(e)}function Qo(e,t,n){return n(function(){Yo(t)&&Xo(e)})}function Yo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(r){return!0}}function Xo(e){var t=Tr(e,2);null!==t&&Rc(t,e,2)}function ei(e){var t=Uo();if("function"===typeof e){var n=e;if(e=n(),Eo){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:e},t}function ti(e,t,n,r){return e.baseState=n,Go(e,ko,"function"===typeof r?r:Vo)}function ni(e,t,n,r,s){if(Hi(e))throw Error(i(485));if(null!==(e=t.action)){var o={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==A.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,ri(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ri(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var o=A.T,i={};A.T=i;try{var a=n(s,r),l=A.S;null!==l&&l(i,a),si(e,t,a)}catch(c){ii(e,t,c)}finally{A.T=o}}else try{si(e,t,o=n(s,r))}catch(u){ii(e,t,u)}}function si(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){oi(e,t,n)},function(n){return ii(e,t,n)}):oi(e,t,n)}function oi(e,t,n){t.status="fulfilled",t.value=n,ai(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ri(e,n)))}function ii(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ai(t),t=t.next}while(t!==r)}e.action=null}function ai(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function li(e,t){return t}function ci(e,t){if(os){var n=rc.formState;if(null!==n){e:{var r=wo;if(os){if(ss){t:{for(var s=ss,o=as;8!==s.nodeType;){if(!o){s=null;break t}if(null===(s=vd(s.nextSibling))){s=null;break t}}s="F!"===(o=s.data)||"F"===o?s:null}if(s){ss=vd(s.nextSibling),r="F!"===s.data;break e}}cs(r)}r=!1}r&&(t=n[0])}}return(n=Uo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},n.queue=r,n=Ui.bind(null,wo,r),r.dispatch=n,r=ei(!1),o=Fi.bind(null,wo,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=Uo()).queue=s,n=ni.bind(null,wo,s,o,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function ui(e){return di(Bo(),ko,e)}function di(e,t,n){if(t=Go(e,t,li)[0],e=qo(Vo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Fo(t)}catch(i){if(i===qs)throw Ks;throw i}else r=t;var s=(t=Bo()).queue,o=s.dispatch;return n!==t.memoizedState&&(wo.flags|=2048,fi(9,{destroy:void 0,resource:void 0},hi.bind(null,s,n),null)),[r,o,e]}function hi(e,t){e.action=t}function pi(e){var t=Bo(),n=ko;if(null!==n)return di(t,n,e);Bo(),t=t.memoizedState;var r=(n=Bo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function gi(){return Bo().memoizedState}function mi(e,t,n,r){var s=Uo();r=void 0===r?null:r,wo.flags|=e,s.memoizedState=fi(1|t,{destroy:void 0,resource:void 0},n,r)}function vi(e,t,n,r){var s=Bo();r=void 0===r?null:r;var o=s.memoizedState.inst;null!==ko&&null!==r&&To(r,ko.memoizedState.deps)?s.memoizedState=fi(t,o,n,r):(wo.flags|=e,s.memoizedState=fi(1|t,o,n,r))}function yi(e,t){mi(8390656,8,e,t)}function bi(e,t){vi(2048,8,e,t)}function wi(e,t){return vi(4,2,e,t)}function ki(e,t){return vi(4,4,e,t)}function Si(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function xi(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vi(4,4,Si.bind(null,t,e),n)}function Ci(){}function Ei(e,t){var n=Bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&To(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _i(e,t){var n=Bo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&To(t,r[1]))return r[0];if(r=e(),Eo){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Li(e,t,n){return void 0===n||0!==(1073741824&bo)?e.memoizedState=t:(e.memoizedState=n,e=Ic(),wo.lanes|=e,pc|=e,n)}function ji(e,t,n,r){return Zn(n,t)?n:null!==fo.current?(e=Li(e,n,r),Zn(e,t)||(La=!0),e):0===(42&bo)?(La=!0,e.memoizedState=n):(e=Ic(),wo.lanes|=e,pc|=e,t)}function Pi(e,t,n,r,s){var o=I.p;I.p=0!==o&&8>o?o:8;var i=A.T,a={};A.T=a,Fi(e,!1,t,n);try{var l=s(),c=A.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Bi(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Ac());else Bi(e,t,r,Ac())}catch(u){Bi(e,t,{then:function(){},status:"rejected",reason:u},Ac())}finally{I.p=o,A.T=i}}function Oi(){}function Ti(e,t,n,r){if(5!==e.tag)throw Error(i(476));var s=Ni(e).queue;Pi(e,s,t,R,null===n?Oi:function(){return Mi(e),n(r)})}function Ni(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Mi(e){Bi(e,Ni(e).next.queue,{},Ac())}function Ai(){return _s($d)}function Ii(){return Bo().memoizedState}function Ri(){return Bo().memoizedState}function Di(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ac(),r=oo(t,e=so(n),n);return null!==r&&(Rc(r,t,n),io(r,t,n)),t={cache:Ms()},void(e.payload=t)}t=t.return}}function zi(e,t,n){var r=Ac();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Hi(e)?Wi(t,n):null!==(n=Or(e,t,n,r))&&(Rc(n,e,r),Vi(n,t,r))}function Ui(e,t,n){Bi(e,t,n,Ac())}function Bi(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Wi(t,s);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Zn(a,i))return Pr(e,t,s,0),null===rc&&jr(),!1}catch(l){}if(null!==(n=Or(e,t,s,r)))return Rc(n,e,r),Vi(n,t,r),!0}return!1}function Fi(e,t,n,r){if(r={lane:2,revertLane:Pu(),action:r,hasEagerState:!1,eagerState:null,next:null},Hi(e)){if(t)throw Error(i(479))}else null!==(t=Or(e,n,r,2))&&Rc(t,e,2)}function Hi(e){var t=e.alternate;return e===wo||null!==t&&t===wo}function Wi(e,t){Co=xo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vi(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}var qi={readContext:_s,use:Ho,useCallback:Oo,useContext:Oo,useEffect:Oo,useImperativeHandle:Oo,useLayoutEffect:Oo,useInsertionEffect:Oo,useMemo:Oo,useReducer:Oo,useRef:Oo,useState:Oo,useDebugValue:Oo,useDeferredValue:Oo,useTransition:Oo,useSyncExternalStore:Oo,useId:Oo,useHostTransitionStatus:Oo,useFormState:Oo,useActionState:Oo,useOptimistic:Oo,useMemoCache:Oo,useCacheRefresh:Oo},Gi={readContext:_s,use:Ho,useCallback:function(e,t){return Uo().memoizedState=[e,void 0===t?null:t],e},useContext:_s,useEffect:yi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,mi(4194308,4,Si.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){mi(4,2,e,t)},useMemo:function(e,t){var n=Uo();t=void 0===t?null:t;var r=e();if(Eo){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Uo();if(void 0!==n){var s=n(t);if(Eo){he(!0);try{n(t)}finally{he(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=zi.bind(null,wo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Uo().memoizedState=e},useState:function(e){var t=(e=ei(e)).queue,n=Ui.bind(null,wo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ci,useDeferredValue:function(e,t){return Li(Uo(),e,t)},useTransition:function(){var e=ei(!1);return e=Pi.bind(null,wo,e.queue,!0,!1),Uo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wo,s=Uo();if(os){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===rc)throw Error(i(349));0!==(124&oc)||Zo(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,yi(Qo.bind(null,r,o,e),[e]),r.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Jo.bind(null,r,o,n,t),null),n},useId:function(){var e=Uo(),t=rc.identifierPrefix;if(os){var n=Yr;t="\xab"+t+"R"+(n=(Qr&~(1<<32-pe(Qr)-1)).toString(32)+n),0<(n=_o++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Po++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ai,useFormState:ci,useActionState:ci,useOptimistic:function(e){var t=Uo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fi.bind(null,wo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Wo,useCacheRefresh:function(){return Uo().memoizedState=Di.bind(null,wo)}},Ki={readContext:_s,use:Ho,useCallback:Ei,useContext:_s,useEffect:bi,useImperativeHandle:xi,useInsertionEffect:wi,useLayoutEffect:ki,useMemo:_i,useReducer:qo,useRef:gi,useState:function(){return qo(Vo)},useDebugValue:Ci,useDeferredValue:function(e,t){return ji(Bo(),ko.memoizedState,e,t)},useTransition:function(){var e=qo(Vo)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:Fo(e),t]},useSyncExternalStore:$o,useId:Ii,useHostTransitionStatus:Ai,useFormState:ui,useActionState:ui,useOptimistic:function(e,t){return ti(Bo(),0,e,t)},useMemoCache:Wo,useCacheRefresh:Ri},$i={readContext:_s,use:Ho,useCallback:Ei,useContext:_s,useEffect:bi,useImperativeHandle:xi,useInsertionEffect:wi,useLayoutEffect:ki,useMemo:_i,useReducer:Ko,useRef:gi,useState:function(){return Ko(Vo)},useDebugValue:Ci,useDeferredValue:function(e,t){var n=Bo();return null===ko?Li(n,e,t):ji(n,ko.memoizedState,e,t)},useTransition:function(){var e=Ko(Vo)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:Fo(e),t]},useSyncExternalStore:$o,useId:Ii,useHostTransitionStatus:Ai,useFormState:pi,useActionState:pi,useOptimistic:function(e,t){var n=Bo();return null!==ko?ti(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Wo,useCacheRefresh:Ri},Zi=null,Ji=0;function Qi(e){var t=Ji;return Ji+=1,null===Zi&&(Zi=[]),Qs(Zi,e,t)}function Yi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xi(e,t){if(t.$$typeof===p)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===m?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===_&&ea(o)===t.type)?(Yi(t=s(t,n.props),n),t.return=e,t):(Yi(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Fr(n,e.mode,r,o)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Yi(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Wr(t,e.mode,n)).return=e,t;case _:return h(e,t=(0,t._init)(t._payload),n)}if(M(t)||O(t))return(t=Fr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Qi(t),n);if(t.$$typeof===k)return h(e,Ls(e,t),n);Xi(e,t)}return null}function p(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===s?c(e,t,n,r):null;case g:return n.key===s?u(e,t,n,r):null;case _:return p(e,t,n=(s=n._init)(n._payload),r)}if(M(n)||O(n))return null!==s?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Qi(n),r);if(n.$$typeof===k)return p(e,t,Ls(e,n),r);Xi(e,n)}return null}function v(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case _:return v(e,t,n,r=(0,r._init)(r._payload),s)}if(M(r)||O(r))return d(t,e=e.get(n)||null,r,s,null);if("function"===typeof r.then)return v(e,t,n,Qi(r),s);if(r.$$typeof===k)return v(e,t,n,Ls(t,r),s);Xi(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===m){if(7===c.tag){n(l,c.sibling),(d=s(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&ea(b)===c.type){n(l,c.sibling),Yi(d=s(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===m?((d=Fr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Yi(d=Br(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=s(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Wr(u,l.mode,d)).return=l,l=d}return a(l);case _:return y(l,c,u=(b=u._init)(u._payload),d)}if(M(u))return function(s,i,a,l){for(var c=null,u=null,d=i,f=i=0,g=null;null!==d&&f<a.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var m=p(s,d,a[f],l);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(s,d),i=o(m,i,f),null===u?c=m:u.sibling=m,u=m,d=g}if(f===a.length)return n(s,d),os&&Xr(s,f),c;if(null===d){for(;f<a.length;f++)null!==(d=h(s,a[f],l))&&(i=o(d,i,f),null===u?c=d:u.sibling=d,u=d);return os&&Xr(s,f),c}for(d=r(d);f<a.length;f++)null!==(g=v(d,s,f,a[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),i=o(g,i,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(s,e)}),os&&Xr(s,f),c}(l,c,u,d);if(O(u)){if("function"!==typeof(b=O(u)))throw Error(i(150));return function(s,a,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,f=a,g=a=0,m=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(m=f,f=null):m=f.sibling;var b=p(s,f,y.value,c);if(null===b){null===f&&(f=m);break}e&&f&&null===b.alternate&&t(s,f),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,f=m}if(y.done)return n(s,f),os&&Xr(s,g),u;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return os&&Xr(s,g),u}for(f=r(f);!y.done;g++,y=l.next())null!==(y=v(f,s,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(s,e)}),os&&Xr(s,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,Qi(u),d);if(u.$$typeof===k)return y(l,c,Ls(l,u),d);Xi(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=s(c,u)).return=l,l=d):(n(l,c),(d=Hr(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{Ji=0;var s=y(e,t,n,r);return Zi=null,s}catch(i){if(i===qs||i===Ks)throw i;var o=Rr(29,i,null,e.mode);return o.lanes=r,o.return=e,o}}}var na=ta(!0),ra=ta(!1),sa=U(null),oa=null;function ia(e){var t=e.alternate;F(ua,1&ua.current),F(sa,e),null===oa&&(null===t||null!==fo.current||null!==t.memoizedState)&&(oa=e)}function aa(e){if(22===e.tag){if(F(ua,ua.current),F(sa,e),null===oa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oa=e)}}else la()}function la(){F(ua,ua.current),F(sa,sa.current)}function ca(e){B(sa),oa===e&&(oa=null),B(ua)}var ua=U(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||md(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ac(),s=so(r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=oo(e,s,r))&&(Rc(t,e,r),io(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ac(),s=so(r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=oo(e,s,r))&&(Rc(t,e,r),io(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ac(),r=so(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Rc(t,e,n),io(t,e,n))}};function fa(e,t,n,r,s,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(s,o))}function ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ma(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=h({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var va="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ya(e){va(e)}function ba(e){console.error(e)}function wa(e){va(e)}function ka(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Sa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function xa(e,t,n){return(n=so(n)).tag=3,n.payload={element:null},n.callback=function(){ka(e,t)},n}function Ca(e){return(e=so(e)).tag=3,e}function Ea(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var o=r.value;e.payload=function(){return s(o)},e.callback=function(){Sa(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Sa(t,n,r),"function"!==typeof s&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var _a=Error(i(461)),La=!1;function ja(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Pa(e,t,n,r,s){n=n.render;var o=t.ref;if("ref"in r){var i={};for(var a in r)"ref"!==a&&(i[a]=r[a])}else i=r;return Es(t),r=No(e,t,n,i,o,s),a=Ro(),null===e||La?(os&&a&&ts(t),t.flags|=1,ja(e,t,r,s),t.child):(Do(e,t,s),Za(e,t,s))}function Oa(e,t,n,r,s){if(null===e){var o=n.type;return"function"!==typeof o||Dr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ta(e,t,o,r,s))}if(o=e.child,!Ja(e,s)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(i,r)&&e.ref===t.ref)return Za(e,t,s)}return t.flags|=1,(e=zr(o,r)).ref=t.ref,e.return=t,t.child=e}function Ta(e,t,n,r,s){if(null!==e){var o=e.memoizedProps;if(Jn(o,r)&&e.ref===t.ref){if(La=!1,t.pendingProps=r=o,!Ja(e,s))return t.lanes=e.lanes,Za(e,t,s);0!==(131072&e.flags)&&(La=!0)}}return Ia(e,t,n,r,s)}function Na(e,t,n){var r=t.pendingProps,s=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(s=t.child=e.child,o=0;null!==s;)o=o|s.lanes|s.childLanes,s=s.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Ma(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ma(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ws(0,null!==o?o.cachePool:null),null!==o?mo(t,o):vo(),aa(t)}else null!==o?(Ws(0,o.cachePool),mo(t,o),la(),t.memoizedState=null):(null!==e&&Ws(0,null),vo(),la());return ja(e,t,s,n),t.child}function Ma(e,t,n,r){var s=Hs();return s=null===s?null:{parent:Ns._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Ws(0,null),vo(),aa(t),null!==e&&xs(e,t,r,!0),null}function Aa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ia(e,t,n,r,s){return Es(t),n=No(e,t,n,r,void 0,s),r=Ro(),null===e||La?(os&&r&&ts(t),t.flags|=1,ja(e,t,n,s),t.child):(Do(e,t,s),Za(e,t,s))}function Ra(e,t,n,r,s,o){return Es(t),t.updateQueue=null,n=Ao(t,r,n,s),Mo(e),r=Ro(),null===e||La?(os&&r&&ts(t),t.flags|=1,ja(e,t,n,o),t.child):(Do(e,t,o),Za(e,t,o))}function Da(e,t,n,r,s){if(Es(t),null===t.stateNode){var o=Ar,i=n.contextType;"object"===typeof i&&null!==i&&(o=_s(i)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=pa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),i=n.contextType,o.context="object"===typeof i&&null!==i?_s(i):Ar,o.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(ha(t,n,i,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(i=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),i!==o.state&&pa.enqueueReplaceState(o,o.state,null),uo(t,r,o,s),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=ma(n,a);o.props=l;var c=o.context,u=n.contextType;i=Ar,"object"===typeof u&&null!==u&&(i=_s(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==i)&&ga(t,o,r,i),to=!1;var h=t.memoizedState;o.state=h,uo(t,r,o,s),co(),c=t.memoizedState,a||h!==c||to?("function"===typeof d&&(ha(t,n,d,r),c=t.memoizedState),(l=to||fa(t,n,l,r,h,c,i))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=i,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=ma(n,i=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Ar,"object"===typeof c&&null!==c&&(l=_s(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||h!==l)&&ga(t,o,r,l),to=!1,h=t.memoizedState,o.state=h,uo(t,r,o,s),co();var p=t.memoizedState;i!==d||h!==p||to||null!==e&&null!==e.dependencies&&Cs(e.dependencies)?("function"===typeof a&&(ha(t,n,a,r),p=t.memoizedState),(u=to||fa(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Cs(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Aa(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,s),t.child=na(t,null,n,s)):ja(e,t,n,s),t.memoizedState=o.state,e=t.child):e=Za(e,t,s),e}function za(e,t,n,r){return ps(),t.flags|=256,ja(e,t,n,r),t.child}var Ua={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ba(e){return{baseLanes:e,cachePool:Vs()}}function Fa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mc),e}function Ha(e,t,n){var r,s=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(os){if(o?ia(t):la(),os){var l,c=ss;if(l=c){e:{for(l=c,c=as;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jr?{id:Qr,overflow:Yr}:null,retryLane:536870912,hydrationErrors:null},(l=Rr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,rs=t,ss=null,l=!0):l=!1}l||cs(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return md(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=s.children,s=s.fallback,o?(la(),c=Va({mode:"hidden",children:c},o=t.mode),s=Fr(s,o,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(o=t.child).memoizedState=Ba(n),o.childLanes=Fa(e,r,n),t.memoizedState=Ua,s):(ia(t),Wa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(ia(t),t.flags&=-257,t=qa(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),o=s.fallback,c=t.mode,s=Va({mode:"visible",children:s.children},c),(o=Fr(o,c,n,null)).flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,na(t,e.child,null,n),(s=t.child).memoizedState=Ba(n),s.childLanes=Fa(e,r,n),t.memoizedState=Ua,t=o);else if(ia(t),md(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(s=Error(i(419))).stack="",s.digest=r,gs({value:s,source:null,stack:null}),t=qa(e,t,n)}else if(La||xs(e,t,n,!1),r=0!==(n&e.childLanes),La||r){if(null!==(r=rc)&&(0!==(s=0!==((s=0!==(42&(s=n&-n))?1:je(s))&(r.suspendedLanes|n))?0:s)&&s!==l.retryLane))throw l.retryLane=s,Tr(e,s),Rc(r,e,s),_a;"$?"===c.data||Kc(),t=qa(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ss=vd(c.nextSibling),rs=t,os=!0,is=null,as=!1,null!==e&&($r[Zr++]=Qr,$r[Zr++]=Yr,$r[Zr++]=Jr,Qr=e.id,Yr=e.overflow,Jr=t),(t=Wa(t,s.children)).flags|=4096);return t}return o?(la(),o=s.fallback,c=t.mode,u=(l=e.child).sibling,(s=zr(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=zr(u,o):(o=Fr(o,c,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,null===(c=e.child.memoizedState)?c=Ba(n):(null!==(l=c.cachePool)?(u=Ns._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Vs(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Fa(e,r,n),t.memoizedState=Ua,s):(ia(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Wa(e,t){return(t=Va({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Va(e,t){return(e=Rr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qa(e,t,n){return na(t,e.child,null,n),(e=Wa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ga(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ks(e.return,t,n)}function Ka(e,t,n,r,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function $a(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(ja(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ga(e,n,t);else if(19===e.tag)Ga(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(F(ua,r),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ka(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===da(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ka(t,!0,n,null,o);break;case"together":Ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Za(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(xs(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ja(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Cs(e))}function Qa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)La=!0;else{if(!Ja(e,n)&&0===(128&t.flags))return La=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),bs(0,Ns,e.memoizedState.cache),ps();break;case 27:case 5:$(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:bs(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ia(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ha(e,t,n):(ia(t),null!==(e=Za(e,t,n))?e.sibling:null);ia(t);break;case 19:var s=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(xs(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return $a(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Na(e,t,n);case 24:bs(0,Ns,e.memoizedState.cache)}return Za(e,t,n)}(e,t,n);La=0!==(131072&e.flags)}else La=!1,os&&0!==(1048576&t.flags)&&es(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((s=r.$$typeof)===S){t.tag=11,t=Pa(null,t,r,e,n);break e}if(s===E){t.tag=14,t=Oa(null,t,r,e,n);break e}}throw t=N(r)||r,Error(i(306,t,""))}Dr(r)?(e=ma(r,e),t.tag=1,t=Da(null,t,r,e,n)):(t.tag=0,t=Ia(null,t,r,e,n))}return t;case 0:return Ia(e,t,t.type,t.pendingProps,n);case 1:return Da(e,t,r=t.type,s=ma(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;s=o.element,ro(e,t),uo(t,r,null,n);var a=t.memoizedState;if(r=a.cache,bs(0,Ns,r),r!==o.cache&&Ss(t,[Ns],n,!0),co(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=za(e,t,r,n);break e}if(r!==s){gs(s=Cr(Error(i(424)),t)),t=za(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ss=vd(e.firstChild),rs=t,os=!0,is=null,as=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===s){t=Za(e,t,n);break e}ja(e,t,r,n)}t=t.child}return t;case 26:return Aa(e,t),null===e?(n=jd(t.type,null,t.pendingProps,null))?t.memoizedState=n:os||(n=t.type,e=t.pendingProps,(r=rd(V.current).createElement(n))[Ne]=t,r[Me]=e,ed(r,n,e),qe(r),t.stateNode=r):t.memoizedState=jd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&os&&(r=t.stateNode=wd(t.type,t.pendingProps,V.current),rs=t,as=!0,s=ss,pd(t.type)?(yd=s,ss=vd(r.firstChild)):ss=s),ja(e,t,t.pendingProps.children,n),Aa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&os&&((s=r=ss)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===o)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,as))?(t.stateNode=r,rs=t,ss=vd(r.firstChild),as=!1,s=!0):s=!1),s||cs(t)),$(t),s=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,id(s,o)?r=null:null!==a&&id(s,a)&&(t.flags|=32),null!==t.memoizedState&&(s=No(e,t,Io,null,null,n),$d._currentValue=s),Aa(e,t),ja(e,t,r,n),t.child;case 6:return null===e&&os&&((e=n=ss)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,as))?(t.stateNode=n,rs=t,ss=null,e=!0):e=!1),e||cs(t)),null;case 13:return Ha(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):ja(e,t,r,n),t.child;case 11:return Pa(e,t,t.type,t.pendingProps,n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bs(0,t.type,r.value),ja(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Es(t),r=r(s=_s(s)),t.flags|=1,ja(e,t,r,n),t.child;case 14:return Oa(e,t,t.type,t.pendingProps,n);case 15:return Ta(e,t,t.type,t.pendingProps,n);case 19:return $a(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Va(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=zr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Na(e,t,n);case 24:return Es(t),r=_s(Ns),null===e?(null===(s=Hs())&&(s=rc,o=Ms(),s.pooledCache=o,o.refCount++,null!==o&&(s.pooledCacheLanes|=n),s=o),t.memoizedState={parent:r,cache:s},no(t),bs(0,Ns,s)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),s=e.memoizedState,o=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),bs(0,Ns,r)):(r=o.cache,bs(0,Ns,r),r!==s.cache&&Ss(t,[Ns],n,!0))),ja(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Ya(e){e.flags|=4}function Xa(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Fd(t)){if(null!==(t=sa.current)&&((4194048&oc)===oc?null!==oa:(62914560&oc)!==oc&&0===(536870912&oc)||t!==oa))throw Ys=$s,Gs;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?xe():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!os)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ws(Ns),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hs(t)?Ya(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fs())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Ya(t),null!==n?(nl(t),Xa(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ya(t),nl(t),Xa(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ya(t),nl(t),t.flags&=-16777217),null;case 27:Z(t),n=V.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ya(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}e=H.current,hs(t)?us(t):(e=wd(s,r,n),t.stateNode=e,Ya(t))}return nl(t),null;case 5:if(Z(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ya(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}if(e=H.current,hs(t))us(t);else{switch(s=rd(V.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Ne]=t,e[Me]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ya(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ya(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=V.current,hs(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=rs))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Ne]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Ju(e.nodeValue,n)))||cs(t)}else(e=rd(e).createTextNode(r))[Ne]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[Ne]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),s=!1}else s=fs(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&Bu(t.stateNode.containerInfo),nl(t),null;case 10:return ws(t.type),nl(t),null;case 19:if(B(ua),null===(s=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(o=s.rendering))if(r)tl(s,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=da(e))){for(t.flags|=128,tl(s,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return F(ua,1&ua.current|2),t.child}e=e.sibling}null!==s.tail&&te()>Sc&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=da(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!os)return nl(t),null}else 2*te()-s.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=s.last)?e.sibling=o:t.child=o,s.last=o)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=te(),t.sibling=null,e=ua.current,F(ua,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),yo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Fs),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ws(Ns),nl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function sl(e,t){switch(ns(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ws(Ns),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(ua),null;case 4:return K(),null;case 10:return ws(t.type),null;case 22:case 23:return ca(t),yo(),null!==e&&B(Fs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ws(Ns),null;default:return null}}function ol(e,t){switch(ns(t),t.tag){case 3:ws(Ns),K();break;case 26:case 27:case 5:Z(t);break;case 4:K();break;case 13:ca(t);break;case 19:B(ua);break;case 10:ws(t.type);break;case 22:case 23:ca(t),yo(),null!==e&&B(Fs);break;case 24:ws(Ns)}}function il(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var o=n.create,i=n.inst;r=o(),i.destroy=r}n=n.next}while(n!==s)}}catch(a){uu(t,t.return,a)}}function al(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var o=s.next;r=o;do{if((r.tag&e)===e){var i=r.inst,a=i.destroy;if(void 0!==a){i.destroy=void 0,s=t;var l=n,c=a;try{c()}catch(u){uu(s,l,u)}}}r=r.next}while(r!==o)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{po(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=ma(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(s){uu(e,t,s)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(s){uu(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){uu(e,e.return,s)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,o=null,a=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||Yu(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":o=f;break;case"name":s=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:f!==h&&Yu(e,t,p,f,r,h)}}return void mt(e,a,l,c,u,d,o,s);case"select":for(o in f=a=l=p=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(o)||Yu(e,t,o,null,r,c)}for(s in r)if(o=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=o||null!=c))switch(s){case"value":p=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&Yu(e,t,s,o,r,c)}return t=l,n=a,r=f,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Yu(e,t,l,null,r,s)}for(a in r)if(s=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=s||null!=o))switch(a){case"value":p=s;break;case"defaultValue":f=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:s!==o&&Yu(e,t,a,s,r,o)}return void wt(e,p,f);case"option":for(var g in n)if(p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Yu(e,t,g,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Yu(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m)&&Yu(e,t,m,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:Yu(e,t,u,p,r,f)}return;default:if(_t(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&Xu(e,t,v,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||Xu(e,t,d,p,r,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&Yu(e,t,y,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||Yu(e,t,h,p,r,f)}(r,e.type,n,t),r[Me]=t}catch(s){uu(e,e.return,s)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qu));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ed(t,r,n),t[Ne]=e,t[Me]=n}catch(o){uu(e,e.return,o)}}var bl=!1,wl=!1,kl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,xl=null;function Cl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Dl(e,n),4&r&&il(5,n);break;case 1:if(Dl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){uu(n,n.return,i)}else{var s=ma(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(n,n.return,a)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Dl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{po(e,t)}catch(i){uu(n,n.return,i)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Dl(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Dl(e,n);break;case 13:Dl(e,n),4&r&&Ol(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,s=bl;var o=wl;bl=r,(wl=t)&&!o?Ul(e,n,0!==(8772&n.subtreeFlags)):Dl(e,n),bl=s,wl=o}break;case 30:break;default:Dl(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _l=null,Ll=!1;function jl(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:wl||dl(n,t),jl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=_l,s=Ll;pd(n.type)&&(_l=n.stateNode,Ll=!1),jl(e,t,n),kd(n.stateNode),_l=r,Ll=s;break;case 5:wl||dl(n,t);case 6:if(r=_l,s=Ll,_l=null,jl(e,t,n),Ll=s,null!==(_l=r))if(Ll)try{(9===_l.nodeType?_l.body:"HTML"===_l.nodeName?_l.ownerDocument.body:_l).removeChild(n.stateNode)}catch(i){uu(n,t,i)}else try{_l.removeChild(n.stateNode)}catch(i){uu(n,t,i)}break;case 18:null!==_l&&(Ll?(fd(9===(e=_l).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Lh(e)):fd(_l,n.stateNode));break;case 4:r=_l,s=Ll,_l=n.stateNode.containerInfo,Ll=!0,jl(e,t,n),_l=r,Ll=s;break;case 0:case 11:case 14:case 15:wl||al(2,n,t),wl||al(4,n,t),jl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),jl(e,t,n);break;case 21:jl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,jl(e,t,n),wl=r;break;default:jl(e,t,n)}}function Ol(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Lh(e)}catch(n){uu(t,t.return,n)}}function Tl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Nl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){_l=l.stateNode,Ll=!1;break e}break;case 5:_l=l.stateNode,Ll=!1;break e;case 3:case 4:_l=l.stateNode.containerInfo,Ll=!0;break e}l=l.return}if(null===_l)throw Error(i(160));Pl(o,a,s),_l=null,Ll=!1,null!==(o=s.alternate)&&(o.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Al(t,e),t=t.sibling}var Ml=null;function Al(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nl(t,e),Il(e),4&r&&(al(3,e,e.return),il(3,e),al(5,e,e.return));break;case 1:Nl(t,e),Il(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=Ml;if(Nl(t,e),Il(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(o=s.getElementsByTagName("title")[0])||o[Ue]||o[Ne]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=s.createElement(r),s.head.insertBefore(o,s.querySelector("head > title"))),ed(o,r,n),o[Ne]=e,qe(o),r=o;break e;case"link":var a=Ud("link","href",s).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(o=s.createElement(r),r,n),s.head.appendChild(o);break;case"meta":if(a=Ud("meta","content",s).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(o=s.createElement(r),r,n),s.head.appendChild(o);break;default:throw Error(i(468,r))}o[Ne]=e,qe(o),r=o}e.stateNode=r}else Bd(s,e.type,e.stateNode);else e.stateNode=Ad(s,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Bd(s,e.type,e.stateNode):Ad(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nl(t,e),Il(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nl(t,e),Il(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){s=e.stateNode;try{St(s,"")}catch(f){uu(e,e.return,f)}}4&r&&null!=e.stateNode&&pl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(kl=!0);break;case 6:if(Nl(t,e),Il(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){uu(e,e.return,f)}}break;case 3:if(zd=null,s=Ml,Ml=Cd(t.containerInfo),Nl(t,e),Ml=s,Il(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Lh(t.containerInfo)}catch(f){uu(e,e.return,f)}kl&&(kl=!1,Rl(e));break;case 4:r=Ml,Ml=Cd(e.stateNode.containerInfo),Nl(t,e),Il(e),Ml=r;break;case 12:default:Nl(t,e),Il(e);break;case 13:Nl(t,e),Il(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(kc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Tl(e,r)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||s,wl=d||c,Nl(t,e),wl=d,bl=u,Il(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||bl||wl||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,s)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Tl(e,n))));break;case 19:Nl(t,e),Il(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Tl(e,r)));case 30:case 21:}}function Il(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var s=n.stateNode;vl(e,gl(e),s);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),vl(e,gl(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;ml(e,gl(e),a);break;default:throw Error(i(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Dl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),zl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),zl(t);break;case 27:kd(t.stateNode);case 26:case 5:dl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,o=t,i=o.flags;switch(o.tag){case 0:case 11:case 15:Ul(s,o,n),il(4,o);break;case 1:if(Ul(s,o,n),"function"===typeof(s=(r=o).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(s=(r=o).updateQueue)){var a=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)ho(l[s],a)}catch(c){uu(r,r.return,c)}}n&&64&i&&ll(o),ul(o,o.return);break;case 27:yl(o);case 26:case 5:Ul(s,o,n),n&&null===r&&4&i&&hl(o),ul(o,o.return);break;case 12:Ul(s,o,n);break;case 13:Ul(s,o,n),n&&4&i&&Ol(s,o);break;case 22:null===o.memoizedState&&Ul(s,o,n),ul(o,o.return);break;case 30:break;default:Ul(s,o,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&As(n))}function Fl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&As(e))}function Hl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Wl(e,t,n,r),t=t.sibling}function Wl(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Hl(e,t,n,r),2048&s&&il(9,t);break;case 1:case 13:default:Hl(e,t,n,r);break;case 3:Hl(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&As(e)));break;case 12:if(2048&s){Hl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,i=o.id,a=o.onPostCommit;"function"===typeof a&&a(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Hl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,i=t.alternate,null!==t.memoizedState?2&o._visibility?Hl(e,t,n,r):ql(e,t):2&o._visibility?Hl(e,t,n,r):(o._visibility|=2,Vl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&s&&Bl(i,t);break;case 24:Hl(e,t,n,r),2048&s&&Fl(t.alternate,t)}}function Vl(e,t,n,r,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,i=t,a=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:Vl(o,i,a,l,s),il(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Vl(o,i,a,l,s):ql(o,i):(u._visibility|=2,Vl(o,i,a,l,s)),s&&2048&c&&Bl(i.alternate,i);break;case 24:Vl(o,i,a,l,s),s&&2048&c&&Fl(i.alternate,i);break;default:Vl(o,i,a,l,s)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:ql(n,r),2048&s&&Bl(r.alternate,r);break;case 24:ql(n,r),2048&s&&Fl(r.alternate,r);break;default:ql(n,r)}t=t.sibling}}var Gl=8192;function Kl(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 26:Kl(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Hd)throw Error(i(475));var r=Hd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=Pd(n.href),o=e.querySelector(Od(s));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Vd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void qe(o);o=e.ownerDocument||e,n=Td(n),(s=Sd.get(s))&&Rd(n,s),qe(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Vd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Ml;Ml=Cd(e.stateNode.containerInfo),Kl(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Kl(e),Gl=t):Kl(e))}}function Zl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,Xl(r,e)}Zl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Jl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Jl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Yl(e)):Jl(e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,Xl(r,e)}Zl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Yl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Yl(t));break;default:Yl(t)}e=e.sibling}}function Xl(e,t){for(;null!==xl;){var n=xl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:As(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,xl=r;else e:for(n=e;null!==xl;){var s=(r=xl).sibling,o=r.return;if(El(r),r===n){xl=null;break e}if(null!==s){s.return=o,xl=s;break e}xl=o}}}var ec={getCacheForType:function(e){var t=_s(Ns),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,sc=null,oc=0,ic=0,ac=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,pc=0,fc=0,gc=0,mc=0,vc=0,yc=null,bc=null,wc=!1,kc=0,Sc=1/0,xc=null,Cc=null,Ec=0,_c=null,Lc=null,jc=0,Pc=0,Oc=null,Tc=null,Nc=0,Mc=null;function Ac(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==A.T){return 0!==Ds?Ds:Pu()}return Oe()}function Ic(){0===mc&&(mc=0===(536870912&oc)||os?Se():536870912);var e=sa.current;return null!==e&&(e.flags|=32),mc}function Rc(e,t,n){(e!==rc||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(Wc(e,0),Bc(e,oc,mc,!1)),Ee(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(fc|=n),4===hc&&Bc(e,oc,mc,!1)),Su(e))}function Dc(e,t,n){if(0!==(6&nc))throw Error(i(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),s=r?function(e,t){var n=nc;nc|=2;var r=qc(),s=Gc();rc!==e||oc!==t?(xc=null,Sc=te()+500,Wc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==ic&&null!==sc){t=sc;var o=ac;t:switch(ic){case 1:ic=0,ac=null,Xc(e,t,o,1);break;case 2:case 9:if(Zs(o)){ic=0,ac=null,Yc(t);break}t=function(){2!==ic&&9!==ic||rc!==e||(ic=7),Su(e)},o.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:Zs(o)?(ic=0,ac=null,Yc(t)):(ic=0,ac=null,Xc(e,t,o,7));break;case 5:var a=null;switch(sc.tag){case 26:a=sc.memoizedState;case 5:case 27:var l=sc;if(!a||Fd(a)){ic=0,ac=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,eu(u)):sc=null}break t}}ic=0,ac=null,Xc(e,t,o,5);break;case 6:ic=0,ac=null,Xc(e,t,o,6);break;case 8:Hc(),hc=6;break e;default:throw Error(i(462))}}Jc();break}catch(d){Vc(e,d)}return ys=vs=null,A.H=r,A.A=s,nc=n,null!==sc?0:(rc=null,oc=0,jr(),hc)}(e,t):$c(e,t,!0),o=r;;){if(0===s){cc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!o||Uc(n)){if(2===s){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;s=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,a).flags|=256),2!==(a=$c(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,fc|=o,s=4;break e}o=bc,bc=s,null!==o&&(null===bc?bc=o:bc.push.apply(bc,o))}s=a}if(o=!1,2!==s)continue}}if(1===s){Wc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,o=s){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,mc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(s=kc+300-te())){if(Bc(r,t,mc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(zc.bind(null,r,n,bc,xc,wc,t,mc,fc,vc,lc,o,2,-0,0),s)}else zc(r,n,bc,xc,wc,t,mc,fc,vc,lc,o,0,-0,0)}break}s=$c(e,t,!1),o=!1}Su(e)}function zc(e,t,n,r,s,o,a,l,c,u,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Hd={stylesheets:null,count:0,unsuspend:Wd},$l(t),null!==(h=function(){if(null===Hd)throw Error(i(475));var e=Hd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,o,n,r,s,a,l,c,d,1,p,f)),void Bc(e,o,a,!u);nu(e,t,o,n,r,s,a,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Zn(o(),s))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~gc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var o=31-pe(s),i=1<<o;r[o]=-1,s&=~i}0!==n&&_e(e,n,t)}function Fc(){return 0!==(6&nc)||(xu(0,!1),!1)}function Hc(){if(null!==sc){if(0===ic)var e=sc.return;else ys=vs=null,zo(e=sc),Zi=null,Ji=0,e=sc;for(;null!==e;)ol(e.alternate,e),e=e.return;sc=null}}function Wc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc(),rc=e,sc=n=zr(e.current,null),oc=t,ic=0,ac=null,lc=!1,cc=we(e,t),uc=!1,vc=mc=gc=fc=pc=hc=0,bc=yc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-pe(r),o=1<<s;t|=e[s],r&=~o}return dc=t,jr(),n}function Vc(e,t){wo=null,A.H=qi,t===qs||t===Ks?(t=Xs(),ic=3):t===Gs?(t=Xs(),ic=4):ic=t===_a?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===sc&&(hc=1,ka(e,Cr(t,e.current)))}function qc(){var e=A.H;return A.H=qi,null===e?qi:e}function Gc(){var e=A.A;return A.A=ec,e}function Kc(){hc=4,lc||(4194048&oc)!==oc&&null!==sa.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===rc||Bc(rc,oc,mc,!1)}function $c(e,t,n){var r=nc;nc|=2;var s=qc(),o=Gc();rc===e&&oc===t||(xc=null,Wc(e,t)),t=!1;var i=hc;e:for(;;)try{if(0!==ic&&null!==sc){var a=sc,l=ac;switch(ic){case 8:Hc(),i=6;break e;case 3:case 2:case 9:case 6:null===sa.current&&(t=!0);var c=ic;if(ic=0,ac=null,Xc(e,a,l,c),n&&cc){i=0;break e}break;default:c=ic,ic=0,ac=null,Xc(e,a,l,c)}}Zc(),i=hc;break}catch(u){Vc(e,u)}return t&&e.shellSuspendCounter++,ys=vs=null,nc=r,A.H=s,A.A=o,null===sc&&(rc=null,oc=0,jr()),i}function Zc(){for(;null!==sc;)Qc(sc)}function Jc(){for(;null!==sc&&!X();)Qc(sc)}function Qc(e){var t=Qa(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Yc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ra(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Ra(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:zo(t);default:ol(n,t),t=Qa(n,t=sc=Ur(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Xc(e,t,n,r){ys=vs=null,zo(t),Zi=null,Ji=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&xs(t,n,s,!0),null!==(n=sa.current)){switch(n.tag){case 13:return null===oa?Kc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===$s?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,s)),!1;case 22:return n.flags|=65536,r===$s?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,s)),!1}throw Error(i(435,n.tag))}return du(e,r,s),Kc(),!1}if(os)return null!==(t=sa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==ls&&gs(Cr(e=Error(i(422),{cause:r}),n))):(r!==ls&&gs(Cr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Cr(r,n),ao(e,s=xa(e.stateNode,r,s)),4!==hc&&(hc=2)),!1;var o=Error(i(520),{cause:r});if(o=Cr(o,n),null===yc?yc=[o]:yc.push(o),4!==hc&&(hc=2),null===t)return!0;r=Cr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,ao(n,e=xa(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Cc||!Cc.has(o))))return n.flags|=65536,s&=-s,n.lanes|=s,Ea(s=Ca(s),e,n,r),ao(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,oc))return hc=1,ka(e,Cr(n,e.current)),void(sc=null)}catch(o){if(null!==s)throw sc=s,o;return hc=1,ka(e,Cr(n,e.current)),void(sc=null)}32768&t.flags?(os||1===r?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=sa.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);hc=6,sc=null}function nu(e,t,n,r,s,o,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==Ec);if(0!==(6&nc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,s,o){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-pe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&_e(e,r,0),0!==o&&0===s&&0!==e.tag&&(e.suspendedLanes|=o&~(i&~t))}(e,n,o|=Lr,a,l,c),e===rc&&(sc=rc=null,oc=0),Lc=t,_c=e,jc=n,Pc=o,Oc=s,Tc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(oe,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=A.T,A.T=null,s=I.p,I.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==s&&3!==h.nodeType||(l=a+s),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===s&&(l=a),p===o&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,xl=t;null!==xl;)if(e=(t=xl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,xl=e;else for(;null!==xl;){switch(o=(t=xl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,s=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var g=ma(n.type,s,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,xl=e;break}xl=t.return}}(e,t)}finally{nc=a,I.p=s,A.T=r}}Ec=1,ru(),su(),ou()}}function ru(){if(1===Ec){Ec=0;var e=_c,t=Lc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=A.T,A.T=null;var r=I.p;I.p=2;var s=nc;nc|=4;try{Al(t,e);var o=nd,i=er(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(i!==a&&a&&a.ownerDocument&&Xn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=a.textContent.length,g=Math.min(l.start,f),m=void 0===l.end?g:Math.min(l.end,f);!p.extend&&g>m&&(i=m,m=g,g=i);var v=Yn(a,g),y=Yn(a,m);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),p.removeAllRanges(),g>m?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(d=[],p=a;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=s,I.p=r,A.T=n}}e.current=t,Ec=2}}function su(){if(2===Ec){Ec=0;var e=_c,t=Lc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=A.T,A.T=null;var r=I.p;I.p=2;var s=nc;nc|=4;try{Cl(e,t.alternate,t)}finally{nc=s,I.p=r,A.T=n}}Ec=3}}function ou(){if(4===Ec||3===Ec){Ec=0,ee();var e=_c,t=Lc,n=jc,r=Tc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,Lc=_c=null,iu(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Cc=null),Pe(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=A.T,s=I.p,I.p=2,A.T=null;try{for(var o=e.onRecoverableError,i=0;i<r.length;i++){var a=r[i];o(a.value,{componentStack:a.stack})}}finally{A.T=t,I.p=s}}0!==(3&jc)&&au(),Su(e),s=e.pendingLanes,0!==(4194090&n)&&0!==(42&s)?e===Mc?Nc++:(Nc=0,Mc=e):Nc=0,xu(0,!1)}}function iu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,As(t)))}function au(e){return ru(),su(),ou(),lu()}function lu(){if(5!==Ec)return!1;var e=_c,t=Pc;Pc=0;var n=Pe(jc),r=A.T,s=I.p;try{I.p=32>n?32:n,A.T=null,n=Oc,Oc=null;var o=_c,a=jc;if(Ec=0,Lc=_c=null,jc=0,0!==(6&nc))throw Error(i(331));var l=nc;if(nc|=4,Ql(o.current),Wl(o,o.current,a,n),nc=l,xu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{I.p=s,A.T=r,iu(e,t)}}function cu(e,t,n){t=Cr(n,t),null!==(e=oo(e,t=xa(e.stateNode,t,2),2))&&(Ee(e,2),Su(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Cc||!Cc.has(r))){e=Cr(n,e),null!==(r=oo(t,n=Ca(2),2))&&(Ea(n,r,t,e),Ee(r,2),Su(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(uc=!0,s.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===hc||3===hc&&(62914560&oc)===oc&&300>te()-kc?0===(2&nc)&&Wc(e,0):gc|=n,vc===oc&&(vc=0)),Su(e)}function pu(e,t){0===t&&(t=xe()),null!==(e=Tr(e,t))&&(Ee(e,t),Su(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),pu(e,n)}var mu=null,vu=null,yu=!1,bu=!1,wu=!1,ku=0;function Su(e){e!==vu&&null===e.next&&(null===vu?mu=vu=e:vu=vu.next=e),bu=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?Q(re,Cu):Eu()}))}function xu(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=mu;null!==r;){if(!t)if(0!==e){var s=r.pendingLanes;if(0===s)var o=0;else{var i=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-pe(42|e)+1)-1,o=201326741&(o&=s&~(i&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,ju(r,o))}else o=oc,0===(3&(o=be(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,o)||(n=!0,ju(r,o));r=r.next}}while(n);wu=!1}}function Cu(){Eu()}function Eu(){bu=yu=!1;var e=0;0!==ku&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=ku),ku=0);for(var t=te(),n=null,r=mu;null!==r;){var s=r.next,o=_u(r,t);0===o?(r.next=null,null===n?mu=s:n.next=s,null===s&&(vu=n)):(n=r,(0!==e||0!==(3&o))&&(bu=!0)),r=s}xu(e,!1)}function _u(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var i=31-pe(o),a=1<<i,l=s[i];-1===l?0!==(a&n)&&0===(a&r)||(s[i]=ke(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=oc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Y(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Y(r),Pe(n)){case 2:case 8:n=se;break;case 32:default:n=oe;break;case 268435456:n=ae}return r=Lu.bind(null,e),n=Q(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Y(r),e.callbackPriority=2,e.callbackNode=null,2}function Lu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Dc(e,r,t),_u(e,te()),null!=e.callbackNode&&e.callbackNode===n?Lu.bind(null,e):null)}function ju(e,t){if(au())return null;Dc(e,t,!0)}function Pu(){return 0===ku&&(ku=Se()),ku}function Ou(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Tu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nu=0;Nu<kr.length;Nu++){var Mu=kr[Nu];Sr(Mu.toLowerCase(),"on"+(Mu[0].toUpperCase()+Mu.slice(1)))}Sr(pr,"onAnimationEnd"),Sr(fr,"onAnimationIteration"),Sr(gr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(mr,"onTransitionRun"),Sr(vr,"onTransitionStart"),Sr(yr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),Ze("onMouseEnter",["mouseout","mouseover"]),Ze("onMouseLeave",["mouseout","mouseover"]),Ze("onPointerEnter",["pointerout","pointerover"]),Ze("onPointerLeave",["pointerout","pointerover"]),$e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$e("onBeforeInput",["compositionend","keypress","textInput","paste"]),$e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function Ru(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;o=a,s.currentTarget=c;try{o(s)}catch(u){va(u)}s.currentTarget=null,o=l}else for(i=0;i<r.length;i++){if(l=(a=r[i]).instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;o=a,s.currentTarget=c;try{o(s)}catch(u){va(u)}s.currentTarget=null,o=l}}}}function Du(e,t){var n=t[Ie];void 0===n&&(n=t[Ie]=new Set);var r=e+"__bubble";n.has(r)||(Fu(t,e,2,!1),n.add(r))}function zu(e,t,n){var r=0;t&&(r|=4),Fu(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[Uu]){e[Uu]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Iu.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,zu("selectionchange",!1,t))}}function Fu(e,t,n,r){switch(ch(t)){case 2:var s=rh;break;case 8:s=sh;break;default:s=oh}n=s.bind(null,t,n,e),s=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Hu(e,t,n,r,s){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var a=r.stateNode.containerInfo;if(a===s)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===s)return;i=i.return}for(;null!==a;){if(null===(i=Fe(a)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=o=i;continue e}a=a.parentNode}}r=r.return}Rt(function(){var r=o,s=Tt(n),i=[];e:{var a=wr.get(e);if(void 0!==a){var c=Xt,u=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case pr:case fr:case gr:c=an;break;case br:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==a?a+"Capture":null:a;d=[];for(var f,g=r;null!==g;){var m=g;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===p||null!=(m=Dt(g,p))&&d.push(Wu(g,m,f)),h)break;g=g.return}0<d.length&&(a=new c(a,u,null,n,s),i.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Ot||!(u=n.relatedTarget||n.fromElement)||!Fe(u)&&!u[Ae])&&(c||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Fe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,m="onMouseLeave",p="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=mn,m="onPointerLeave",p="onPointerEnter",g="pointer"),h=null==c?a:We(c),f=null==u?a:We(u),(a=new d(m,g+"leave",c,n,s)).target=h,a.relatedTarget=f,m=null,Fe(s)===r&&((d=new d(p,g+"enter",u,n,s)).target=f,d.relatedTarget=h,m=d),h=m,c&&u)e:{for(p=u,g=0,f=d=c;f;f=qu(f))g++;for(f=0,m=p;m;m=qu(m))f++;for(;0<g-f;)d=qu(d),g--;for(;0<f-g;)p=qu(p),f--;for(;g--;){if(d===p||null!==p&&d===p.alternate)break e;d=qu(d),p=qu(p)}d=null}else d=null;null!==c&&Gu(i,a,c,d,!1),null!==u&&null!==h&&Gu(i,h,u,d,!0)}if("select"===(c=(a=r?We(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=zn;else if(Nn(a))if(Un)v=$n;else{v=Gn;var y=qn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&_t(r.elementType)&&(v=zn):v=Kn;switch(v&&(v=v(e,r))?Mn(i,v,n,s):(y&&y(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&yt(a,"number",a.value)),y=r?We(r):window,e){case"focusin":(Nn(y)||"true"===y.contentEditable)&&(rr=y,sr=r,or=null);break;case"focusout":or=sr=rr=null;break;case"mousedown":ir=!0;break;case"contextmenu":case"mouseup":case"dragend":ir=!1,ar(i,n,s);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(i,n,s)}var b;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else On?jn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(En&&"ko"!==n.locale&&(On||"onCompositionStart"!==w?"onCompositionEnd"===w&&On&&(b=Vt()):(Ht="value"in(Ft=s)?Ft.value:Ft.textContent,On=!0)),0<(y=Vu(r,w)).length&&(w=new cn(w,e,null,n,s),i.push({event:w,listeners:y}),b?w.data=b:null!==(b=Pn(n))&&(w.data=b))),(b=Cn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(Ln=!0,_n);case"textInput":return(e=t.data)===_n&&Ln?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!Sn&&jn(e,t)?(e=Vt(),Wt=Ht=Ft=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Vu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,s),i.push({event:y,listeners:w}),y.data=b)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var o=Ou((s[Me]||null).action),i=r.submitter;i&&null!==(t=(t=i[Me]||null)?Ou(t.formAction):i.getAttribute("formAction"))&&(o=t,i=null);var a=new Xt("action","action",null,r,s);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ku){var e=i?Tu(s,i):new FormData(s);Ti(n,{pending:!0,data:e,method:s.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=i?Tu(s,i):new FormData(s),Ti(n,{pending:!0,data:e,method:s.method,action:o},o,e))},currentTarget:s}]})}}(i,e,r,n,s)}Ru(i,t)})}function Wu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,o=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===o||(null!=(s=Dt(e,n))&&r.unshift(Wu(e,s,o)),null!=(s=Dt(e,t))&&r.push(Wu(e,s,o))),3===e.tag)return r;e=e.return}return[]}function qu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,s){for(var o=t._reactName,i=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,s?null!=(c=Dt(n,o))&&i.unshift(Wu(n,c,l)):s||null!=(c=Dt(n,o))&&i.push(Wu(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Ku=/\r\n?/g,$u=/\u0000|\uFFFD/g;function Zu(e){return("string"===typeof e?e:""+e).replace(Ku,"\n").replace($u,"")}function Ju(e,t){return t=Zu(t),Zu(e)===t}function Qu(){}function Yu(e,t,n,r,s,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Et(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Yu(e,t,"name",s.name,s,null),Yu(e,t,"formEncType",s.formEncType,s,null),Yu(e,t,"formMethod",s.formMethod,s,null),Yu(e,t,"formTarget",s.formTarget,s,null)):(Yu(e,t,"encType",s.encType,s,null),Yu(e,t,"method",s.method,s,null),Yu(e,t,"target",s.target,s,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Qu);break;case"onScroll":null!=r&&Du("scroll",e);break;case"onScrollEnd":null!=r&&Du("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Du("beforetoggle",e),Du("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Lt.get(n)||n,r)}}function Xu(e,t,n,r,s,o){switch(n){case"style":Et(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Du("scroll",e);break;case"onScrollEnd":null!=r&&Du("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Me]||null)?o[n]:null)&&e.removeEventListener(t,o,s),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Du("error",e),Du("load",e);var r,s=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Yu(e,t,r,a,n,null)}}return o&&Yu(e,t,"srcSet",n.srcSet,n,null),void(s&&Yu(e,t,"src",n.src,n,null));case"input":Du("invalid",e);var l=r=a=o=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Yu(e,t,s,d,n,null)}}return vt(e,r,l,c,u,a,o,!1),void dt(e);case"select":for(o in Du("invalid",e),s=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":s=l;default:Yu(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!s,void(null!=t?bt(e,!!s,t,!1):null!=n&&bt(e,!!s,n,!0));case"textarea":for(a in Du("invalid",e),r=o=s=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":s=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Yu(e,t,a,l,n,null)}return kt(e,s,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Yu(e,t,c,s,n,null);return;case"dialog":Du("beforetoggle",e),Du("toggle",e),Du("cancel",e),Du("close",e);break;case"iframe":case"object":Du("load",e);break;case"video":case"audio":for(s=0;s<Au.length;s++)Du(Au[s],e);break;case"image":Du("error",e),Du("load",e);break;case"details":Du("toggle",e);break;case"embed":case"source":case"link":Du("error",e),Du("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Yu(e,t,u,s,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&Xu(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&Yu(e,t,l,s,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function id(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function fd(e,t){var n=t,r=0,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var i=e.ownerDocument;if(1&n&&kd(i.documentElement),2&n&&kd(i.body),4&n)for(kd(n=i.head),i=n.firstChild;i;){var a=i.nextSibling,l=i.nodeName;i[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=a}}if(0===s)return e.removeChild(o),void Lh(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Lh(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function md(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function kd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var Sd=new Map,xd=new Set;function Cd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=I.d;I.d={f:function(){var e=Ed.f(),t=Fc();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?Mi(t):Ed.r(e)},D:function(e){Ed.D(e),Ld("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Ld("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=_d;if(r&&e&&t){var s='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+gt(n.imageSizes)+'"]')):s+='[href="'+gt(e)+'"]';var o=s;switch(t){case"style":o=Pd(e);break;case"script":o=Nd(e)}Sd.has(o)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(o,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Od(o))||"script"===t&&r.querySelector(Md(o))||(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=_d;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',o=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Nd(e)}if(!Sd.has(o)&&(e=h({rel:"modulepreload",href:e},t),Sd.set(o,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Md(o)))return}ed(r=n.createElement("link"),"link",e),qe(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=_d;if(n&&e){var r=Ve(n).hoistableScripts,s=Nd(e),o=r.get(s);o||((o=n.querySelector(Md(s)))||(e=h({src:e,async:!0},t),(t=Sd.get(s))&&Dd(e,t),qe(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}},S:function(e,t,n){Ed.S(e,t,n);var r=_d;if(r&&e){var s=Ve(r).hoistableStyles,o=Pd(e);t=t||"default";var i=s.get(o);if(!i){var a={loading:0,preload:null};if(i=r.querySelector(Od(o)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(o))&&Rd(e,n);var l=i=r.createElement("link");qe(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Id(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:a},s.set(o,i)}}},M:function(e,t){Ed.M(e,t);var n=_d;if(n&&e){var r=Ve(n).hoistableScripts,s=Nd(e),o=r.get(s);o||((o=n.querySelector(Md(s)))||(e=h({src:e,async:!0,type:"module"},t),(t=Sd.get(s))&&Dd(e,t),qe(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}}};var _d="undefined"===typeof document?null:document;function Ld(e,t,n){var r=_d;if(r&&"string"===typeof t&&t){var s=gt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),xd.has(s)||(xd.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}}function jd(e,t,n,r){var s,o,a,l,c=(c=V.current)?Cd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Pd(n.href),(r=(n=Ve(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Pd(n.href);var u=Ve(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Od(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),u||(s=c,o=e,a=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=s.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),ed(o,"link",a),qe(o),s.head.appendChild(o))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Nd(n),(r=(n=Ve(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Pd(e){return'href="'+gt(e)+'"'}function Od(e){return'link[rel="stylesheet"]['+e+"]"}function Td(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Nd(e){return'[src="'+gt(e)+'"]'}function Md(e){return"script[async]"+e}function Ad(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,qe(r),r;var s=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",s),Id(r,n.precedence,e),t.instance=r;case"stylesheet":s=Pd(n.href);var o=e.querySelector(Od(s));if(o)return t.state.loading|=4,t.instance=o,qe(o),o;r=Td(n),(s=Sd.get(s))&&Rd(r,s),qe(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(o,"link",r),t.state.loading|=4,Id(o,n.precedence,e),t.instance=o;case"script":return o=Nd(n.src),(s=e.querySelector(Md(o)))?(t.instance=s,qe(s),s):(r=n,(s=Sd.get(o))&&Dd(r=h({},n),s),qe(s=(e=e.ownerDocument||e).createElement("script")),ed(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Id(r,n.precedence,e));return t.instance}function Id(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,o=s,i=0;i<r.length;i++){var a=r[i];if(a.dataset.precedence===t)o=a;else if(o!==s)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Dd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zd=null;function Ud(e,t,n){if(null===zd){var r=new Map,s=zd=new Map;s.set(n,r)}else(r=(s=zd).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var o=n[s];if(!(o[Ue]||o[Ne]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var i=o.getAttribute(t)||"";i=e+i;var a=r.get(i);a?a.push(o):r.set(i,[o])}}return r}function Bd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Fd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Hd=null;function Wd(){}function Vd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var qd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,qd=new Map,t.forEach(Kd,e),qd=null,Vd.call(e))}function Kd(e,t){if(!(4&t.state.loading)){var n=qd.get(e);if(n)var r=n.get(null);else{n=new Map,qd.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<s.length;o++){var i=s[o];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(s=t.instance).getAttribute("data-precedence"),(o=n.get(i)||r)===r&&n.set(null,s),n.set(i,s),this.count++,r=Vd.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),o?o.parentNode.insertBefore(s,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var $d={$$typeof:k,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Zd(e,t,n,r,s,o,i,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=o,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Jd(e,t,n,r,s,o,i,a,l,c,u,d){return e=new Zd(e,t,n,i,a,l,c,d),t=1,!0===o&&(t|=24),o=Rr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ms()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Qd(e){return e?e=Ar:Ar}function Yd(e,t,n,r,s,o){s=Qd(s),null===r.context?r.context=s:r.pendingContext=s,(r=so(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Rc(n,0,t),io(n,e,t))}function Xd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Xd(e,t),(e=e.alternate)&&Xd(e,t)}function th(e){if(13===e.tag){var t=Tr(e,67108864);null!==t&&Rc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var s=A.T;A.T=null;var o=I.p;try{I.p=2,oh(e,t,n,r)}finally{I.p=o,A.T=s}}function sh(e,t,n,r){var s=A.T;A.T=null;var o=I.p;try{I.p=8,oh(e,t,n,r)}finally{I.p=o,A.T=s}}function oh(e,t,n,r){if(nh){var s=ih(r);if(null===s)Hu(e,t,r,ah,n),yh(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,s),!0;case"dragenter":return hh=bh(hh,e,t,n,r,s),!0;case"mouseover":return ph=bh(ph,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return fh.set(o,bh(fh.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,gh.set(o,bh(gh.get(o)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(yh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==s;){var o=He(s);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var i=ye(o.pendingLanes);if(0!==i){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;i;){var l=1<<31-pe(i);a.entanglements[1]|=l,i&=~l}Su(o),0===(6&nc)&&(Sc=te()+500,xu(0,!1))}}break;case 13:null!==(a=Tr(o,2))&&Rc(a,0,2),Fc(),eh(o,2)}if(null===(o=ih(r))&&Hu(e,t,r,ah,n),o===s)break;s=o}null!==s&&r.stopPropagation()}else Hu(e,t,r,null,n)}}function ih(e){return lh(e=Tt(e))}var ah=null;function lh(e){if(ah=null,null!==(e=Fe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ah=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case se:return 8;case oe:case ie:return 32;case ae:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,ph=null,fh=new Map,gh=new Map,mh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function bh(e,t,n,r,s,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},null!==t&&(null!==(t=He(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function wh(e){var t=Fe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}(e.priority,function(){if(13===n.tag){var e=Ac();e=je(e);var t=Tr(n,e);null!==t&&Rc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ih(e.nativeEvent);if(null!==n)return null!==(t=He(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function Sh(e,t,n){kh(e)&&n.delete(t)}function xh(){uh=!1,null!==dh&&kh(dh)&&(dh=null),null!==hh&&kh(hh)&&(hh=null),null!==ph&&kh(ph)&&(ph=null),fh.forEach(Sh),gh.forEach(Sh)}function Ch(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xh)))}var Eh=null;function _h(e){Eh!==e&&(Eh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var o=He(n);null!==o&&(e.splice(t,3),t-=3,Ti(o,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Lh(e){function t(t){return Ch(t,e)}null!==dh&&Ch(dh,e),null!==hh&&Ch(hh,e),null!==ph&&Ch(ph,e),fh.forEach(t),gh.forEach(t);for(var n=0;n<mh.length;n++){var r=mh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<mh.length&&null===(n=mh[0]).blockedOn;)wh(n),null===n.blockedOn&&mh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],o=n[r+1],i=s[Me]||null;if("function"===typeof o)i||_h(n);else if(i){var a=null;if(o&&o.hasAttribute("formAction")){if(s=o,i=o[Me]||null)a=i.formAction;else if(null!==lh(s))continue}else a=i.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),_h(n)}}}function jh(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=jh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Yd(t.current,Ac(),e,t,null,null)},Ph.prototype.unmount=jh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Yd(e.current,2,null,e,null,null),Fc(),t[Ae]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mh.length&&0!==t&&t<mh[n].priority;n++);mh.splice(n,0,e),0===n&&wh(e)}};var Oh=s.version;if("19.1.1"!==Oh)throw Error(i(527,Oh,"19.1.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(r=s.return)){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return u(s),e;if(o===r)return u(s),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,r=o;break}if(c===r){a=!0,r=s,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=s;break}if(c===r){a=!0,r=o,n=s;break}c=c.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Th={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{ue=Nh.inject(Th),de=Nh}catch(Ah){}}t.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r="",s=ya,o=ba,l=wa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Jd(e,1,!1,null,0,n,r,s,o,l,0,null),e[Ae]=t.current,Bu(e),new jh(t)}},43:(e,t,n)=>{e.exports=n(288)},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(829)),o=r(n(736));class i{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new s.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let a;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;n||r?(a=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;l.searchParams.append(t,n)})):(a="POST",c=t);const u=new Headers(this.headers);return s&&u.set("Prefer","count=".concat(s)),new o.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}}t.default=i},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(630)),o=r(n(611));t.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r,s;let i=null,a=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(a="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const s=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),o=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");s&&o&&o.length>1&&(l=parseInt(o[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:"Results contain ".concat(a.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a=1===a.length?a[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(a=[],i=null,c=200,u="OK")}catch(d){404===e.status&&""===t?(c=204,u="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(s=null===i||void 0===i?void 0:i.details)||void 0===s?void 0:s.includes("0 rows"))&&(i=null,c=200,u="OK"),i&&this.shouldThrowOnError)throw new o.default(i)}return{error:i,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var k=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},x=Object.prototype.hasOwnProperty;function C(e,t,r,s,o,i){return r=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(){}function P(e,t,s,o,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,s,o,i)}}if(u)return i=i(e),u=""===o?"."+L(e,0):o,k(i)?(s="",null!=u&&(s=u.replace(_,"$&/")+"/"),P(i,t,s,"",function(e){return e})):null!=i&&(E(i)&&(l=i,c=s+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+u,i=C(l.type,c,void 0,0,0,l.props)),t.push(i)),1;u=0;var d,f=""===o?".":o+":";if(k(e))for(var g=0;g<e.length;g++)u+=P(o=e[g],t,s,a=f+L(o,g),i);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(o=e.next()).done;)u+=P(o=o.value,t,s,a=f+L(o,g++),i);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(j,j):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,o,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function O(e,t,n){if(null==e)return e;var r=[],s=0;return P(e,r,"","",function(e){return t.call(n,e,s++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),s=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!x.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var i=Array(o),a=0;a<o;a++)i[a]=arguments[a+2];r.children=i}return C(e.type,s,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,s={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(s[r]=t[r]);var i=arguments.length-2;if(1===i)s.children=n;else if(1<i){for(var a=Array(i),l=0;l<i;l++)a[l]=arguments[l+2];s.children=a}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===s[r]&&(s[r]=i[r]);return C(e,o,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),s=S.S;null!==s&&s(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(M,N)}catch(o){N(o)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.1"},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(286));class o extends s.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=s?"".concat(s,".order"):"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s="undefined"===typeof r?"offset":"".concat(r,".offset"),o="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(s,"".concat(e)),this.url.searchParams.set(o,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(o,'; for="').concat(l,'"; options=').concat(a,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=o},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>i,Request:()=>a,Response:()=>l,default:()=>o,fetch:()=>s});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const s=r.fetch,o=r.fetch.bind(r),i=r.Headers,a=r.Request,l=r.Response},672:(e,t,n)=>{var r=n(43);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(s(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:o}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(374));class o extends s.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const o=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(s,"fts").concat(o,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=o},759:(e,t,n)=>{n.d(t,{N:()=>Yt});class r extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class s extends r{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class o extends r{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class i extends r{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var a;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(a||(a={}));var l=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};class c{constructor(e){let{headers:t={},customFetch:r,region:s=a.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return l(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:l}=t;let c={},{region:u}=t;u||(u=this.region);const d=new URL("".concat(this.url,"/").concat(e));let h;u&&"any"!==u&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u)),l&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):"string"===typeof l?(c["Content-Type"]="text/plain",h=l):"undefined"!==typeof FormData&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)));const p=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:h}).catch(e=>{throw new s(e)}),f=p.headers.get("x-relay-error");if(f&&"true"===f)throw new o(p);if(!p.ok)throw new i(p);let g,m=(null!==(n=p.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return g="application/json"===m?yield p.json():"application/octet-stream"===m?yield p.blob():"text/event-stream"===m?p:"multipart/form-data"===m?yield p.formData():yield p.text(),{data:g,error:null,response:p}}catch(r){return{data:null,error:r,response:r instanceof i||r instanceof o?r.context:void 0}}})}}var u=n(980);const{PostgrestClient:d,PostgrestQueryBuilder:h,PostgrestFilterBuilder:p,PostgrestTransformBuilder:f,PostgrestBuilder:g,PostgrestError:m}=u;const v=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process){const e=process.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},y="realtime-js/".concat("2.15.5"),b=1e4;var w,k,S,x,C,E;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(w||(w={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(k||(k={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(S||(S={})),function(e){e.websocket="websocket"}(x||(x={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(C||(C={}));class _{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const i=n.decode(e.slice(o,o+r));o+=r;const a=n.decode(e.slice(o,o+s));o+=s;return{ref:null,topic:i,event:a,payload:JSON.parse(n.decode(e.slice(o,e.byteLength)))}}}class L{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(E||(E={}));const j=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,s)=>(n[s]=P(s,e,t,r),n),{})},P=(e,t,n,r)=>{const s=t.find(t=>t.name===e),o=null===s||void 0===s?void 0:s.type,i=n[e];return o&&!r.includes(o)?O(o,i):T(i)},O=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return I(t,n)}switch(e){case E.bool:return N(t);case E.float4:case E.float8:case E.int2:case E.int4:case E.int8:case E.numeric:case E.oid:return M(t);case E.json:case E.jsonb:return A(t);case E.timestamp:return R(t);case E.abstime:case E.date:case E.daterange:case E.int4range:case E.int8range:case E.money:case E.reltime:case E.text:case E.time:case E.timestamptz:case E.timetz:case E.tsrange:case E.tstzrange:default:return T(t)}},T=e=>e,N=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},A=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},I=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const o=e.slice(1,n);try{r=JSON.parse("["+o+"]")}catch(s){r=o?o.split(","):[]}return r.map(e=>O(t,e))}return e},R=e=>"string"===typeof e?e.replace(" ","T"):e,D=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class z{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var U,B,F,H;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(U||(U={}));class W{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=W.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=W.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=W.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const s=this.cloneDeep(e),o=this.transformState(t),i={},a={};return this.map(s,(e,t)=>{o[e]||(a[e]=t)}),this.map(o,(e,t)=>{const n=s[e];if(n){const r=t.map(e=>e.presence_ref),s=n.map(e=>e.presence_ref),o=t.filter(e=>s.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);o.length>0&&(i[e]=o),l.length>0&&(a[e]=l)}else i[e]=t}),this.syncDiff(s,{joins:i,leaves:a},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,(t,r)=>{var s;const o=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),o.length>0){const n=e[t].map(e=>e.presence_ref),r=o.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,o,r)}),this.map(o,(t,n)=>{let s=e[t];if(!s)return;const o=n.map(e=>e.presence_ref);s=s.filter(e=>o.indexOf(e.presence_ref)<0),e[t]=s,r(t,s,n),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(B||(B={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(F||(F={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(H||(H={}));class V{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=k.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new z(this,S.join,this.params,this.timeout),this.rejoinTimer=new L(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=k.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=k.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=k.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=k.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=k.errored,this.rejoinTimer.scheduleTimeout())}),this._on(S.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new W(this),this.broadcastEndpointURL=D(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==k.closed){const{config:{broadcast:o,presence:i,private:a}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[F.PRESENCE]&&this.bindings[F.PRESENCE].length>0||!0===(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled),u={},d={broadcast:o,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(H.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(H.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,s=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,o=[];for(let r=0;r<s;r++){const s=t[r],{filter:{event:i,schema:a,table:l,filter:c}}=s,u=n&&n[r];if(!u||u.event!==i||u.schema!==a||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=k.errored,void(null===e||void 0===e||e(H.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));o.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=o,void(e&&e(H.SUBSCRIBED))}null===e||void 0===e||e(H.SUBSCRIBED)}).receive("error",t=>{this.state=k.errored,null===e||void 0===e||e(H.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(H.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===k.joined&&e===F.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,s,o;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(o=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===o?void 0:o.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{const{event:o,payload:i}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=k.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(S.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new z(this,S.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=k.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,s=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),o}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new z(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const o=e.toLocaleLowerCase(),{close:i,error:a,leave:l,join:c}=S;if(n&&[i,a,l,c].indexOf(o)>=0&&n!==this._joinRef())return;let u=this._onMessage(o,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===o}).map(e=>e.callback(u,n)):null===(s=this.bindings[o])||void 0===s||s.filter(e=>{var n,r,s,i,a,l;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in e){const o=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return o&&(null===(r=t.ids)||void 0===r?void 0:r.includes(o))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(a=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===o}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:o}=e,i={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:o};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===k.closed}_isJoined(){return this.state===k.joined}_isJoining(){return this.state===k.joining}_isLeaving(){return this.state===k.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&V.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(S.close,{},e)}_onError(e){this._on(S.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=k.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=j(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=j(e.columns,e.old_record)),t}}const q=()=>{},G=25e3,K=10,$=100,Z=[1e3,2e3,5e3,1e4];class J{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=b,this.transport=null,this.heartbeatIntervalMs=G,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=q,this.ref=0,this.reconnectTimer=null,this.logger=q,this.conn=null,this.sendBuffer=[],this.serializer=new _,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(x.websocket),this.httpEndpoint=D(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=v.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case w.connecting:return C.Connecting;case w.open:return C.Open;case w.closing:return C.Closing;default:return C.Closed}}isConnected(){return this.connectionState()===C.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new V("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:s}=e,o=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(s,")"),r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},$)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(a){this.log("error","error in heartbeat callback",a)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:s}=e,o=s?"(".concat(s,")"):"",i=r.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(n," ").concat(o).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(S.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:y};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(S.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(r){this.log("error","error in ".concat(e," callback"),r)}})}catch(n){this.log("error","error triggering ".concat(e," callbacks"),n)}}_setupReconnectionTimer(){this.reconnectTimer=new L(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},K)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,s,o,i,a,l,c;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:b,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:G,this.worker=null!==(s=null===e||void 0===e?void 0:e.worker)&&void 0!==s&&s,this.accessToken=null!==(o=null===e||void 0===e?void 0:e.accessToken)&&void 0!==o?o:null,this.heartbeatCallback=null!==(i=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==i?i:q,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(a=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==a?a:e=>Z[e-1]||1e4,this.encode=null!==(l=null===e||void 0===e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null===e||void 0===e?void 0:e.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class Q extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Y(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class X extends Q{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ee extends Q{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var te=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};const ne=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},re=e=>{if(Array.isArray(e))return e.map(e=>re(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const s=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[s]=re(r)}),t};var se=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};const oe=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ie=(e,t,r)=>se(void 0,void 0,void 0,function*(){const s=yield te(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof s&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,s=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new X(oe(n),r,s))}).catch(e=>{t(new ee(oe(e),e))}):t(new ee(oe(e),e))}),ae=(e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(s.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,(null===t||void 0===t?void 0:t.duplex)&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n)):s};function le(e,t,n,r,s,o){return se(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,ae(t,r,s,o)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>ie(e,a,r))})})}function ce(e,t,n,r){return se(this,void 0,void 0,function*(){return le(e,"GET",t,n,r)})}function ue(e,t,n,r,s){return se(this,void 0,void 0,function*(){return le(e,"POST",t,r,s,n)})}function de(e,t,n,r,s){return se(this,void 0,void 0,function*(){return le(e,"PUT",t,r,s,n)})}function he(e,t,n,r,s){return se(this,void 0,void 0,function*(){return le(e,"DELETE",t,r,s,n)})}var pe=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};const fe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ge={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class me{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=ne(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,r){return pe(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},ge),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const a=o.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=n,i["cache-control"]="max-age=".concat(o.cacheControl),i["content-type"]=o.contentType,a&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null===r||void 0===r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?de:ue)(this.fetch,"".concat(this.url,"/object/").concat(c),s,Object.assign({headers:i},(null===o||void 0===o?void 0:o.duplex)?{duplex:o.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}})}upload(e,t,n){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return pe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),i=new URL(this.url+"/object/upload/sign/".concat(o));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:ge.upsert},r),o=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,o["cache-control"]="max-age=".concat(t.cacheControl),o["content-type"]=t.contentType);return{data:{path:s,fullPath:(yield de(this.fetch,i.toString(),e,{headers:o})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Y(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,t){return pe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const s=yield ue(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),o=new URL(this.url+s.url),i=o.searchParams.get("token");if(!i)throw new Q("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:i},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}})}update(e,t,n){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return pe(this,void 0,void 0,function*(){try{return{data:yield ue(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}copy(e,t,n){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield ue(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield ue(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const o=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return s={signedUrl:encodeURI("".concat(this.url).concat(s.signedURL).concat(o))},{data:s,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return pe(this,void 0,void 0,function*(){try{const r=yield ue(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(s)):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}download(e,t){return pe(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield ce(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(s),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Y(o))return{data:null,error:o};throw o}})}info(e){return pe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield ce(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:re(e),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}})}exists(e){return pe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return se(this,void 0,void 0,function*(){return le(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Y(n)&&n instanceof ee){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==s&&r.push(s);const o="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let a=r.join("&");return""!==a&&(a="?".concat(a)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(o,"/public/").concat(n).concat(a))}}}remove(e){return pe(this,void 0,void 0,function*(){try{return{data:yield he(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Y(t))return{data:null,error:t};throw t}})}list(e,t,n){return pe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},fe),t),{prefix:e||""});return{data:yield ue(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}listV2(e,t){return pe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ue(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const ve={"X-Client-Info":"storage-js/".concat("2.12.1")};var ye=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};class be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const s=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."))}this.url=s.href,this.headers=Object.assign(Object.assign({},ve),t),this.fetch=ne(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ye(this,void 0,void 0,function*(){try{return{data:yield ce(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Y(e))return{data:null,error:e};throw e}})}getBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:yield ce(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Y(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return ye(this,void 0,void 0,function*(){try{return{data:yield ue(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return ye(this,void 0,void 0,function*(){try{return{data:yield de(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:yield ue(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Y(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:yield he(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Y(t))return{data:null,error:t};throw t}})}}class we extends be{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new me(this.url,this.headers,e,this.fetch)}}let ke="";ke="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Se={headers:{"X-Client-Info":"supabase-js-".concat(ke,"/").concat("2.57.4")}},xe={schema:"public"},Ce={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ee={};var _e=n(630),Le=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};const je=e=>{let t;return t=e||("undefined"===typeof fetch?_e.default:fetch),function(){return t(...arguments)}},Pe=(e,t,n)=>{const r=je(n),s="undefined"===typeof Headers?_e.Headers:Headers;return(n,o)=>Le(void 0,void 0,void 0,function*(){var i;const a=null!==(i=yield t())&&void 0!==i?i:e;let l=new s(null===o||void 0===o?void 0:o.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(a)),r(n,Object.assign(Object.assign({},o),{headers:l}))})};var Oe=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};const Te="2.71.1",Ne=3e4,Me=9e4,Ae={"X-Client-Info":"gotrue-js/".concat(Te)},Ie="X-Supabase-Api-Version",Re={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},De=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ze extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Ue(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Be extends ze{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Fe extends ze{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class He extends ze{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class We extends He{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ve extends He{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qe extends He{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ge extends He{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ke extends He{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $e extends He{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ze(e){return Ue(e)&&"AuthRetryableFetchError"===e.name}class Je extends He{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Qe extends He{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xe=" \t\n\r=".split(""),et=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Xe.length;t+=1)e[Xe[t].charCodeAt(0)]=-2;for(let t=0;t<Ye.length;t+=1)e[Ye[t].charCodeAt(0)]=t;return e})();function tt(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Ye[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Ye[e]),t.queuedBits-=6}}function nt(e,t,n){const r=et[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function rt(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)nt(e.charCodeAt(i),s,o);return t.join("")}function st(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function ot(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}st(r,t)}}function it(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)nt(e.charCodeAt(s),n,r);return new Uint8Array(t)}function at(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>tt(e,n,r)),tt(null,n,r),t.join("")}const lt=()=>"undefined"!==typeof window&&"undefined"!==typeof document,ct={tested:!1,writable:!1},ut=()=>{if(!lt())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(ct.tested)return ct.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ct.tested=!0,ct.writable=!0}catch(t){ct.tested=!0,ct.writable=!1}return ct.writable};const dt=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},ht=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},pt=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},ft=async(e,t)=>{await e.removeItem(t)};class gt{constructor(){this.promise=new gt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function mt(e){const t=e.split(".");if(3!==t.length)throw new Qe("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!De.test(t[n]))throw new Qe("JWT not in base64url format");return{header:JSON.parse(rt(t[0])),payload:JSON.parse(rt(t[1])),signature:it(t[2]),raw:{header:t[0],payload:t[1]}}}function vt(e){return("0"+e.toString(16)).substr(-2)}async function yt(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,vt).join("")}();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ht(e,"".concat(t,"-code-verifier"),s);const o=await yt(r);return[o,r===o?"plain":"s256"]}gt.promiseConstructor=Promise;const wt=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const kt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function St(e){if(!kt.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xt(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Ct(e){return JSON.parse(JSON.stringify(e))}var Et=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const _t=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lt=[502,503,504];async function jt(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new $e(_t(e),0);if(Lt.includes(e.status))throw new $e(_t(e),e.status);let r,s;try{r=await e.json()}catch(i){throw new Fe(_t(i),i)}const o=function(e){const t=e.headers.get(Ie);if(!t)return null;if(!t.match(wt))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(i){return null}}(e);if(o&&o.getTime()>=Re.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?s=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new Je(_t(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new We}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Je(_t(r),e.status,r.weak_password.reasons);throw new Be(_t(r),e.status||500,s)}async function Pt(e,t,n,r){var s;const o=Object.assign({},null===r||void 0===r?void 0:r.headers);o[Ie]||(o[Ie]=Re.name),(null===r||void 0===r?void 0:r.jwt)&&(o.Authorization="Bearer ".concat(r.jwt));const i=null!==(s=null===r||void 0===r?void 0:r.query)&&void 0!==s?s:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,s,o){const i=((e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))})(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new $e(_t(l),0)}a.ok||await jt(a);if(null===r||void 0===r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(l){await jt(l)}}(e,t,n+a,{headers:o,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Ot(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Tt(e){const t=Ot(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Nt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Mt(e){return{data:e,error:null}}function At(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=Et(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},user:Object.assign({},i)},error:null}}function It(e){return e}const Rt=["global","local","others"];var Dt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};class zt{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=dt(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rt[0];if(Rt.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Rt.join(", ")));try{return await Pt(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Pt(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Nt})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Dt(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Pt(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:At,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Ue(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Pt(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Nt})}catch(t){if(Ue(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,s,o,i,a;try{const l={nextPage:null,lastPage:0,total:0},c=await Pt(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:It});if(c.error)throw c.error;const u=await c.json(),d=null!==(o=c.headers.get("x-total-count"))&&void 0!==o?o:0,h=null!==(a=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Ue(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){St(e);try{return await Pt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Nt})}catch(t){if(Ue(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){St(e);try{return await Pt(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Nt})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];St(e);try{return await Pt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Nt})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){St(e.userId);try{const{data:t,error:n}=await Pt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Ue(t))return{data:null,error:t};throw t}}async _deleteFactor(e){St(e.userId),St(e.id);try{return{data:await Pt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(Ue(t))return{data:null,error:t};throw t}}}function Ut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Bt=!!(globalThis&&ut()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Ft extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ht extends Ft{}async function Wt(e,t,n){Bt&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Bt&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw Bt&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ht('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(Bt)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Bt&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Bt&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const Vt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ae,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qt(e,t,n){return await n()}const Gt={};class Kt{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kt.nextInstanceID,Kt.nextInstanceID+=1,this.instanceID>0&&lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Vt),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new zt({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=dt(r.fetch),this.lock=r.lock||qt,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:lt()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Wt:this.lock=qt,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:ut()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ut(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Ut(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Gt[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Gt[this.storageKey]=Object.assign(Object.assign({},Gt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Gt[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Gt[this.storageKey]=Object.assign(Object.assign({},Gt[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Te,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(r){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),lt()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return Ue(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",i),await this._saveSession(o),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ue(t)?{error:t}:{error:new Fe("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const s=await Pt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Ot}),{data:o,error:i}=s;if(i||!o)return{data:{user:null,session:null},error:i};const a=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(Ue(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,r;try{let s;if("email"in e){const{email:n,password:r,options:o}=e;let i=null,a=null;"pkce"===this.flowType&&([i,a]=await bt(this.storage,this.storageKey)),s=await Pt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===o||void 0===o?void 0:o.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken},code_challenge:i,code_challenge_method:a},xform:Ot})}else{if(!("phone"in e))throw new qe("You must provide either an email or phone number and a password");{const{phone:t,password:o,options:i}=e;s=await Pt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:o,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Ot})}}const{data:o,error:i}=s;if(i||!o)return{data:{user:null,session:null},error:i};const a=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(Ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:s}=e;t=await Pt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Tt})}else{if(!("phone"in e))throw new qe("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await Pt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Tt})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Ve}}catch(t){if(Ue(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,s,o,i,a,l,c,u,d,h;let p,f;if("message"in e)p=e.message,f=e.signature;else{const{chain:d,wallet:h,statement:g,options:m}=e;let v;if(lt())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===m||void 0===m?void 0:m.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),g?{statement:g}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),f=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(s=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===s?void 0:s.notBefore)?["Not Before: ".concat(m.signInWithSolana.notBefore)]:[],...(null===(o=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===o?void 0:o.expirationTime)?["Expiration Time: ".concat(m.signInWithSolana.expirationTime)]:[],...(null===(i=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(m.signInWithSolana.chainId)]:[],...(null===(a=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===a?void 0:a.nonce)?["Nonce: ".concat(m.signInWithSolana.nonce)]:[],...(null===(l=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(m.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...m.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{const{data:t,error:n}=await Pt(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:at(f)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Ot});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new Ve}}catch(g){if(Ue(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const t=await pt(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:s}=await Pt(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ot});if(await ft(this.storage,"".concat(this.storageKey,"-code-verifier")),s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new Ve}}catch(s){if(Ue(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:s,nonce:o}=e,i=await Pt(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Ot}),{data:a,error:l}=i;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new Ve}}catch(t){if(Ue(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,s,o;try{if("email"in e){const{email:r,options:s}=e;let o=null,i=null;"pkce"===this.flowType&&([o,i]=await bt(this.storage,this.storageKey));const{error:a}=await Pt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null===s||void 0===s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:i},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:a}=await Pt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(o=null===n||void 0===n?void 0:n.channel)&&void 0!==o?o:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:a}}throw new qe("You must provide either an email or phone number.")}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let r,s;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:o,error:i}=await Pt(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Ot});if(i)throw i;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,l=o.user;return(null===a||void 0===a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let s=null,o=null;return"pkce"===this.flowType&&([s,o]=await bt(this.storage,this.storageKey)),await Pt(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Mt})}catch(s){if(Ue(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new We;const{error:r}=await Pt(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:s}=e,{error:o}=await Pt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:o,error:i}=await Pt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:i}}throw new qe("You must provide either an email or phone number and a type")}catch(t){if(Ue(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await pt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Me;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await pt(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=xt()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Pt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Nt}):await this._useSession(async e=>{var t,n,r;const{data:s,error:o}=e;if(o)throw o;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Pt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Nt}):{data:{user:null},error:new We}})}catch(t){if(Ue(t))return function(e){return Ue(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await ft(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new We;const o=r.session;let i=null,a=null;"pkce"===this.flowType&&null!=e.email&&([i,a]=await bt(this.storage,this.storageKey));const{data:l,error:c}=await Pt(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:a}),jwt:o.access_token,xform:Nt});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new We;const t=Date.now()/1e3;let n=t,r=!0,s=null;const{payload:o}=mt(e.access_token);if(o.exp&&(n=o.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:o}=await this._getUser(e.access_token);if(o)throw o;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(Ue(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new We;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Ue(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!lt())throw new Ge("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ge(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Ke("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Ge("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ke("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:o,expires_in:i,expires_at:a,token_type:l}=e;if(!s||!i||!o||!l)throw new Ge("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;a&&(d=parseInt(a));const h=d-c;1e3*h<=Ne&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const p=d-u;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:f,error:g}=await this._getUser(s);if(g)throw g;const m={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:u,expires_at:d,refresh_token:o,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(Ue(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await pt(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return{error:s};const o=null===(n=r.session)||void 0===n?void 0:n.access_token;if(o){const{error:t}=await this.admin.signOut(o,e);if(t&&(!function(e){return Ue(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await ft(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(s){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await bt(this.storage,this.storageKey,!0));try{return await Pt(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(Ue(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Ue(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,s,o,i;const{data:a,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await Pt(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(o=a.session)||void 0===o?void 0:o.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return lt()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(Ue(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:o}=t;if(o)throw o;return await Pt(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(Ue(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const s=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Pt(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Ot})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Ze(t)&&Date.now()+n-s<Ne},new Promise((e,t)=>{(async()=>{for(let o=0;o<1/0;o++)try{const t=await n(o);if(!r(o,null,t))return void e(t)}catch(s){if(!r(o,s))return void t(s)}})()}))}catch(s){if(this._debug(t,"error",s),Ue(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),lt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await pt(this.storage,this.storageKey);if(s&&this.userStorage){let t=await pt(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:s.user},await ht(this.userStorage,this.storageKey+"-user",t)),s.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:xt()}else if(s&&!s.user&&!s.user){const e=await pt(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await ft(this.storage,this.storageKey+"-user"),await ht(this.storage,this.storageKey,s)):s.user=xt()}if(this._debug(n,"session from storage",s),!this._isValidSession(s))return this._debug(n,"session is not valid"),void(null!==s&&await this._removeSession());const o=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<Me;if(this._debug(n,"session has".concat(o?"":" not"," expired with margin of ").concat(Me,"s")),o){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=await this._callRefreshToken(s.refresh_token);e&&(console.error(e),Ze(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(s.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return this._debug(n,"error",s),void console.error(s)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new We;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new gt;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new We;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(r,"error",s),Ue(s)){const e={session:null,error:s};return Ze(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(s){r.push(s)}});if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await ht(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Ct(e);await ht(this.storage,this.storageKey,r)}else{const e=Ct(t);await ht(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await ft(this.storage,this.storageKey),await ft(this.storage,this.storageKey+"-code-verifier"),await ft(this.storage,this.storageKey+"-user"),this.userStorage&&await ft(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&lt()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ne);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/Ne);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(Ne,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof Ft))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await bt(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await Pt(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(Ue(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:o}=t;if(o)return{data:null,error:o};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:l}=await Pt(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===a||void 0===a?void 0:a.totp)||void 0===r?void 0:r.qr_code)&&(a.totp.qr_code="data:image/svg+xml;utf-8,".concat(a.totp.qr_code)),{data:a,error:null})})}catch(t){if(Ue(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return{data:null,error:s};const{data:o,error:i}=await Pt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:i})})}catch(t){if(Ue(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await Pt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(Ue(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),s=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mt(r.access_token);let i=null;o.aal&&(i=o.aal);let a=i;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(a="aal2");return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:o.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:s}=await Pt(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(s)throw s;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:s,signature:o,raw:{header:i,payload:a}}=mt(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:s,header:r,signature:o},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,o,function(e){const t=[];return ot(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(a))))throw new Qe("Invalid JWT signature");return{data:{claims:s,header:r,signature:o},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}Kt.nextInstanceID=0;const $t=Kt;class Zt extends $t{constructor(e){super(e)}}var Jt=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};class Qt{constructor(e,t,n){var r,s,o;this.supabaseUrl=e,this.supabaseKey=t;const i=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a="sb-".concat(i.hostname.split(".")[0],"-auth-token"),l=function(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===a||void 0===a?void 0:a.headers)&&void 0!==r?r:{})}),accessToken:()=>Oe(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:xe,realtime:Ee,auth:Object.assign(Object.assign({},Ce),{storageKey:a}),global:Se});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(s=l.global.headers)&&void 0!==s?s:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(o=l.auth)&&void 0!==o?o:{},this.headers,l.global.fetch),this.fetch=Pe(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new d(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new we(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new c(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Jt(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:i,userStorage:a,storageKey:l,flowType:c,lock:u,debug:d}=e;const h={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Zt({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),t),storageKey:l,autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:i,userStorage:a,flowType:c,lock:u,debug:d,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new J(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yt=new Qt("https://wesscwzrsuyiqdeccysm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indlc3Njd3pyc3V5aXFkZWNjeXNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc1NzEwOTMsImV4cCI6MjA3MzE0NzA5M30.5BRLFWRcKaQlNUpOPRwVjP51M3kXaDH4YadqwY5Qmx0",Xt);var Xt},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(e,t,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=s,t.jsxs=s},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:s}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let o=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!o?"":('"'===e&&(o=!o),e)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer","count=".concat(n)),new s.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(t&&this.headers.append("Prefer","count=".concat(t)),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i;if(this.headers.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer","count=".concat(r)),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return t&&this.headers.append("Prefer","count=".concat(t)),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<o(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<s&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<s&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(m=!1,k(e),!g)if(null!==r(c))g=!0,C||(C=!0,x());else{var t=r(u);null!==t&&N(S,t.startTime-e)}}var x,C=!1,E=-1,_=5,L=-1;function j(){return!!v||!(t.unstable_now()-L<_)}function P(){if(v=!1,C){var e=t.unstable_now();L=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(E),E=-1),f=!0;var o=p;try{t:{for(k(e),h=r(c);null!==h&&!(h.expirationTime>e&&j());){var i=h.callback;if("function"===typeof i){h.callback=null,p=h.priorityLevel;var a=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,k(e),n=!0;break t}h===r(c)&&s(c),k(e)}else s(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&N(S,l.startTime-e),n=!1}}break e}finally{h=null,p=o,f=!1}n=void 0}}finally{n?x():C=!1}}}if("function"===typeof w)x=function(){w(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,T=O.port2;O.port1.onmessage=P,x=function(){T.postMessage(null)}}else x=function(){y(P,0)};function N(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>i?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(b(E),E=-1):m=!0,N(S,o-i))):(e.sortIndex=a,n(c,e),g||f||(g=!0,C||(C=!0,x()))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const s=r(n(210));t.PostgrestClient=s.default;const o=r(n(829));t.PostgrestQueryBuilder=o.default;const i=r(n(736));t.PostgrestFilterBuilder=i.default;const a=r(n(374));t.PostgrestTransformBuilder=a.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:s.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".ffe6cc22.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="react:";n.l=(r,s,o,i)=>{if(e[r])e[r].push(s);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[s];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var s=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var o=new Promise((n,r)=>s=e[t]=[n,r]);r.push(s[2]=o);var i=n.p+n.u(t),a=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,s[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var s,o,i=r[0],a=r[1],l=r[2],c=0;if(i.some(t=>0!==e[t])){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(l)l(n)}for(t&&t(r);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkreact=self.webpackChunkreact||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),s=n(391),o=n(759),i=n(579);function a(e){let{appName:t="SG Traffic Forecast",onAuthed:n,onGuest:s,onSignUp:a}=e;const[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[m,v]=(0,r.useState)(""),y=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=document.body.style.overflow;return document.body.style.overflow="hidden",setTimeout(()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.focus()},0),()=>document.body.style.overflow=e},[]);const b=(0,r.useMemo)(()=>{const e={};return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)||(e.email="Valid email required"),u||(e.password="Password required"),e},[l,u]);return(0,i.jsx)("div",{className:"gate-backdrop",children:(0,i.jsxs)("div",{className:"gate-card",children:[(0,i.jsx)("button",{className:"gate-close","aria-label":"Close",disabled:!0,children:"\u2715"}),(0,i.jsx)("div",{className:"gate-logo","aria-hidden":!0,children:"\ud83d\ude97"}),(0,i.jsxs)("h1",{className:"gate-title",children:["Welcome to ",t]}),(0,i.jsx)("p",{className:"gate-sub",children:"Sign in to continue"}),(0,i.jsxs)("form",{className:"gate-form",onSubmit:async function(e){if(e.preventDefault(),p(!0),v(""),Object.keys(b).length)return;const t=(l||"").trim().toLowerCase(),r=(u||"").trim();try{var s,i,a,c,d,h,f;g(!0);const{data:e,error:l}=await o.N.from("users").select("*").ilike("email",t).limit(1).maybeSingle();if(l)return console.error("AuthGate SELECT error:",l),void v("Something went wrong. Please try again.");if(!e)return void v("Incorrect email or password.");if(String(null!==(s=e.password)&&void 0!==s?s:"").trim()!==r)return void v("Incorrect email or password.");const u=null!==(i=null!==(a=null!==(c=e.id)&&void 0!==c?c:e.userid)&&void 0!==a?a:e.user_id)&&void 0!==i?i:"local";null===n||void 0===n||n({id:u,name:null!==(d=e.name)&&void 0!==d?d:"",email:null!==(h=e.email)&&void 0!==h?h:t,phone:null!==(f=e.phone)&&void 0!==f?f:"",role:"user"})}catch(m){console.error("AuthGate exception:",m),v("Something went wrong. Please try again.")}finally{g(!1)}},children:[(0,i.jsx)("label",{className:"usf-label",htmlFor:"gate-email",children:"Email"}),(0,i.jsx)("input",{id:"gate-email",ref:y,className:"usf-input",type:"email",placeholder:"Enter email...",value:l,onChange:e=>c(e.target.value),autoComplete:"email"}),h&&b.email&&(0,i.jsx)("div",{className:"usf-error",children:b.email}),(0,i.jsx)("label",{className:"usf-label",htmlFor:"gate-password",children:"Password"}),(0,i.jsx)("input",{id:"gate-password",className:"usf-input",type:"password",placeholder:"Enter password...",value:u,onChange:e=>d(e.target.value),autoComplete:"current-password"}),h&&b.password&&(0,i.jsx)("div",{className:"usf-error",children:b.password}),m&&(0,i.jsx)("div",{className:"usf-error",children:m}),(0,i.jsx)("button",{type:"submit",className:"usf-btn usf-btn-primary",disabled:f,children:f?"Signing in...":"Sign In"})]}),(0,i.jsxs)("div",{className:"gate-signup",children:["Need an account?"," ",(0,i.jsx)("button",{className:"gate-link",onClick:a,children:"Sign up"})]}),(0,i.jsx)("div",{className:"gate-divider",children:(0,i.jsx)("span",{children:"OR"})}),(0,i.jsxs)("button",{className:"gate-guest-btn",onClick:s,children:[(0,i.jsx)("span",{className:"gate-guest-ico","aria-hidden":!0,children:"\ud83d\udc64"}),"Continue as Guest User"]})]})})}var l,c,u=n(950);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}function p(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var g=f(c?l:(c=1,l=function(e,t,n,r,s,o,i,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,s,o,i,a],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}})),m=(0,r.createContext)(null);function v(e,t,n,r){var s,o,i={};return s=e,o=(e,s)=>{var o=n[s];o!==t[s]&&(i[s]=o,e(r,o))},Object.keys(s).forEach(e=>o(s[e],e)),i}function y(e,t,n){var r,s,o,i=(r=n,s=function(n,r,s){return"function"===typeof e[s]&&n.push(google.maps.event.addListener(t,r,e[s])),n},o=[],Object.keys(r).reduce(function(e,t){return s(e,r[t],t)},o));return i}function b(e){google.maps.event.removeListener(e)}function w(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(b)}function k(e){var{updaterMap:t,eventMap:n,prevProps:r,nextProps:s,instance:o}=e,i=y(s,o,n);return v(t,r,s,o),i}var S={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},x={extraMapTypes(e,t){t.forEach(function(t,n){e.mapTypes.set(String(n),t)})},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};(0,r.memo)(function(e){var{children:t,options:n,id:s,mapContainerStyle:o,mapContainerClassName:a,center:l,onClick:c,onDblClick:u,onDrag:d,onDragEnd:h,onDragStart:p,onMouseMove:f,onMouseOut:g,onMouseOver:v,onMouseDown:y,onMouseUp:b,onRightClick:w,onCenterChanged:k,onLoad:S,onUnmount:x}=e,[C,E]=(0,r.useState)(null),_=(0,r.useRef)(null),[L,j]=(0,r.useState)(null),[P,O]=(0,r.useState)(null),[T,N]=(0,r.useState)(null),[M,A]=(0,r.useState)(null),[I,R]=(0,r.useState)(null),[D,z]=(0,r.useState)(null),[U,B]=(0,r.useState)(null),[F,H]=(0,r.useState)(null),[W,V]=(0,r.useState)(null),[q,G]=(0,r.useState)(null),[K,$]=(0,r.useState)(null),[Z,J]=(0,r.useState)(null);return(0,r.useEffect)(()=>{n&&null!==C&&C.setOptions(n)},[C,n]),(0,r.useEffect)(()=>{null!==C&&"undefined"!==typeof l&&C.setCenter(l)},[C,l]),(0,r.useEffect)(()=>{C&&u&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(C,"dblclick",u)))},[u]),(0,r.useEffect)(()=>{C&&h&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(C,"dragend",h)))},[h]),(0,r.useEffect)(()=>{C&&p&&(null!==M&&google.maps.event.removeListener(M),A(google.maps.event.addListener(C,"dragstart",p)))},[p]),(0,r.useEffect)(()=>{C&&y&&(null!==I&&google.maps.event.removeListener(I),R(google.maps.event.addListener(C,"mousedown",y)))},[y]),(0,r.useEffect)(()=>{C&&f&&(null!==D&&google.maps.event.removeListener(D),z(google.maps.event.addListener(C,"mousemove",f)))},[f]),(0,r.useEffect)(()=>{C&&g&&(null!==U&&google.maps.event.removeListener(U),B(google.maps.event.addListener(C,"mouseout",g)))},[g]),(0,r.useEffect)(()=>{C&&v&&(null!==F&&google.maps.event.removeListener(F),H(google.maps.event.addListener(C,"mouseover",v)))},[v]),(0,r.useEffect)(()=>{C&&b&&(null!==W&&google.maps.event.removeListener(W),V(google.maps.event.addListener(C,"mouseup",b)))},[b]),(0,r.useEffect)(()=>{C&&w&&(null!==q&&google.maps.event.removeListener(q),G(google.maps.event.addListener(C,"rightclick",w)))},[w]),(0,r.useEffect)(()=>{C&&c&&(null!==K&&google.maps.event.removeListener(K),$(google.maps.event.addListener(C,"click",c)))},[c]),(0,r.useEffect)(()=>{C&&d&&(null!==Z&&google.maps.event.removeListener(Z),J(google.maps.event.addListener(C,"drag",d)))},[d]),(0,r.useEffect)(()=>{C&&k&&(null!==L&&google.maps.event.removeListener(L),j(google.maps.event.addListener(C,"center_changed",k)))},[c]),(0,r.useEffect)(()=>{var e=null===_.current?null:new google.maps.Map(_.current,n);return E(e),null!==e&&S&&S(e),()=>{null!==e&&x&&x(e)}},[]),(0,i.jsx)("div",{id:s,ref:_,style:o,className:a,children:(0,i.jsx)(m.Provider,{value:C,children:null!==C?t:null})})});class C extends r.PureComponent{constructor(){super(...arguments),p(this,"state",{map:null}),p(this,"registeredEvents",[]),p(this,"mapRef",null),p(this,"getInstance",()=>null===this.mapRef?null:new google.maps.Map(this.mapRef,this.props.options)),p(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),p(this,"setMapCallback",()=>{null!==this.state.map&&this.props.onLoad&&this.props.onLoad(this.state.map)}),p(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=k({updaterMap:x,eventMap:S,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){null!==this.state.map&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:x,eventMap:S,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),w(this.registeredEvents))}render(){return(0,i.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,i.jsx)(m.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:null})})}}function E(e,t,n,r,s,o,i){try{var a=e[o](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,s)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function i(e){E(o,r,s,i,a,"next",e)}function a(e){E(o,r,s,i,a,"throw",e)}i(void 0)})}}function L(e){var{googleMapsApiKey:t,googleMapsClientId:n,version:r="weekly",language:s,region:o,libraries:i,channel:a,mapIds:l,authReferrerPolicy:c,apiUrl:u="https://maps.googleapis.com"}=e,d=[];return g(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?d.push("key=".concat(t)):n&&d.push("client=".concat(n)),r&&d.push("v=".concat(r)),s&&d.push("language=".concat(s)),o&&d.push("region=".concat(o)),i&&i.length&&d.push("libraries=".concat(i.sort().join(","))),a&&d.push("channel=".concat(a)),l&&l.length&&d.push("map_ids=".concat(l.join(","))),c&&d.push("auth_referrer_policy=".concat(c)),d.push("loading=async"),d.push("callback=initMap"),"".concat(u,"/maps/api/js?").concat(d.join("&"))}var j="undefined"!==typeof document;function P(e){var{url:t,id:n,nonce:r}=e;return j?new Promise(function(e,s){var o=document.getElementById(n),i=window;if(o){var a=o.getAttribute("data-state");if(o.src===t&&"error"!==a){if("ready"===a)return e(n);var l=i.initMap,c=o.onerror;return i.initMap=function(){l&&l(),e(n)},void(o.onerror=function(e){c&&c(e),s(e)})}o.remove()}var u=document.createElement("script");u.type="text/javascript",u.src=t,u.id=n,u.async=!0,u.nonce=r||"",u.onerror=function(e){u.setAttribute("data-state","error"),s(e)},i.initMap=function(){u.setAttribute("data-state","ready"),e(n)},document.head.appendChild(u)}).catch(e=>{throw console.error("injectScript error: ",e),e}):Promise.reject(new Error("document is undefined"))}function O(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function T(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,r){return O(n)||Reflect.apply(t,e,[n,r]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return O(t)||Reflect.apply(n,e,[t]),t}}}var N=!1;function M(){return(0,i.jsx)("div",{children:"Loading..."})}var A,I={id:"script-loader",version:"weekly"};class R extends r.PureComponent{constructor(){super(...arguments),p(this,"check",null),p(this,"state",{loaded:!1}),p(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),p(this,"isCleaningUp",_(function*(){return new Promise(function(e){if(N){if(j)var t=window.setInterval(function(){N||(window.clearInterval(t),e())},1)}else e()})})),p(this,"cleanup",()=>{N=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}),p(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&T(),g(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id),P({id:this.props.id,nonce:this.props.nonce,url:L(this.props)}).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(e=>{this.props.onError&&this.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))})}),p(this,"getRef",e=>{this.check=e})}componentDidMount(){if(j){if(window.google&&window.google.maps&&!N)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch(function(e){console.error("Error at injecting script after cleaning up: ",e)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),j&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(j){this.cleanup();window.setTimeout(()=>{this.check||(delete window.google,N=!1)},1),this.props.onUnmount&&this.props.onUnmount()}}render(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||(0,i.jsx)(M,{})]})}}function D(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}p(R,"defaultProps",I);var z=["loadingElement","onLoad","onError","onUnmount","children"],U=(0,i.jsx)(M,{});(0,r.memo)(function(e){var{loadingElement:t,onLoad:n,onError:s,onUnmount:o,children:i}=e,a=D(e,z),{isLoaded:l,loadError:c}=function(e){var{id:t=I.id,version:n=I.version,nonce:s,googleMapsApiKey:o,googleMapsClientId:i,language:a,region:l,libraries:c,preventGoogleFontsLoading:u,channel:d,mapIds:h,authReferrerPolicy:p,apiUrl:f="https://maps.googleapis.com"}=e,m=(0,r.useRef)(!1),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(void 0);(0,r.useEffect)(function(){return m.current=!0,()=>{m.current=!1}},[]),(0,r.useEffect)(function(){j&&u&&T()},[u]),(0,r.useEffect)(function(){v&&g(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[v]);var k=L({version:n,googleMapsApiKey:o,googleMapsClientId:i,language:a,region:l,libraries:c,channel:d,mapIds:h,authReferrerPolicy:p,apiUrl:f});(0,r.useEffect)(function(){function e(){m.current&&(y(!0),A=k)}j&&(window.google&&window.google.maps&&A===k?e():P({id:t,url:k,nonce:s}).then(e).catch(function(e){m.current&&w(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(o||"-",") or Client ID (").concat(i||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)}))},[t,k,s]);var S=(0,r.useRef)(void 0);return(0,r.useEffect)(function(){S.current&&c!==S.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),S.current=c},[c]),{isLoaded:v,loadError:b,url:k}}(a);return(0,r.useEffect)(function(){l&&"function"===typeof n&&n()},[l,n]),(0,r.useEffect)(function(){c&&"function"===typeof s&&s(c)},[c,s]),(0,r.useEffect)(function(){return()=>{o&&o()}},[o]),l?i:t||U});"function"===typeof SuppressedError&&SuppressedError;var B;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(B||(B={}));function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var W={},V={options(e,t){e.setOptions(t)}};(0,r.memo)(function(e){var{options:t,onLoad:n,onUnmount:s}=e,o=(0,r.useContext)(m),[i,a]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==i&&i.setMap(o)},[o]),(0,r.useEffect)(()=>{t&&null!==i&&i.setOptions(t)},[i,t]),(0,r.useEffect)(()=>{var e=new google.maps.TrafficLayer(H(H({},t),{},{map:o}));return a(e),n&&n(e),()=>{null!==i&&(s&&s(i),i.setMap(null))}},[]),null});class q extends r.PureComponent{constructor(){super(...arguments),p(this,"state",{trafficLayer:null}),p(this,"setTrafficLayerCallback",()=>{null!==this.state.trafficLayer&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),p(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(H(H({},this.props.options),{},{map:this.context}));this.registeredEvents=k({updaterMap:V,eventMap:W,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){null!==this.state.trafficLayer&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:V,eventMap:W,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),w(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}p(q,"contextType",m);(0,r.memo)(function(e){var{onLoad:t,onUnmount:n}=e,s=(0,r.useContext)(m),[o,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==o&&o.setMap(s)},[s]),(0,r.useEffect)(()=>{var e=new google.maps.BicyclingLayer;return i(e),e.setMap(s),t&&t(e),()=>{null!==e&&(n&&n(e),e.setMap(null))}},[]),null});class G extends r.PureComponent{constructor(){super(...arguments),p(this,"state",{bicyclingLayer:null}),p(this,"setBicyclingLayerCallback",()=>{null!==this.state.bicyclingLayer&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}p(G,"contextType",m);(0,r.memo)(function(e){var{onLoad:t,onUnmount:n}=e,s=(0,r.useContext)(m),[o,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==o&&o.setMap(s)},[s]),(0,r.useEffect)(()=>{var e=new google.maps.TransitLayer;return i(e),e.setMap(s),t&&t(e),()=>{null!==o&&(n&&n(o),o.setMap(null))}},[]),null});class K extends r.PureComponent{constructor(){super(...arguments),p(this,"state",{transitLayer:null}),p(this,"setTransitLayerCallback",()=>{null!==this.state.transitLayer&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}p(K,"contextType",m);var J={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Q={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};(0,r.memo)(function(e){var{options:t,drawingMode:n,onCircleComplete:s,onMarkerComplete:o,onOverlayComplete:i,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:d}=e,h=(0,r.useContext)(m),[p,f]=(0,r.useState)(null),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[x,C]=(0,r.useState)(null),[E,_]=(0,r.useState)(null),[L,j]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==p&&p.setMap(h)},[h]),(0,r.useEffect)(()=>{t&&null!==p&&p.setOptions(t)},[p,t]),(0,r.useEffect)(()=>{null!==p&&p.setDrawingMode(null!==n&&void 0!==n?n:null)},[p,n]),(0,r.useEffect)(()=>{p&&s&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(p,"circlecomplete",s)))},[p,s]),(0,r.useEffect)(()=>{p&&o&&(null!==b&&google.maps.event.removeListener(b),w(google.maps.event.addListener(p,"markercomplete",o)))},[p,o]),(0,r.useEffect)(()=>{p&&i&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(p,"overlaycomplete",i)))},[p,i]),(0,r.useEffect)(()=>{p&&a&&(null!==x&&google.maps.event.removeListener(x),C(google.maps.event.addListener(p,"polygoncomplete",a)))},[p,a]),(0,r.useEffect)(()=>{p&&l&&(null!==E&&google.maps.event.removeListener(E),_(google.maps.event.addListener(p,"polylinecomplete",l)))},[p,l]),(0,r.useEffect)(()=>{p&&c&&(null!==L&&google.maps.event.removeListener(L),j(google.maps.event.addListener(p,"rectanglecomplete",c)))},[p,c]),(0,r.useEffect)(()=>{g(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(Z(Z({},t),{},{map:h}));return n&&e.setDrawingMode(n),s&&y(google.maps.event.addListener(e,"circlecomplete",s)),o&&w(google.maps.event.addListener(e,"markercomplete",o)),i&&S(google.maps.event.addListener(e,"overlaycomplete",i)),a&&C(google.maps.event.addListener(e,"polygoncomplete",a)),l&&_(google.maps.event.addListener(e,"polylinecomplete",l)),c&&j(google.maps.event.addListener(e,"rectanglecomplete",c)),f(e),u&&u(e),()=>{null!==p&&(v&&google.maps.event.removeListener(v),b&&google.maps.event.removeListener(b),k&&google.maps.event.removeListener(k),x&&google.maps.event.removeListener(x),E&&google.maps.event.removeListener(E),L&&google.maps.event.removeListener(L),d&&d(p),p.setMap(null))}},[]),null});class Y extends r.PureComponent{constructor(e){super(e),p(this,"registeredEvents",[]),p(this,"state",{drawingManager:null}),p(this,"setDrawingManagerCallback",()=>{null!==this.state.drawingManager&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),g(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Z(Z({},this.props.options),{},{map:this.context}));this.registeredEvents=k({updaterMap:Q,eventMap:J,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){null!==this.state.drawingManager&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:Q,eventMap:J,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),w(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}p(Y,"contextType",m);var te={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},ne={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},re={};(0,r.memo)(function(e){var{position:t,options:n,clusterer:s,noClustererRedraw:o,children:a,draggable:l,visible:c,animation:u,clickable:d,cursor:h,icon:p,label:f,opacity:g,shape:v,title:y,zIndex:b,onClick:w,onDblClick:k,onDrag:S,onDragEnd:x,onDragStart:C,onMouseOut:E,onMouseOver:_,onMouseUp:L,onMouseDown:j,onRightClick:P,onClickableChanged:O,onCursorChanged:T,onAnimationChanged:N,onDraggableChanged:M,onFlatChanged:A,onIconChanged:I,onPositionChanged:R,onShapeChanged:D,onTitleChanged:z,onVisibleChanged:U,onZindexChanged:B,onLoad:F,onUnmount:H}=e,W=(0,r.useContext)(m),[V,q]=(0,r.useState)(null),[G,K]=(0,r.useState)(null),[$,Z]=(0,r.useState)(null),[J,Q]=(0,r.useState)(null),[Y,X]=(0,r.useState)(null),[te,ne]=(0,r.useState)(null),[se,oe]=(0,r.useState)(null),[ie,ae]=(0,r.useState)(null),[le,ce]=(0,r.useState)(null),[ue,de]=(0,r.useState)(null),[he,pe]=(0,r.useState)(null),[fe,ge]=(0,r.useState)(null),[me,ve]=(0,r.useState)(null),[ye,be]=(0,r.useState)(null),[we,ke]=(0,r.useState)(null),[Se,xe]=(0,r.useState)(null),[Ce,Ee]=(0,r.useState)(null),[_e,Le]=(0,r.useState)(null),[je,Pe]=(0,r.useState)(null),[Oe,Te]=(0,r.useState)(null),[Ne,Me]=(0,r.useState)(null),[Ae,Ie]=(0,r.useState)(null);(0,r.useEffect)(()=>{null!==V&&V.setMap(W)},[W]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==V&&V.setOptions(n)},[V,n]),(0,r.useEffect)(()=>{"undefined"!==typeof l&&null!==V&&V.setDraggable(l)},[V,l]),(0,r.useEffect)(()=>{t&&null!==V&&V.setPosition(t)},[V,t]),(0,r.useEffect)(()=>{"undefined"!==typeof c&&null!==V&&V.setVisible(c)},[V,c]),(0,r.useEffect)(()=>{null===V||void 0===V||V.setAnimation(u)},[V,u]),(0,r.useEffect)(()=>{V&&void 0!==d&&V.setClickable(d)},[V,d]),(0,r.useEffect)(()=>{V&&void 0!==h&&V.setCursor(h)},[V,h]),(0,r.useEffect)(()=>{V&&void 0!==p&&V.setIcon(p)},[V,p]),(0,r.useEffect)(()=>{V&&void 0!==f&&V.setLabel(f)},[V,f]),(0,r.useEffect)(()=>{V&&void 0!==g&&V.setOpacity(g)},[V,g]),(0,r.useEffect)(()=>{V&&void 0!==v&&V.setShape(v)},[V,v]),(0,r.useEffect)(()=>{V&&void 0!==y&&V.setTitle(y)},[V,y]),(0,r.useEffect)(()=>{V&&void 0!==b&&V.setZIndex(b)},[V,b]),(0,r.useEffect)(()=>{V&&k&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(V,"dblclick",k)))},[k]),(0,r.useEffect)(()=>{V&&x&&(null!==$&&google.maps.event.removeListener($),Z(google.maps.event.addListener(V,"dragend",x)))},[x]),(0,r.useEffect)(()=>{V&&C&&(null!==J&&google.maps.event.removeListener(J),Q(google.maps.event.addListener(V,"dragstart",C)))},[C]),(0,r.useEffect)(()=>{V&&j&&(null!==Y&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(V,"mousedown",j)))},[j]),(0,r.useEffect)(()=>{V&&E&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(V,"mouseout",E)))},[E]),(0,r.useEffect)(()=>{V&&_&&(null!==se&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(V,"mouseover",_)))},[_]),(0,r.useEffect)(()=>{V&&L&&(null!==ie&&google.maps.event.removeListener(ie),ae(google.maps.event.addListener(V,"mouseup",L)))},[L]),(0,r.useEffect)(()=>{V&&P&&(null!==le&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(V,"rightclick",P)))},[P]),(0,r.useEffect)(()=>{V&&w&&(null!==ue&&google.maps.event.removeListener(ue),de(google.maps.event.addListener(V,"click",w)))},[w]),(0,r.useEffect)(()=>{V&&S&&(null!==he&&google.maps.event.removeListener(he),pe(google.maps.event.addListener(V,"drag",S)))},[S]),(0,r.useEffect)(()=>{V&&O&&(null!==fe&&google.maps.event.removeListener(fe),ge(google.maps.event.addListener(V,"clickable_changed",O)))},[O]),(0,r.useEffect)(()=>{V&&T&&(null!==me&&google.maps.event.removeListener(me),ve(google.maps.event.addListener(V,"cursor_changed",T)))},[T]),(0,r.useEffect)(()=>{V&&N&&(null!==ye&&google.maps.event.removeListener(ye),be(google.maps.event.addListener(V,"animation_changed",N)))},[N]),(0,r.useEffect)(()=>{V&&M&&(null!==we&&google.maps.event.removeListener(we),ke(google.maps.event.addListener(V,"draggable_changed",M)))},[M]),(0,r.useEffect)(()=>{V&&A&&(null!==Se&&google.maps.event.removeListener(Se),xe(google.maps.event.addListener(V,"flat_changed",A)))},[A]),(0,r.useEffect)(()=>{V&&I&&(null!==Ce&&google.maps.event.removeListener(Ce),Ee(google.maps.event.addListener(V,"icon_changed",I)))},[I]),(0,r.useEffect)(()=>{V&&R&&(null!==_e&&google.maps.event.removeListener(_e),Le(google.maps.event.addListener(V,"position_changed",R)))},[R]),(0,r.useEffect)(()=>{V&&D&&(null!==je&&google.maps.event.removeListener(je),Pe(google.maps.event.addListener(V,"shape_changed",D)))},[D]),(0,r.useEffect)(()=>{V&&z&&(null!==Oe&&google.maps.event.removeListener(Oe),Te(google.maps.event.addListener(V,"title_changed",z)))},[z]),(0,r.useEffect)(()=>{V&&U&&(null!==Ne&&google.maps.event.removeListener(Ne),Me(google.maps.event.addListener(V,"visible_changed",U)))},[U]),(0,r.useEffect)(()=>{V&&B&&(null!==Ae&&google.maps.event.removeListener(Ae),Ie(google.maps.event.addListener(V,"zindex_changed",B)))},[B]),(0,r.useEffect)(()=>{var e=ee(ee(ee({},n||re),s?re:{map:W}),{},{position:t}),r=new google.maps.Marker(e);return s?s.addMarker(r,!!o):r.setMap(W),t&&r.setPosition(t),"undefined"!==typeof c&&r.setVisible(c),"undefined"!==typeof l&&r.setDraggable(l),"undefined"!==typeof d&&r.setClickable(d),"string"===typeof h&&r.setCursor(h),p&&r.setIcon(p),"undefined"!==typeof f&&r.setLabel(f),"undefined"!==typeof g&&r.setOpacity(g),v&&r.setShape(v),"string"===typeof y&&r.setTitle(y),"number"===typeof b&&r.setZIndex(b),k&&K(google.maps.event.addListener(r,"dblclick",k)),x&&Z(google.maps.event.addListener(r,"dragend",x)),C&&Q(google.maps.event.addListener(r,"dragstart",C)),j&&X(google.maps.event.addListener(r,"mousedown",j)),E&&ne(google.maps.event.addListener(r,"mouseout",E)),_&&oe(google.maps.event.addListener(r,"mouseover",_)),L&&ae(google.maps.event.addListener(r,"mouseup",L)),P&&ce(google.maps.event.addListener(r,"rightclick",P)),w&&de(google.maps.event.addListener(r,"click",w)),S&&pe(google.maps.event.addListener(r,"drag",S)),O&&ge(google.maps.event.addListener(r,"clickable_changed",O)),T&&ve(google.maps.event.addListener(r,"cursor_changed",T)),N&&be(google.maps.event.addListener(r,"animation_changed",N)),M&&ke(google.maps.event.addListener(r,"draggable_changed",M)),A&&xe(google.maps.event.addListener(r,"flat_changed",A)),I&&Ee(google.maps.event.addListener(r,"icon_changed",I)),R&&Le(google.maps.event.addListener(r,"position_changed",R)),D&&Pe(google.maps.event.addListener(r,"shape_changed",D)),z&&Te(google.maps.event.addListener(r,"title_changed",z)),U&&Me(google.maps.event.addListener(r,"visible_changed",U)),B&&Ie(google.maps.event.addListener(r,"zindex_changed",B)),q(r),F&&F(r),()=>{null!==G&&google.maps.event.removeListener(G),null!==$&&google.maps.event.removeListener($),null!==J&&google.maps.event.removeListener(J),null!==Y&&google.maps.event.removeListener(Y),null!==te&&google.maps.event.removeListener(te),null!==se&&google.maps.event.removeListener(se),null!==ie&&google.maps.event.removeListener(ie),null!==le&&google.maps.event.removeListener(le),null!==ue&&google.maps.event.removeListener(ue),null!==fe&&google.maps.event.removeListener(fe),null!==me&&google.maps.event.removeListener(me),null!==ye&&google.maps.event.removeListener(ye),null!==we&&google.maps.event.removeListener(we),null!==Se&&google.maps.event.removeListener(Se),null!==Ce&&google.maps.event.removeListener(Ce),null!==_e&&google.maps.event.removeListener(_e),null!==Oe&&google.maps.event.removeListener(Oe),null!==Ne&&google.maps.event.removeListener(Ne),null!==Ae&&google.maps.event.removeListener(Ae),H&&H(r),s?s.removeMarker(r,!!o):r&&r.setMap(null)}},[]);var Re=(0,r.useMemo)(()=>a?r.Children.map(a,e=>{if(!(0,r.isValidElement)(e))return e;var t=e;return(0,r.cloneElement)(t,{anchor:V})}):null,[a,V]);return(0,i.jsx)(i.Fragment,{children:Re})||null});class se extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[])}componentDidMount(){var e=this;return _(function*(){var t=ee(ee(ee({},e.props.options||re),e.props.clusterer?re:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=k({updaterMap:ne,eventMap:te,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:ne,eventMap:te,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),w(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){return(this.props.children?r.Children.map(this.props.children,e=>{if(!(0,r.isValidElement)(e))return e;var t=e;return(0,r.cloneElement)(t,{anchor:this.marker})}):null)||null}}p(se,"contextType",m);var oe=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),s=t.getMap();null!==s&&"fitBounds"in s&&s.fitBounds(r),this.timeOut=window.setTimeout(function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var s=e.getZoom()||0;null!==n&&s>n&&e.setZoom(n+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r,s,o;if(this.div&&this.center){var i=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),l=parseInt((null===(e=a[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=a[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==u?"".concat(u.y,"px"):"0","; left: ").concat(null!==u?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var d=document.createElement("img");d.alt=i,d.src=this.url,d.width=this.width,d.height=this.height,d.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(d.style.clip="rect(-".concat(c,"px, -").concat(l+this.width,"px, -").concat(c+this.height,", -").concat(l,")"));var h=document.createElement("div");h.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(h.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(s=this.sums)||void 0===s?void 0:s.html)&&(h.innerHTML="".concat(null===(o=this.sums)||void 0===o?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(d),this.div.appendChild(h),this.div.title=i,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),ie=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new oe(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var r=n[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),i=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==o&&"undefined"!==typeof i&&i>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var a=0,l=this.markers;a<l.length;a++){l[a].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function ae(e,t){var n=e.length,r=n.toString().length,s=Math.min(r,t);return{text:n.toString(),index:s,title:""}}var le=[53,56,66,78,90],ce=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||le,this.calculator=r.calculator||ae,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var r=0,s=this.clusters;r<s.length;r++){s[r].remove()}this.clusters=[];for(var o=0,i=this.listeners;o<i.length;o++){var a=i[o];google.maps.event.removeListener(a)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,r=e;n<r.length;n++){var s=r[n].getPosition();s&&t.extend(s)}var o=this.getMap();null!==o&&"fitBounds"in o&&o.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0,s=e;r<s.length;r++){var o=s[r];n=n||this.removeMarker_(o)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}},0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var s=t.fromDivPixelToLatLng(n);null!==s&&e.extend(s)}if(null!==r){var o=t.fromDivPixelToLatLng(r);null!==o&&e.extend(o)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var r=0,s=this.markers;r<s.length;r++){var o=s[r];o.isAdded=!1,e&&o.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,s=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,s=0,o=this.clusters;s<o.length;s++){var i=(t=o[s]).getCenter(),a=e.getPosition();if(i&&a){var l=this.distanceBetweenPoints(i,a);l<n&&(n=l,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new ie(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),s=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===r||void 0===r?void 0:r.getSouthWest(),null===r||void 0===r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(s),i=Math.min(e+this.batchSize,this.markers.length),a=e;a<i;a++){var l=this.markers[a];l&&!l.isAdded&&this.isMarkerInBounds(l,o)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(i<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(i)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,u=this.clusters;c<u.length;c++){u[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}();function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var de={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},he={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},pe={};(0,r.memo)(function(e){var{children:t,options:n,averageCenter:s,batchSizeIE:o,calculator:i,clusterClass:a,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:d,imagePath:h,imageSizes:f,maxZoom:g,minimumClusterSize:v,styles:y,title:b,zoomOnClick:w,onClick:k,onClusteringBegin:S,onClusteringEnd:x,onMouseOver:C,onMouseOut:E,onLoad:_,onUnmount:L}=e,[j,P]=(0,r.useState)(null),O=(0,r.useContext)(m),[T,N]=(0,r.useState)(null),[M,A]=(0,r.useState)(null),[I,R]=(0,r.useState)(null),[D,z]=(0,r.useState)(null),[U,B]=(0,r.useState)(null);return(0,r.useEffect)(()=>{j&&E&&(null!==D&&google.maps.event.removeListener(D),z(google.maps.event.addListener(j,de.onMouseOut,E)))},[E]),(0,r.useEffect)(()=>{j&&C&&(null!==U&&google.maps.event.removeListener(U),B(google.maps.event.addListener(j,de.onMouseOver,C)))},[C]),(0,r.useEffect)(()=>{j&&k&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(j,de.onClick,k)))},[k]),(0,r.useEffect)(()=>{j&&S&&(null!==M&&google.maps.event.removeListener(M),A(google.maps.event.addListener(j,de.onClusteringBegin,S)))},[S]),(0,r.useEffect)(()=>{j&&x&&(null!==I&&google.maps.event.removeListener(I),A(google.maps.event.addListener(j,de.onClusteringEnd,x)))},[x]),(0,r.useEffect)(()=>{"undefined"!==typeof s&&null!==j&&he.averageCenter(j,s)},[j,s]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==j&&he.batchSizeIE(j,o)},[j,o]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==j&&he.calculator(j,i)},[j,i]),(0,r.useEffect)(()=>{"undefined"!==typeof a&&null!==j&&he.clusterClass(j,a)},[j,a]),(0,r.useEffect)(()=>{"undefined"!==typeof l&&null!==j&&he.enableRetinaIcons(j,l)},[j,l]),(0,r.useEffect)(()=>{"undefined"!==typeof c&&null!==j&&he.gridSize(j,c)},[j,c]),(0,r.useEffect)(()=>{"undefined"!==typeof u&&null!==j&&he.ignoreHidden(j,u)},[j,u]),(0,r.useEffect)(()=>{"undefined"!==typeof d&&null!==j&&he.imageExtension(j,d)},[j,d]),(0,r.useEffect)(()=>{"undefined"!==typeof h&&null!==j&&he.imagePath(j,h)},[j,h]),(0,r.useEffect)(()=>{"undefined"!==typeof f&&null!==j&&he.imageSizes(j,f)},[j,f]),(0,r.useEffect)(()=>{"undefined"!==typeof g&&null!==j&&he.maxZoom(j,g)},[j,g]),(0,r.useEffect)(()=>{"undefined"!==typeof v&&null!==j&&he.minimumClusterSize(j,v)},[j,v]),(0,r.useEffect)(()=>{"undefined"!==typeof y&&null!==j&&he.styles(j,y)},[j,y]),(0,r.useEffect)(()=>{"undefined"!==typeof b&&null!==j&&he.title(j,b)},[j,b]),(0,r.useEffect)(()=>{"undefined"!==typeof w&&null!==j&&he.zoomOnClick(j,w)},[j,w]),(0,r.useEffect)(()=>{if(O){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n||pe),t=new ce(O,[],e);return s&&he.averageCenter(t,s),o&&he.batchSizeIE(t,o),i&&he.calculator(t,i),a&&he.clusterClass(t,a),l&&he.enableRetinaIcons(t,l),c&&he.gridSize(t,c),u&&he.ignoreHidden(t,u),d&&he.imageExtension(t,d),h&&he.imagePath(t,h),f&&he.imageSizes(t,f),g&&he.maxZoom(t,g),v&&he.minimumClusterSize(t,v),y&&he.styles(t,y),b&&he.title(t,b),w&&he.zoomOnClick(t,w),E&&z(google.maps.event.addListener(t,de.onMouseOut,E)),C&&B(google.maps.event.addListener(t,de.onMouseOver,C)),k&&N(google.maps.event.addListener(t,de.onClick,k)),S&&A(google.maps.event.addListener(t,de.onClusteringBegin,S)),x&&R(google.maps.event.addListener(t,de.onClusteringEnd,x)),P(t),_&&_(t),()=>{null!==D&&google.maps.event.removeListener(D),null!==U&&google.maps.event.removeListener(U),null!==T&&google.maps.event.removeListener(T),null!==M&&google.maps.event.removeListener(M),null!==I&&google.maps.event.removeListener(I),L&&L(t)}}},[]),null!==j&&t(j)||null});class fe extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"state",{markerClusterer:null}),p(this,"setClustererCallback",()=>{null!==this.state.markerClusterer&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new ce(this.context,[],this.props.options);this.registeredEvents=k({updaterMap:he,eventMap:de,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:he,eventMap:de,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),w(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}function ge(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}p(fe,"contextType",m);var me=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<s.length;r++){var o=s[r];this.eventListeners.push(google.maps.event.addListener(this.div,o,ge))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||ge(t)}),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,s=t.getBounds();s&&!s.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),i=o.offsetWidth,a=o.offsetHeight,l=this.pixelOffset.width,c=this.pixelOffset.height,u=this.div.offsetWidth,d=this.div.offsetHeight,h=this.infoBoxClearance.width,p=this.infoBoxClearance.height,f=this.getProjection().fromLatLngToContainerPixel(this.position);null!==f&&(f.x<-l+h?n=f.x+l-h:f.x+u+l+h>i&&(n=f.x+u+l+h-i),this.alignBottom?f.y<-c+p+d?r=f.y+c-p-d:f.y+c+p>a&&(r=f.y+c+p-a):f.y<-c+p?r=f.y+c-p:f.y+d+c+p>a&&(r=f.y+d+c+p-a)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var e=t.getPosition();n.setPosition(e)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){n.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),ve=["position"],ye=["position"];function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ke={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Se={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},xe={};var Ce,Ee;(0,r.memo)(function(e){var{children:t,anchor:n,options:s,position:o,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:d,onZindexChanged:h,onLoad:p,onUnmount:f}=e,v=(0,r.useContext)(m),[y,b]=(0,r.useState)(null),[w,k]=(0,r.useState)(null),[S,x]=(0,r.useState)(null),[C,E]=(0,r.useState)(null),[_,L]=(0,r.useState)(null),[j,P]=(0,r.useState)(null),O=(0,r.useRef)(null);return(0,r.useEffect)(()=>{v&&null!==y&&(y.close(),n?y.open(v,n):y.getPosition()&&y.open(v))},[v,y,n]),(0,r.useEffect)(()=>{s&&null!==y&&y.setOptions(s)},[y,s]),(0,r.useEffect)(()=>{if(o&&null!==y){var e=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);y.setPosition(e)}},[o]),(0,r.useEffect)(()=>{"number"===typeof i&&null!==y&&y.setZIndex(i)},[i]),(0,r.useEffect)(()=>{y&&a&&(null!==w&&google.maps.event.removeListener(w),k(google.maps.event.addListener(y,"closeclick",a)))},[a]),(0,r.useEffect)(()=>{y&&l&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(y,"domready",l)))},[l]),(0,r.useEffect)(()=>{y&&c&&(null!==C&&google.maps.event.removeListener(C),E(google.maps.event.addListener(y,"content_changed",c)))},[c]),(0,r.useEffect)(()=>{y&&d&&(null!==_&&google.maps.event.removeListener(_),L(google.maps.event.addListener(y,"position_changed",d)))},[d]),(0,r.useEffect)(()=>{y&&h&&(null!==j&&google.maps.event.removeListener(j),P(google.maps.event.addListener(y,"zindex_changed",h)))},[h]),(0,r.useEffect)(()=>{if(v){var e,t=s||xe,{position:r}=t,o=D(t,ve);!r||r instanceof google.maps.LatLng||(e=new google.maps.LatLng(r.lat,r.lng));var i=new me(we(we({},o),e?{position:e}:{}));O.current=document.createElement("div"),b(i),a&&k(google.maps.event.addListener(i,"closeclick",a)),l&&x(google.maps.event.addListener(i,"domready",l)),c&&E(google.maps.event.addListener(i,"content_changed",c)),d&&L(google.maps.event.addListener(i,"position_changed",d)),h&&P(google.maps.event.addListener(i,"zindex_changed",h)),i.setContent(O.current),n?i.open(v,n):i.getPosition()?i.open(v):g(!1,"You must provide either an anchor or a position prop for <InfoBox>."),p&&p(i)}return()=>{null!==y&&(w&&google.maps.event.removeListener(w),C&&google.maps.event.removeListener(C),S&&google.maps.event.removeListener(S),_&&google.maps.event.removeListener(_),j&&google.maps.event.removeListener(j),f&&f(y),y.close())}},[]),O.current?(0,u.createPortal)(r.Children.only(t),O.current):null});class _e extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"containerElement",null),p(this,"state",{infoBox:null}),p(this,"open",(e,t)=>{t?null!==this.context&&e.open(this.context,t):e.getPosition()?null!==this.context&&e.open(this.context):g(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),p(this,"setInfoBoxCallback",()=>{null!==this.state.infoBox&&null!==this.containerElement&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e,t=this.props.options||{},{position:n}=t,r=D(t,ye);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var s=new me(we(we({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=k({updaterMap:Se,eventMap:ke,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;null!==t&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:Se,eventMap:ke,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;null!==t&&(e&&e(t),w(this.registeredEvents),t.close())}render(){return this.containerElement?(0,u.createPortal)(r.Children.only(this.props.children),this.containerElement):null}}p(_e,"contextType",m);var Le=(Ee||(Ee=1,Ce=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(s=r;0!==s--;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=r;0!==s--;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;0!==s--;){var i=o[s];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),Ce),je=f(Le),Pe=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Oe{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");var r=n>>4;if(1!==r)throw new Error("Got v".concat(r," data when expected v").concat(1,"."));var s=Pe[15&n];if(!s)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[i]=new Uint32Array(e,4,1);return new Oe(i,o,s,e)}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=Pe.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,i=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-i%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(n,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+i+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+i+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+i+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+s]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Te(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:i}=this,a=[0,s.length-1,0],l=[];a.length;){var c=a.pop()||0,u=a.pop()||0,d=a.pop()||0;if(u-d<=i)for(var h=d;h<=u;h++){var p=o[2*h],f=o[2*h+1];p>=e&&p<=n&&f>=t&&f<=r&&l.push(s[h])}else{var g=d+u>>1,m=o[2*g],v=o[2*g+1];m>=e&&m<=n&&v>=t&&v<=r&&l.push(s[g]),(0===c?e<=m:t<=v)&&(a.push(d),a.push(g-1),a.push(1-c)),(0===c?n>=m:r>=v)&&(a.push(g+1),a.push(u),a.push(1-c))}}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:s,nodeSize:o}=this,i=[0,r.length-1,0],a=[],l=n*n;i.length;){var c=i.pop()||0,u=i.pop()||0,d=i.pop()||0;if(u-d<=o)for(var h=d;h<=u;h++)Ie(s[2*h],s[2*h+1],e,t)<=l&&a.push(r[h]);else{var p=d+u>>1,f=s[2*p],g=s[2*p+1];Ie(f,g,e,t)<=l&&a.push(r[p]),(0===c?e-n<=f:t-n<=g)&&(i.push(d),i.push(p-1),i.push(1-c)),(0===c?e+n>=f:t+n>=g)&&(i.push(p+1),i.push(u),i.push(1-c))}}return a}}function Te(e,t,n,r,s,o){if(!(s-r<=n)){var i=r+s>>1;Ne(e,t,i,r,s,o),Te(e,t,n,r,i-1,1-o),Te(e,t,n,i+1,s,1-o)}}function Ne(e,t,n,r,s,o){for(;s>r;){if(s-r>600){var i=s-r+1,a=n-r+1,l=Math.log(i),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(i-c)/i)*(a-i/2<0?-1:1);Ne(e,t,n,Math.max(r,Math.floor(n-a*c/i+u)),Math.min(s,Math.floor(n+(i-a)*c/i+u)),o)}var d=t[2*n+o],h=r,p=s;for(Me(e,t,r,n),t[2*s+o]>d&&Me(e,t,r,s);h<p;){for(Me(e,t,h,p),h++,p--;t[2*h+o]<d;)h++;for(;t[2*p+o]>d;)p--}t[2*r+o]===d?Me(e,t,r,p):Me(e,t,++p,s),p<=n&&(r=p+1),n<=p&&(s=p-1)}}function Me(e,t,n,r){Ae(e,n,r),Ae(t,2*n,2*r),Ae(t,2*n+1,2*r+1)}function Ae(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Ie(e,t,n,r){var s=e-n,o=t-r;return s*s+o*o}var Re,De={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},ze=Math.fround||(Re=new Float32Array(1),e=>(Re[0]=+e,Re[0]));class Ue{constructor(e){this.options=Object.assign(Object.create(De),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");var s="prepare ".concat(e.length," points");t&&console.time(s),this.points=e;for(var o=[],i=0;i<e.length;i++){var a=e[i];if(a.geometry){var[l,c]=a.geometry.coordinates,u=ze(He(l)),d=ze(We(c));o.push(u,d,1/0,i,-1,1),this.options.reduce&&o.push(0)}}var h=this.trees[r+1]=this._createTree(o);t&&console.timeEnd(s);for(var p=r;p>=n;p--){var f=+Date.now();h=this.trees[p]=this._createTree(this._cluster(h,p)),t&&console.log("z%d: %d clusters in %dms",p,h.numItems,+Date.now()-f)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),s=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,s=180;else if(n>s){var i=this.getClusters([n,r,180,o],t),a=this.getClusters([-180,r,s,o],t);return i.concat(a)}var l=this.trees[this._limitZoom(t)],c=l.range(He(n),We(o),He(s),We(r)),u=l.data,d=[];for(var h of c){var p=this.stride*h;d.push(u[p+5]>1?Be(u,p,this.clusterProps):this.points[u[p+3]])}return d}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",s=this.trees[n];if(!s)throw new Error(r);var o=s.data;if(t*this.stride>=o.length)throw new Error(r);var i=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=o[t*this.stride],l=o[t*this.stride+1],c=s.within(a,l,i),u=[];for(var d of c){var h=d*this.stride;o[h+4]===e&&u.push(o[h+5]>1?Be(o,h,this.clusterProps):this.points[o[h+3]])}if(0===u.length)throw new Error(r);return u}getLeaves(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){var r=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:i}=this.options,a=i/o,l=(n-a)/s,c=(n+1+a)/s,u={features:[]};return this._addTileFeatures(r.range((t-a)/s,l,(t+1+a)/s,c),r.data,t,n,s,u),0===t&&this._addTileFeatures(r.range(1-a/s,l,1,c),r.data,s,n,s,u),t===s-1&&this._addTileFeatures(r.range(0,l,a/s,c),r.data,-1,n,s,u),u.features.length?u:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,s){var o=this.getChildren(t);for(var i of o){var a=i.properties;if(a&&a.cluster?s+a.point_count<=r?s+=a.point_count:s=this._appendLeaves(e,a.cluster_id,n,r,s):s<r?s++:e.push(i),e.length===n)break}return s}_createTree(e){for(var t=new Oe(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,s,o){for(var i of e){var a=i*this.stride,l=t[a+5]>1,c=void 0,u=void 0,d=void 0;if(l)c=Fe(t,a,this.clusterProps),u=t[a],d=t[a+1];else{var h=this.points[t[a+3]];c=h.properties;var[p,f]=h.geometry.coordinates;u=He(p),d=We(f)}var g={type:1,geometry:[[Math.round(this.options.extent*(u*s-n)),Math.round(this.options.extent*(d*s-r))]],tags:c},m=void 0;void 0!==(m=l||this.options.generateId?t[a+3]:this.points[t[a+3]].id)&&(g.id=m),o.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:n,extent:r,reduce:s,minPoints:o}=this.options,i=n/(r*Math.pow(2,t)),a=e.data,l=[],c=this.stride,u=0;u<a.length;u+=c)if(!(a[u+2]<=t)){a[u+2]=t;var d=a[u],h=a[u+1],p=e.within(a[u],a[u+1],i),f=a[u+5],g=f;for(var m of p){var v=m*c;a[v+2]>t&&(g+=a[v+5])}if(g>f&&g>=o){var y=d*f,b=h*f,w=void 0,k=-1,S=(u/c<<5)+(t+1)+this.points.length;for(var x of p){var C=x*c;if(!(a[C+2]<=t)){a[C+2]=t;var E=a[C+5];y+=a[C]*E,b+=a[C+1]*E,a[C+4]=S,s&&(w||(w=this._map(a,u,!0),k=this.clusterProps.length,this.clusterProps.push(w)),s(w,this._map(a,C)))}}a[u+4]=S,l.push(y/g,b/g,1/0,S,-1,g),s&&l.push(k)}else{for(var _=0;_<c;_++)l.push(a[u+_]);if(g>1)for(var L of p){var j=L*c;if(!(a[j+2]<=t)){a[j+2]=t;for(var P=0;P<c;P++)l.push(a[j+P])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+5]>1){var r=this.clusterProps[e[t+6]];return n?Object.assign({},r):r}var s=this.points[e[t+3]].properties,o=this.options.map(s);return n&&o===s?Object.assign({},o):o}}function Be(e,t,n){return{type:"Feature",id:e[t+3],properties:Fe(e,t,n),geometry:{type:"Point",coordinates:[Ve(e[t]),qe(e[t+1])]}}}function Fe(e,t,n){var r=e[t+5],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,o=e[t+6],i=-1===o?{}:Object.assign({},n[o]);return Object.assign(i,{cluster:!0,cluster_id:e[t+3],point_count:r,point_count_abbreviated:s})}function He(e){return e/360+.5}function We(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Ve(e){return 360*(e-.5)}function qe(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function Ge(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}class Ke{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class $e{constructor(e){var{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0!==this.markers.length||this._position){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(Ke.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Ke.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Ke.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Ze{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return Qe(t)}}var Je,Qe=e=>e.map(e=>new $e({position:Ke.getPosition(e),markers:[e]}));class Ye extends Ze{constructor(e){var{maxZoom:t,radius:n=60}=e,r=Ge(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new Ue(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){var t=!1,n={zoom:e.map.getZoom()};if(!je(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var r=this.markers.map(e=>{var t=Ke.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}});this.superCluster.load(r)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!je(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(e=>this.transformCluster(e))}transformCluster(e){var{geometry:{coordinates:[t,n]},properties:r}=e;if(r.cluster)return new $e({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(e=>e.properties.marker),position:{lat:n,lng:t}});var s=r.marker;return new $e({markers:[s],position:Ke.getPosition(s)})}}class Xe{constructor(e,t){this.markers={sum:e.length};var n=t.map(e=>e.count),r=n.reduce((e,t)=>e+t,0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class et{render(e,t,n){var{count:r,position:s}=e,o=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",i='<svg fill="'.concat(o,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),a="Cluster of ".concat(r," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+r;if(Ke.isAdvancedMarkerAvailable(n)){var c=(new DOMParser).parseFromString(i,"image/svg+xml").documentElement;c.setAttribute("transform","translate(0 25)");var u={map:n,position:s,zIndex:l,title:a,content:c};return new google.maps.marker.AdvancedMarkerElement(u)}var d={position:s,zIndex:l,title:a,icon:{url:"data:image/svg+xml;base64,".concat(btoa(i)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}class tt{constructor(){!function(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}(tt,google.maps.OverlayView)}}!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(Je||(Je={}));var nt=(e,t,n)=>{n.fitBounds(t.bounds)};class rt extends tt{constructor(e){var{map:t,markers:n=[],algorithmOptions:r={},algorithm:s=new Ye(r),renderer:o=new et,onClusterClick:i=nt}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=s,this.renderer=o,this.onClusterClick=i,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(e=>{this.addMarker(e,!0)}),t||this.render()}removeMarker(e,t){var n=this.markers.indexOf(e);return-1!==n&&(Ke.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){var n=!1;return e.forEach(e=>{n=this.removeMarker(e,!0)||n}),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Je.CLUSTERING_BEGIN,this);var{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){var r=new Set;for(var s of t)1==s.markers.length&&r.add(s.markers[0]);var o=[];for(var i of this.clusters)null!=i.marker&&(1==i.markers.length?r.has(i.marker)||Ke.setMap(i.marker,null):o.push(i.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>o.forEach(e=>Ke.setMap(e,null)))}google.maps.event.trigger(this,Je.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Ke.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new Xe(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach(e=>Ke.setMap(e,null)),this.onClusterClick&&n.marker.addListener("click",e=>{google.maps.event.trigger(this,Je.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)})),Ke.setMap(n.marker,t)})}}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function it(e){var t=function(){g(!!r.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,r.useContext)(m);return g(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),[n,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(t&&null===n){var r=new rt(ot(ot({},e),{},{map:t}));s(r)}},[t]),n}(0,r.memo)(function(e){var{children:t,options:n}=e,r=it(n);return null!==r?t(r):null});var at={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},lt={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};(0,r.memo)(function(e){var{children:t,anchor:n,options:s,position:o,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:d,onZindexChanged:h,onLoad:p,onUnmount:f}=e,v=(0,r.useContext)(m),[y,b]=(0,r.useState)(null),[w,k]=(0,r.useState)(null),[S,x]=(0,r.useState)(null),[C,E]=(0,r.useState)(null),[_,L]=(0,r.useState)(null),[j,P]=(0,r.useState)(null),O=(0,r.useRef)(null);return(0,r.useEffect)(()=>{null!==y&&(y.close(),n?y.open(v,n):y.getPosition()&&y.open(v))},[v,y,n]),(0,r.useEffect)(()=>{s&&null!==y&&y.setOptions(s)},[y,s]),(0,r.useEffect)(()=>{o&&null!==y&&y.setPosition(o)},[o]),(0,r.useEffect)(()=>{"number"===typeof i&&null!==y&&y.setZIndex(i)},[i]),(0,r.useEffect)(()=>{y&&a&&(null!==w&&google.maps.event.removeListener(w),k(google.maps.event.addListener(y,"closeclick",a)))},[a]),(0,r.useEffect)(()=>{y&&l&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(y,"domready",l)))},[l]),(0,r.useEffect)(()=>{y&&c&&(null!==C&&google.maps.event.removeListener(C),E(google.maps.event.addListener(y,"content_changed",c)))},[c]),(0,r.useEffect)(()=>{y&&d&&(null!==_&&google.maps.event.removeListener(_),L(google.maps.event.addListener(y,"position_changed",d)))},[d]),(0,r.useEffect)(()=>{y&&h&&(null!==j&&google.maps.event.removeListener(j),P(google.maps.event.addListener(y,"zindex_changed",h)))},[h]),(0,r.useEffect)(()=>{var e=new google.maps.InfoWindow(s);return b(e),O.current=document.createElement("div"),a&&k(google.maps.event.addListener(e,"closeclick",a)),l&&x(google.maps.event.addListener(e,"domready",l)),c&&E(google.maps.event.addListener(e,"content_changed",c)),d&&L(google.maps.event.addListener(e,"position_changed",d)),h&&P(google.maps.event.addListener(e,"zindex_changed",h)),e.setContent(O.current),o&&e.setPosition(o),i&&e.setZIndex(i),n?e.open(v,n):e.getPosition()?e.open(v):g(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),p&&p(e),()=>{w&&google.maps.event.removeListener(w),C&&google.maps.event.removeListener(C),S&&google.maps.event.removeListener(S),_&&google.maps.event.removeListener(_),j&&google.maps.event.removeListener(j),f&&f(e),e.close()}},[]),O.current?(0,u.createPortal)(r.Children.only(t),O.current):null});class ct extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"containerElement",null),p(this,"state",{infoWindow:null}),p(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):g(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),p(this,"setInfoWindowCallback",()=>{null!==this.state.infoWindow&&null!==this.containerElement&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=k({updaterMap:lt,eventMap:at,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){null!==this.state.infoWindow&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:lt,eventMap:at,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){null!==this.state.infoWindow&&(w(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?(0,u.createPortal)(r.Children.only(this.props.children),this.containerElement):null}}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}p(ct,"contextType",m);var ht={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},pt={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},ft={};(0,r.memo)(function(e){var{options:t,draggable:n,editable:s,visible:o,path:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:p,onMouseUp:f,onRightClick:g,onClick:v,onDrag:y,onLoad:b,onUnmount:w}=e,k=(0,r.useContext)(m),[S,x]=(0,r.useState)(null),[C,E]=(0,r.useState)(null),[_,L]=(0,r.useState)(null),[j,P]=(0,r.useState)(null),[O,T]=(0,r.useState)(null),[N,M]=(0,r.useState)(null),[A,I]=(0,r.useState)(null),[R,D]=(0,r.useState)(null),[z,U]=(0,r.useState)(null),[B,F]=(0,r.useState)(null),[H,W]=(0,r.useState)(null),[V,q]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==S&&S.setMap(k)},[k]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==S&&S.setOptions(t)},[S,t]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==S&&S.setDraggable(n)},[S,n]),(0,r.useEffect)(()=>{"undefined"!==typeof s&&null!==S&&S.setEditable(s)},[S,s]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==S&&S.setVisible(o)},[S,o]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==S&&S.setPath(i)},[S,i]),(0,r.useEffect)(()=>{S&&a&&(null!==C&&google.maps.event.removeListener(C),E(google.maps.event.addListener(S,"dblclick",a)))},[a]),(0,r.useEffect)(()=>{S&&l&&(null!==_&&google.maps.event.removeListener(_),L(google.maps.event.addListener(S,"dragend",l)))},[l]),(0,r.useEffect)(()=>{S&&c&&(null!==j&&google.maps.event.removeListener(j),P(google.maps.event.addListener(S,"dragstart",c)))},[c]),(0,r.useEffect)(()=>{S&&u&&(null!==O&&google.maps.event.removeListener(O),T(google.maps.event.addListener(S,"mousedown",u)))},[u]),(0,r.useEffect)(()=>{S&&d&&(null!==N&&google.maps.event.removeListener(N),M(google.maps.event.addListener(S,"mousemove",d)))},[d]),(0,r.useEffect)(()=>{S&&h&&(null!==A&&google.maps.event.removeListener(A),I(google.maps.event.addListener(S,"mouseout",h)))},[h]),(0,r.useEffect)(()=>{S&&p&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(S,"mouseover",p)))},[p]),(0,r.useEffect)(()=>{S&&f&&(null!==z&&google.maps.event.removeListener(z),U(google.maps.event.addListener(S,"mouseup",f)))},[f]),(0,r.useEffect)(()=>{S&&g&&(null!==B&&google.maps.event.removeListener(B),F(google.maps.event.addListener(S,"rightclick",g)))},[g]),(0,r.useEffect)(()=>{S&&v&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(S,"click",v)))},[v]),(0,r.useEffect)(()=>{S&&y&&(null!==V&&google.maps.event.removeListener(V),q(google.maps.event.addListener(S,"drag",y)))},[y]),(0,r.useEffect)(()=>{var e=new google.maps.Polyline(dt(dt({},t||ft),{},{map:k}));return i&&e.setPath(i),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof n&&e.setDraggable(n),a&&E(google.maps.event.addListener(e,"dblclick",a)),l&&L(google.maps.event.addListener(e,"dragend",l)),c&&P(google.maps.event.addListener(e,"dragstart",c)),u&&T(google.maps.event.addListener(e,"mousedown",u)),d&&M(google.maps.event.addListener(e,"mousemove",d)),h&&I(google.maps.event.addListener(e,"mouseout",h)),p&&D(google.maps.event.addListener(e,"mouseover",p)),f&&U(google.maps.event.addListener(e,"mouseup",f)),g&&F(google.maps.event.addListener(e,"rightclick",g)),v&&W(google.maps.event.addListener(e,"click",v)),y&&q(google.maps.event.addListener(e,"drag",y)),x(e),b&&b(e),()=>{null!==C&&google.maps.event.removeListener(C),null!==_&&google.maps.event.removeListener(_),null!==j&&google.maps.event.removeListener(j),null!==O&&google.maps.event.removeListener(O),null!==N&&google.maps.event.removeListener(N),null!==A&&google.maps.event.removeListener(A),null!==R&&google.maps.event.removeListener(R),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),w&&w(e),e.setMap(null)}},[]),null});class gt extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"state",{polyline:null}),p(this,"setPolylineCallback",()=>{null!==this.state.polyline&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(dt(dt({},this.props.options),{},{map:this.context}));this.registeredEvents=k({updaterMap:pt,eventMap:ht,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){null!==this.state.polyline&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:pt,eventMap:ht,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),w(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}p(gt,"contextType",m);var yt={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},bt={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};(0,r.memo)(function(e){var{options:t,draggable:n,editable:s,visible:o,path:i,paths:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:h,onMouseOut:p,onMouseOver:f,onMouseUp:g,onRightClick:v,onClick:y,onDrag:b,onLoad:w,onUnmount:k,onEdit:S}=e,x=(0,r.useContext)(m),[C,E]=(0,r.useState)(null),[_,L]=(0,r.useState)(null),[j,P]=(0,r.useState)(null),[O,T]=(0,r.useState)(null),[N,M]=(0,r.useState)(null),[A,I]=(0,r.useState)(null),[R,D]=(0,r.useState)(null),[z,U]=(0,r.useState)(null),[B,F]=(0,r.useState)(null),[H,W]=(0,r.useState)(null),[V,q]=(0,r.useState)(null),[G,K]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==C&&C.setMap(x)},[x]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==C&&C.setOptions(t)},[C,t]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==C&&C.setDraggable(n)},[C,n]),(0,r.useEffect)(()=>{"undefined"!==typeof s&&null!==C&&C.setEditable(s)},[C,s]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==C&&C.setVisible(o)},[C,o]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==C&&C.setPath(i)},[C,i]),(0,r.useEffect)(()=>{"undefined"!==typeof a&&null!==C&&C.setPaths(a)},[C,a]),(0,r.useEffect)(()=>{C&&"function"===typeof l&&(null!==_&&google.maps.event.removeListener(_),L(google.maps.event.addListener(C,"dblclick",l)))},[l]),(0,r.useEffect)(()=>{C&&(google.maps.event.addListener(C.getPath(),"insert_at",()=>{null===S||void 0===S||S(C)}),google.maps.event.addListener(C.getPath(),"set_at",()=>{null===S||void 0===S||S(C)}),google.maps.event.addListener(C.getPath(),"remove_at",()=>{null===S||void 0===S||S(C)}))},[C,S]),(0,r.useEffect)(()=>{C&&"function"===typeof c&&(null!==j&&google.maps.event.removeListener(j),P(google.maps.event.addListener(C,"dragend",c)))},[c]),(0,r.useEffect)(()=>{C&&"function"===typeof u&&(null!==O&&google.maps.event.removeListener(O),T(google.maps.event.addListener(C,"dragstart",u)))},[u]),(0,r.useEffect)(()=>{C&&"function"===typeof d&&(null!==N&&google.maps.event.removeListener(N),M(google.maps.event.addListener(C,"mousedown",d)))},[d]),(0,r.useEffect)(()=>{C&&"function"===typeof h&&(null!==A&&google.maps.event.removeListener(A),I(google.maps.event.addListener(C,"mousemove",h)))},[h]),(0,r.useEffect)(()=>{C&&"function"===typeof p&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(C,"mouseout",p)))},[p]),(0,r.useEffect)(()=>{C&&"function"===typeof f&&(null!==z&&google.maps.event.removeListener(z),U(google.maps.event.addListener(C,"mouseover",f)))},[f]),(0,r.useEffect)(()=>{C&&"function"===typeof g&&(null!==B&&google.maps.event.removeListener(B),F(google.maps.event.addListener(C,"mouseup",g)))},[g]),(0,r.useEffect)(()=>{C&&"function"===typeof v&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(C,"rightclick",v)))},[v]),(0,r.useEffect)(()=>{C&&"function"===typeof y&&(null!==V&&google.maps.event.removeListener(V),q(google.maps.event.addListener(C,"click",y)))},[y]),(0,r.useEffect)(()=>{C&&"function"===typeof b&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(C,"drag",b)))},[b]),(0,r.useEffect)(()=>{var e=new google.maps.Polygon(vt(vt({},t),{},{map:x}));return i&&e.setPath(i),a&&e.setPaths(a),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof n&&e.setDraggable(n),l&&L(google.maps.event.addListener(e,"dblclick",l)),c&&P(google.maps.event.addListener(e,"dragend",c)),u&&T(google.maps.event.addListener(e,"dragstart",u)),d&&M(google.maps.event.addListener(e,"mousedown",d)),h&&I(google.maps.event.addListener(e,"mousemove",h)),p&&D(google.maps.event.addListener(e,"mouseout",p)),f&&U(google.maps.event.addListener(e,"mouseover",f)),g&&F(google.maps.event.addListener(e,"mouseup",g)),v&&W(google.maps.event.addListener(e,"rightclick",v)),y&&q(google.maps.event.addListener(e,"click",y)),b&&K(google.maps.event.addListener(e,"drag",b)),E(e),w&&w(e),()=>{null!==_&&google.maps.event.removeListener(_),null!==j&&google.maps.event.removeListener(j),null!==O&&google.maps.event.removeListener(O),null!==N&&google.maps.event.removeListener(N),null!==A&&google.maps.event.removeListener(A),null!==R&&google.maps.event.removeListener(R),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),null!==V&&google.maps.event.removeListener(V),k&&k(e),e.setMap(null)}},[]),null});class wt extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=k({updaterMap:bt,eventMap:yt,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:bt,eventMap:yt,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),w(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}p(wt,"contextType",m);var xt={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ct={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};(0,r.memo)(function(e){var{options:t,bounds:n,draggable:s,editable:o,visible:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:p,onMouseUp:f,onRightClick:g,onClick:v,onDrag:y,onBoundsChanged:b,onLoad:w,onUnmount:k}=e,S=(0,r.useContext)(m),[x,C]=(0,r.useState)(null),[E,_]=(0,r.useState)(null),[L,j]=(0,r.useState)(null),[P,O]=(0,r.useState)(null),[T,N]=(0,r.useState)(null),[M,A]=(0,r.useState)(null),[I,R]=(0,r.useState)(null),[D,z]=(0,r.useState)(null),[U,B]=(0,r.useState)(null),[F,H]=(0,r.useState)(null),[W,V]=(0,r.useState)(null),[q,G]=(0,r.useState)(null),[K,$]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==x&&x.setMap(S)},[S]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==x&&x.setOptions(t)},[x,t]),(0,r.useEffect)(()=>{"undefined"!==typeof s&&null!==x&&x.setDraggable(s)},[x,s]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==x&&x.setEditable(o)},[x,o]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==x&&x.setVisible(i)},[x,i]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==x&&x.setBounds(n)},[x,n]),(0,r.useEffect)(()=>{x&&a&&(null!==E&&google.maps.event.removeListener(E),_(google.maps.event.addListener(x,"dblclick",a)))},[a]),(0,r.useEffect)(()=>{x&&l&&(null!==L&&google.maps.event.removeListener(L),j(google.maps.event.addListener(x,"dragend",l)))},[l]),(0,r.useEffect)(()=>{x&&c&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(x,"dragstart",c)))},[c]),(0,r.useEffect)(()=>{x&&u&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(x,"mousedown",u)))},[u]),(0,r.useEffect)(()=>{x&&d&&(null!==M&&google.maps.event.removeListener(M),A(google.maps.event.addListener(x,"mousemove",d)))},[d]),(0,r.useEffect)(()=>{x&&h&&(null!==I&&google.maps.event.removeListener(I),R(google.maps.event.addListener(x,"mouseout",h)))},[h]),(0,r.useEffect)(()=>{x&&p&&(null!==D&&google.maps.event.removeListener(D),z(google.maps.event.addListener(x,"mouseover",p)))},[p]),(0,r.useEffect)(()=>{x&&f&&(null!==U&&google.maps.event.removeListener(U),B(google.maps.event.addListener(x,"mouseup",f)))},[f]),(0,r.useEffect)(()=>{x&&g&&(null!==F&&google.maps.event.removeListener(F),H(google.maps.event.addListener(x,"rightclick",g)))},[g]),(0,r.useEffect)(()=>{x&&v&&(null!==W&&google.maps.event.removeListener(W),V(google.maps.event.addListener(x,"click",v)))},[v]),(0,r.useEffect)(()=>{x&&y&&(null!==q&&google.maps.event.removeListener(q),G(google.maps.event.addListener(x,"drag",y)))},[y]),(0,r.useEffect)(()=>{x&&b&&(null!==K&&google.maps.event.removeListener(K),$(google.maps.event.addListener(x,"bounds_changed",b)))},[b]),(0,r.useEffect)(()=>{var e=new google.maps.Rectangle(St(St({},t),{},{map:S}));return"undefined"!==typeof i&&e.setVisible(i),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof s&&e.setDraggable(s),"undefined"!==typeof n&&e.setBounds(n),a&&_(google.maps.event.addListener(e,"dblclick",a)),l&&j(google.maps.event.addListener(e,"dragend",l)),c&&O(google.maps.event.addListener(e,"dragstart",c)),u&&N(google.maps.event.addListener(e,"mousedown",u)),d&&A(google.maps.event.addListener(e,"mousemove",d)),h&&R(google.maps.event.addListener(e,"mouseout",h)),p&&z(google.maps.event.addListener(e,"mouseover",p)),f&&B(google.maps.event.addListener(e,"mouseup",f)),g&&H(google.maps.event.addListener(e,"rightclick",g)),v&&V(google.maps.event.addListener(e,"click",v)),y&&G(google.maps.event.addListener(e,"drag",y)),b&&$(google.maps.event.addListener(e,"bounds_changed",b)),C(e),w&&w(e),()=>{null!==E&&google.maps.event.removeListener(E),null!==L&&google.maps.event.removeListener(L),null!==P&&google.maps.event.removeListener(P),null!==T&&google.maps.event.removeListener(T),null!==M&&google.maps.event.removeListener(M),null!==I&&google.maps.event.removeListener(I),null!==D&&google.maps.event.removeListener(D),null!==U&&google.maps.event.removeListener(U),null!==F&&google.maps.event.removeListener(F),null!==W&&google.maps.event.removeListener(W),null!==q&&google.maps.event.removeListener(q),null!==K&&google.maps.event.removeListener(K),k&&k(e),e.setMap(null)}},[]),null});class Et extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"state",{rectangle:null}),p(this,"setRectangleCallback",()=>{null!==this.state.rectangle&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(St(St({},this.props.options),{},{map:this.context}));this.registeredEvents=k({updaterMap:Ct,eventMap:xt,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){null!==this.state.rectangle&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:Ct,eventMap:xt,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),w(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}p(Et,"contextType",m);var jt={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Pt={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},Ot={};(0,r.memo)(function(e){var{options:t,center:n,radius:s,draggable:o,editable:i,visible:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:h,onMouseOut:p,onMouseOver:f,onMouseUp:g,onRightClick:v,onClick:y,onDrag:b,onCenterChanged:w,onRadiusChanged:k,onLoad:S,onUnmount:x}=e,C=(0,r.useContext)(m),[E,_]=(0,r.useState)(null),[L,j]=(0,r.useState)(null),[P,O]=(0,r.useState)(null),[T,N]=(0,r.useState)(null),[M,A]=(0,r.useState)(null),[I,R]=(0,r.useState)(null),[D,z]=(0,r.useState)(null),[U,B]=(0,r.useState)(null),[F,H]=(0,r.useState)(null),[W,V]=(0,r.useState)(null),[q,G]=(0,r.useState)(null),[K,$]=(0,r.useState)(null),[Z,J]=(0,r.useState)(null),[Q,Y]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==E&&E.setMap(C)},[C]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==E&&E.setOptions(t)},[E,t]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==E&&E.setDraggable(o)},[E,o]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==E&&E.setEditable(i)},[E,i]),(0,r.useEffect)(()=>{"undefined"!==typeof a&&null!==E&&E.setVisible(a)},[E,a]),(0,r.useEffect)(()=>{"number"===typeof s&&null!==E&&E.setRadius(s)},[E,s]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==E&&E.setCenter(n)},[E,n]),(0,r.useEffect)(()=>{E&&l&&(null!==L&&google.maps.event.removeListener(L),j(google.maps.event.addListener(E,"dblclick",l)))},[l]),(0,r.useEffect)(()=>{E&&c&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(E,"dragend",c)))},[c]),(0,r.useEffect)(()=>{E&&u&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(E,"dragstart",u)))},[u]),(0,r.useEffect)(()=>{E&&d&&(null!==M&&google.maps.event.removeListener(M),A(google.maps.event.addListener(E,"mousedown",d)))},[d]),(0,r.useEffect)(()=>{E&&h&&(null!==I&&google.maps.event.removeListener(I),R(google.maps.event.addListener(E,"mousemove",h)))},[h]),(0,r.useEffect)(()=>{E&&p&&(null!==D&&google.maps.event.removeListener(D),z(google.maps.event.addListener(E,"mouseout",p)))},[p]),(0,r.useEffect)(()=>{E&&f&&(null!==U&&google.maps.event.removeListener(U),B(google.maps.event.addListener(E,"mouseover",f)))},[f]),(0,r.useEffect)(()=>{E&&g&&(null!==F&&google.maps.event.removeListener(F),H(google.maps.event.addListener(E,"mouseup",g)))},[g]),(0,r.useEffect)(()=>{E&&v&&(null!==W&&google.maps.event.removeListener(W),V(google.maps.event.addListener(E,"rightclick",v)))},[v]),(0,r.useEffect)(()=>{E&&y&&(null!==q&&google.maps.event.removeListener(q),G(google.maps.event.addListener(E,"click",y)))},[y]),(0,r.useEffect)(()=>{E&&b&&(null!==K&&google.maps.event.removeListener(K),$(google.maps.event.addListener(E,"drag",b)))},[b]),(0,r.useEffect)(()=>{E&&w&&(null!==Z&&google.maps.event.removeListener(Z),J(google.maps.event.addListener(E,"center_changed",w)))},[y]),(0,r.useEffect)(()=>{E&&k&&(null!==Q&&google.maps.event.removeListener(Q),Y(google.maps.event.addListener(E,"radius_changed",k)))},[k]),(0,r.useEffect)(()=>{var e=new google.maps.Circle(Lt(Lt({},t||Ot),{},{map:C}));return"number"===typeof s&&e.setRadius(s),"undefined"!==typeof n&&e.setCenter(n),"number"===typeof s&&e.setRadius(s),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof o&&e.setDraggable(o),l&&j(google.maps.event.addListener(e,"dblclick",l)),c&&O(google.maps.event.addListener(e,"dragend",c)),u&&N(google.maps.event.addListener(e,"dragstart",u)),d&&A(google.maps.event.addListener(e,"mousedown",d)),h&&R(google.maps.event.addListener(e,"mousemove",h)),p&&z(google.maps.event.addListener(e,"mouseout",p)),f&&B(google.maps.event.addListener(e,"mouseover",f)),g&&H(google.maps.event.addListener(e,"mouseup",g)),v&&V(google.maps.event.addListener(e,"rightclick",v)),y&&G(google.maps.event.addListener(e,"click",y)),b&&$(google.maps.event.addListener(e,"drag",b)),w&&J(google.maps.event.addListener(e,"center_changed",w)),k&&Y(google.maps.event.addListener(e,"radius_changed",k)),_(e),S&&S(e),()=>{null!==L&&google.maps.event.removeListener(L),null!==P&&google.maps.event.removeListener(P),null!==T&&google.maps.event.removeListener(T),null!==M&&google.maps.event.removeListener(M),null!==I&&google.maps.event.removeListener(I),null!==D&&google.maps.event.removeListener(D),null!==U&&google.maps.event.removeListener(U),null!==F&&google.maps.event.removeListener(F),null!==W&&google.maps.event.removeListener(W),null!==q&&google.maps.event.removeListener(q),null!==Z&&google.maps.event.removeListener(Z),null!==Q&&google.maps.event.removeListener(Q),x&&x(e),e.setMap(null)}},[]),null});class Tt extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"state",{circle:null}),p(this,"setCircleCallback",()=>{null!==this.state.circle&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Lt(Lt({},this.props.options),{},{map:this.context}));this.registeredEvents=k({updaterMap:Pt,eventMap:jt,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){null!==this.state.circle&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:Pt,eventMap:jt,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),w(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))}render(){return null}}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}p(Tt,"contextType",m);var At={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},It={add(e,t){e.add(t)},addgeojson(e,t,n){e.addGeoJson(t,n)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle(e,t,n){e.overrideStyle(t,n)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};(0,r.memo)(function(e){var{options:t,onClick:n,onDblClick:s,onMouseDown:o,onMouseMove:i,onMouseOut:a,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:d,onRemoveFeature:h,onRemoveProperty:p,onSetGeometry:f,onSetProperty:g,onLoad:v,onUnmount:y}=e,b=(0,r.useContext)(m),[w,k]=(0,r.useState)(null),[S,x]=(0,r.useState)(null),[C,E]=(0,r.useState)(null),[_,L]=(0,r.useState)(null),[j,P]=(0,r.useState)(null),[O,T]=(0,r.useState)(null),[N,M]=(0,r.useState)(null),[A,I]=(0,r.useState)(null),[R,D]=(0,r.useState)(null),[z,U]=(0,r.useState)(null),[B,F]=(0,r.useState)(null),[H,W]=(0,r.useState)(null),[V,q]=(0,r.useState)(null),[G,K]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==w&&w.setMap(b)},[b]),(0,r.useEffect)(()=>{w&&s&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(w,"dblclick",s)))},[s]),(0,r.useEffect)(()=>{w&&o&&(null!==C&&google.maps.event.removeListener(C),E(google.maps.event.addListener(w,"mousedown",o)))},[o]),(0,r.useEffect)(()=>{w&&i&&(null!==_&&google.maps.event.removeListener(_),L(google.maps.event.addListener(w,"mousemove",i)))},[i]),(0,r.useEffect)(()=>{w&&a&&(null!==j&&google.maps.event.removeListener(j),P(google.maps.event.addListener(w,"mouseout",a)))},[a]),(0,r.useEffect)(()=>{w&&l&&(null!==O&&google.maps.event.removeListener(O),T(google.maps.event.addListener(w,"mouseover",l)))},[l]),(0,r.useEffect)(()=>{w&&c&&(null!==N&&google.maps.event.removeListener(N),M(google.maps.event.addListener(w,"mouseup",c)))},[c]),(0,r.useEffect)(()=>{w&&u&&(null!==A&&google.maps.event.removeListener(A),I(google.maps.event.addListener(w,"rightclick",u)))},[u]),(0,r.useEffect)(()=>{w&&n&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(w,"click",n)))},[n]),(0,r.useEffect)(()=>{w&&d&&(null!==z&&google.maps.event.removeListener(z),U(google.maps.event.addListener(w,"addfeature",d)))},[d]),(0,r.useEffect)(()=>{w&&h&&(null!==B&&google.maps.event.removeListener(B),F(google.maps.event.addListener(w,"removefeature",h)))},[h]),(0,r.useEffect)(()=>{w&&p&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(w,"removeproperty",p)))},[p]),(0,r.useEffect)(()=>{w&&f&&(null!==V&&google.maps.event.removeListener(V),q(google.maps.event.addListener(w,"setgeometry",f)))},[f]),(0,r.useEffect)(()=>{w&&g&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(w,"setproperty",g)))},[g]),(0,r.useEffect)(()=>{if(null!==b){var e=new google.maps.Data(Mt(Mt({},t),{},{map:b}));s&&x(google.maps.event.addListener(e,"dblclick",s)),o&&E(google.maps.event.addListener(e,"mousedown",o)),i&&L(google.maps.event.addListener(e,"mousemove",i)),a&&P(google.maps.event.addListener(e,"mouseout",a)),l&&T(google.maps.event.addListener(e,"mouseover",l)),c&&M(google.maps.event.addListener(e,"mouseup",c)),u&&I(google.maps.event.addListener(e,"rightclick",u)),n&&D(google.maps.event.addListener(e,"click",n)),d&&U(google.maps.event.addListener(e,"addfeature",d)),h&&F(google.maps.event.addListener(e,"removefeature",h)),p&&W(google.maps.event.addListener(e,"removeproperty",p)),f&&q(google.maps.event.addListener(e,"setgeometry",f)),g&&K(google.maps.event.addListener(e,"setproperty",g)),k(e),v&&v(e)}return()=>{w&&(null!==S&&google.maps.event.removeListener(S),null!==C&&google.maps.event.removeListener(C),null!==_&&google.maps.event.removeListener(_),null!==j&&google.maps.event.removeListener(j),null!==O&&google.maps.event.removeListener(O),null!==N&&google.maps.event.removeListener(N),null!==A&&google.maps.event.removeListener(A),null!==R&&google.maps.event.removeListener(R),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),null!==V&&google.maps.event.removeListener(V),null!==G&&google.maps.event.removeListener(G),y&&y(w),w.setMap(null))}},[]),null});class Rt extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"state",{data:null}),p(this,"setDataCallback",()=>{null!==this.state.data&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(null!==this.context){var e=new google.maps.Data(Mt(Mt({},this.props.options),{},{map:this.context}));this.registeredEvents=k({updaterMap:It,eventMap:At,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){null!==this.state.data&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:It,eventMap:At,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),w(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}p(Rt,"contextType",m);var Ut={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Bt={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class Ft extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"state",{kmlLayer:null}),p(this,"setKmlLayerCallback",()=>{null!==this.state.kmlLayer&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(zt(zt({},this.props.options),{},{map:this.context}));this.registeredEvents=k({updaterMap:Bt,eventMap:Ut,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){null!==this.state.kmlLayer&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:Bt,eventMap:Ut,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),w(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}function Ht(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function Wt(e,t){return new t(e.lat,e.lng)}function Vt(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function qt(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),s=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-s.x-t.x,"px"),height:"".concat(s.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,(s=n,o=google.maps.LatLngBounds,i=Vt,s instanceof o?s:i(s,o))):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var{x:s,y:o}=r;return{left:"".concat(s+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,Wt));var s,o,i}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kt(e,t,n,r,s){class o extends google.maps.OverlayView{constructor(e,t,n,r){super(),this.container=e,this.pane=t,this.position=n,this.bounds=r}onAdd(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)}draw(){var e=this.getProjection(),t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.container?Ht(this.container,s):{x:0,y:0}),n=qt(e,t,this.bounds,this.position);for(var[r,o]of Object.entries(n))this.container.style[r]=o}onRemove(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}return new o(e,t,n,r)}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zt(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function Jt(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}p(Ft,"contextType",m);(0,r.memo)(function(e){var{position:t,bounds:n,mapPaneName:s,zIndex:o,onLoad:i,onUnmount:a,getPixelPositionOffset:l,children:c}=e,d=(0,r.useContext)(m),h=(0,r.useMemo)(()=>{var e=document.createElement("div");return e.style.position="absolute",e},[]),p=(0,r.useMemo)(()=>Kt(h,s,t,n,l),[h,s,t,n]);return(0,r.useEffect)(()=>(null===i||void 0===i||i(p),null===p||void 0===p||p.setMap(d),()=>{null===a||void 0===a||a(p),null===p||void 0===p||p.setMap(null)}),[d,p]),(0,r.useEffect)(()=>{h.style.zIndex="".concat(o)},[o,h]),u.createPortal(c,h)});class Qt extends r.PureComponent{constructor(e){super(e),p(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),p(this,"updatePane",()=>{var e=this.props.mapPaneName,t=this.overlayView.getPanes();g(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?this.setState({paneEl:t[e]}):this.setState({paneEl:null})}),p(this,"onAdd",()=>{var e,t;this.updatePane(),null===(e=(t=this.props).onLoad)||void 0===e||e.call(t,this.overlayView)}),p(this,"onPositionElement",()=>{var e,t,n,r,s,o,i=this.overlayView.getProjection(),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:0,y:0},this.containerRef.current?Ht(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=qt(i,a,this.props.bounds,this.props.position);(s=l,o={left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height},s.left!==o.left||s.top!==o.top||s.width!==o.height||s.height!==o.height)&&this.setState({containerStyle:{top:null!==(e=l.top)&&void 0!==e?e:0,left:null!==(t=l.left)&&void 0!==t?t:0,width:null!==(n=l.width)&&void 0!==n?n:0,height:null!==(r=l.height)&&void 0!==r?r:0,position:"absolute"}})}),p(this,"draw",()=>{this.onPositionElement()}),p(this,"onRemove",()=>{var e,t;this.setState(()=>({paneEl:null})),null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t,this.overlayView)}),this.containerRef=(0,r.createRef)();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=Zt(e.position),n=Zt(this.props.position),r=Jt(e.bounds),s=Jt(this.props.bounds);t===n&&r===s||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?u.createPortal((0,i.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:r.Children.only(this.props.children)}),e):null}}function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}p(Qt,"FLOAT_PANE","floatPane"),p(Qt,"MAP_PANE","mapPane"),p(Qt,"MARKER_LAYER","markerLayer"),p(Qt,"OVERLAY_LAYER","overlayLayer"),p(Qt,"OVERLAY_MOUSE_TARGET","overlayMouseTarget"),p(Qt,"contextType",m);var en={onDblClick:"dblclick",onClick:"click"},tn={opacity(e,t){e.setOpacity(t)}};(0,r.memo)(function(e){var{url:t,bounds:n,options:s,visible:o}=e,i=(0,r.useContext)(m),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=(0,r.useMemo)(()=>new google.maps.GroundOverlay(t,a,s),[]);return(0,r.useEffect)(()=>{null!==l&&l.setMap(i)},[i]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==l&&(l.set("url",t),l.setMap(i))},[l,t]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==l&&l.setOpacity(o?1:0)},[l,o]),(0,r.useEffect)(()=>{var e=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));"undefined"!==typeof n&&null!==l&&(l.set("bounds",e),l.setMap(i))},[l,n]),null});class nn extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"state",{groundOverlay:null}),p(this,"setGroundOverlayCallback",()=>{null!==this.state.groundOverlay&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){g(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Xt(Xt({},this.props.options),{},{map:this.context}));this.registeredEvents=k({updaterMap:tn,eventMap:en,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){null!==this.state.groundOverlay&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:tn,eventMap:en,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}p(nn,"defaultProps",{onLoad:function(){}}),p(nn,"contextType",m);var on={},an={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};(0,r.memo)(function(e){var{data:t,onLoad:n,onUnmount:s,options:o}=e,i=(0,r.useContext)(m),[a,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{google.maps.visualization||g(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),(0,r.useEffect)(()=>{g(!!t,"data property is required in HeatmapLayer %s",t)},[t]),(0,r.useEffect)(()=>{null!==a&&a.setMap(i)},[i]),(0,r.useEffect)(()=>{o&&null!==a&&a.setOptions(o)},[a,o]),(0,r.useEffect)(()=>{var e=new google.maps.visualization.HeatmapLayer(sn(sn({},o),{},{data:t,map:i}));return l(e),n&&n(e),()=>{null!==a&&(s&&s(a),a.setMap(null))}},[]),null});class ln extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"state",{heatmapLayer:null}),p(this,"setHeatmapLayerCallback",()=>{null!==this.state.heatmapLayer&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){g(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),g(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(sn(sn({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=k({updaterMap:an,eventMap:on,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){w(this.registeredEvents),this.registeredEvents=k({updaterMap:an,eventMap:on,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),w(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}p(ln,"contextType",m);var cn={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},un={register(e,t,n){e.registerPanoProvider(t,n)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class dn extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"state",{streetViewPanorama:null}),p(this,"setStreetViewPanoramaCallback",()=>{null!==this.state.streetViewPanorama&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,n=null!==(e=null===(t=this.context)||void 0===t?void 0:t.getStreetView())&&void 0!==e?e:null;this.registeredEvents=k({updaterMap:un,eventMap:cn,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){null!==this.state.streetViewPanorama&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:un,eventMap:cn,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),w(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}p(dn,"contextType",m);class hn extends r.PureComponent{constructor(){super(...arguments),p(this,"state",{streetViewService:null}),p(this,"setStreetViewServiceCallback",()=>{null!==this.state.streetViewService&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}p(hn,"contextType",m);r.PureComponent;var pn={onDirectionsChanged:"directions_changed"},fn={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class gn extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"state",{directionsRenderer:null}),p(this,"setDirectionsRendererCallback",()=>{null!==this.state.directionsRenderer&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=k({updaterMap:fn,eventMap:pn,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){null!==this.state.directionsRenderer&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:fn,eventMap:pn,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),w(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}p(gn,"contextType",m);r.PureComponent;var mn={onPlacesChanged:"places_changed"},vn={bounds(e,t){e.setBounds(t)}};class yn extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"containerElement",(0,r.createRef)()),p(this,"state",{searchBox:null}),p(this,"setSearchBoxCallback",()=>{null!==this.state.searchBox&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(g(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=k({updaterMap:vn,eventMap:mn,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){null!==this.state.searchBox&&(w(this.registeredEvents),this.registeredEvents=k({updaterMap:vn,eventMap:mn,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),w(this.registeredEvents))}render(){return(0,i.jsx)("div",{ref:this.containerElement,children:r.Children.only(this.props.children)})}}p(yn,"contextType",m);var bn={onPlaceChanged:"place_changed"},wn={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class kn extends r.PureComponent{constructor(){super(...arguments),p(this,"registeredEvents",[]),p(this,"containerElement",(0,r.createRef)()),p(this,"state",{autocomplete:null}),p(this,"setAutocompleteCallback",()=>{null!==this.state.autocomplete&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;g(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=k({updaterMap:wn,eventMap:bn,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){w(this.registeredEvents),this.registeredEvents=k({updaterMap:wn,eventMap:bn,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){null!==this.state.autocomplete&&w(this.registeredEvents)}render(){return(0,i.jsx)("div",{ref:this.containerElement,className:this.props.className,children:r.Children.only(this.props.children)})}}p(kn,"defaultProps",{className:""}),p(kn,"contextType",m);const Sn={lat:1.3521,lng:103.8198},xn={width:"100%",height:"100%"};function Cn(e){let{center:t=Sn,zoom:n=12,routeGeometry:s,incidents:o=[]}=e;const a=(0,r.useMemo)(()=>{var e;return s?Array.isArray(s)&&void 0!==(null===(e=s[0])||void 0===e?void 0:e.lat)?s:Array.isArray(s)&&Array.isArray(s[0])?s.map(e=>{let[t,n]=e;return{lat:n,lng:t}}):null:null},[s]);return(0,i.jsx)(R,{googleMapsApiKey:"AIzaSyDzxaLJiJgdKYs2WqTPrmeT2k8JoHTj8kk",children:(0,i.jsxs)(C,{mapContainerStyle:xn,center:t,zoom:n,children:[(0,i.jsx)(q,{}),a&&(0,i.jsx)(gt,{path:a,options:{strokeWeight:6,strokeColor:"#2563eb"}}),o.map(e=>(0,i.jsx)(se,{position:{lat:e.lat,lng:e.lng},title:e.title},e.id))]})})}function En(e){let{selectedRoute:t,incidents:n=[]}=e;return(0,i.jsx)("div",{style:{position:"absolute",inset:0},children:(0,i.jsx)(Cn,{routeGeometry:null===t||void 0===t?void 0:t.geometry,incidents:n})})}function _n(e){let{open:t,onClose:n,activePage:r="live",onNavigate:s,isGuest:o=!1,onCreateAccount:a,onSignIn:l,onLogout:c,userName:u="User"}=e;if(!t)return null;const d=e=>{null===s||void 0===s||s(e),null===n||void 0===n||n()},h=()=>l?l():null===a||void 0===a?void 0:a();return(0,i.jsx)("div",{className:"sm-backdrop",onClick:e=>e.target===e.currentTarget&&(null===n||void 0===n?void 0:n()),role:"dialog","aria-modal":"true","aria-label":"Side menu",children:(0,i.jsxs)("aside",{className:"sm-panel sm-panel--new",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:"sm-close","aria-label":"Close",title:"Close",onClick:n,children:"\u2715"}),(0,i.jsx)("div",{className:"sm-brand sm-brand--compact","aria-hidden":!0}),o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"sm-user-row",children:[(0,i.jsx)("div",{className:"sm-avatar",children:"\ud83d\udc64"}),(0,i.jsxs)("div",{className:"sm-user-main",children:[(0,i.jsx)("div",{className:"sm-user-name",children:"Guest User"}),(0,i.jsx)("button",{className:"sm-user-pill",onClick:()=>null===l||void 0===l?void 0:l(),children:"Log In"})]})]}),(0,i.jsxs)("nav",{className:"sm-nav","aria-label":"Navigation",children:[(0,i.jsxs)("button",{className:"sm-nav-item "+("live"===r?"is-active":""),onClick:()=>d("live"),children:[(0,i.jsx)("span",{className:"sm-nav-ico",children:"\ud83e\udded"})," Plan Route"]}),(0,i.jsxs)("button",{className:"sm-nav-item is-locked",onClick:h,title:"Register to unlock",children:[(0,i.jsx)("span",{className:"sm-nav-ico",children:"\u2b50"})," Saved Route & Favourites ",(0,i.jsx)("span",{className:"sm-lock",children:"\ud83d\udd12"})]}),(0,i.jsxs)("button",{className:"sm-nav-item is-locked",onClick:h,title:"Register to unlock",children:[(0,i.jsx)("span",{className:"sm-nav-ico",children:"\u2699\ufe0f"})," Settings"," ",(0,i.jsx)("span",{className:"sm-lock",children:"\ud83d\udd12"})]}),(0,i.jsxs)("button",{className:"sm-nav-item is-locked",onClick:h,title:"Register to unlock",children:[(0,i.jsx)("span",{className:"sm-nav-ico",children:"\u2709\ufe0f"})," Inbox"," ",(0,i.jsx)("span",{className:"sm-lock",children:"\ud83d\udd12"})]})]}),(0,i.jsxs)("div",{className:"sm-card sm-card--ghost",children:[(0,i.jsx)("div",{className:"sm-card-title",children:"Unlock all features"}),(0,i.jsx)("button",{className:"sm-card-cta",onClick:()=>null===a||void 0===a?void 0:a(),children:"Get Started"})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"sm-user-row",children:[(0,i.jsx)("div",{className:"sm-avatar","aria-hidden":!0,children:"\ud83d\udfe3"}),(0,i.jsxs)("div",{className:"sm-user-main",children:[(0,i.jsx)("div",{className:"sm-user-name",children:u}),(0,i.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[(0,i.jsx)("button",{className:"sm-user-pill",onClick:()=>d("profile"),children:"View Profile"}),(0,i.jsx)("button",{className:"sm-user-pill",onClick:()=>null===c||void 0===c?void 0:c(),title:"Log out",children:"Log out"})]})]})]}),(0,i.jsxs)("nav",{className:"sm-nav","aria-label":"Navigation",children:[(0,i.jsxs)("button",{className:"sm-nav-item "+("live"===r?"is-active":""),onClick:()=>d("live"),title:"Plan Route",children:[(0,i.jsx)("span",{className:"sm-nav-ico",children:"\ud83d\udce1"})," Plan Route"]}),(0,i.jsxs)("button",{className:"sm-nav-item "+("saved"===r?"is-active":""),onClick:()=>d("saved"),children:[(0,i.jsx)("span",{className:"sm-nav-ico",children:"\u2b50"})," Saved Route & Favourites"]}),(0,i.jsxs)("button",{className:"sm-nav-item "+("profile"===r?"is-active":""),onClick:()=>d("profile"),children:[(0,i.jsx)("span",{className:"sm-nav-ico",children:"\u2699\ufe0f"})," Settings"]}),(0,i.jsxs)("button",{className:"sm-nav-item "+("profile"===r?"is-active":""),onClick:()=>d("profile"),children:[(0,i.jsx)("span",{className:"sm-nav-ico",children:"\u2709\ufe0f"})," Inbox"]})]}),(0,i.jsxs)("section",{className:"sm-cards",children:[(0,i.jsxs)("div",{className:"sm-card",children:[(0,i.jsxs)("div",{className:"sm-card-head",children:[(0,i.jsx)("span",{className:"sm-card-ico",children:"\ud83d\udd14"}),(0,i.jsx)("h4",{className:"sm-card-title",children:"Live Updates"})]}),(0,i.jsx)("p",{className:"sm-card-text",children:"Severe traffic collision on KPE involving 5 vehicles. Medical services on the way."}),(0,i.jsx)("button",{className:"sm-card-cta",onClick:()=>d("profile"),children:"View All Notifications"})]}),(0,i.jsxs)("div",{className:"sm-card",children:[(0,i.jsxs)("div",{className:"sm-card-head",children:[(0,i.jsx)("span",{className:"sm-card-ico",children:"\ud83d\udcc8"}),(0,i.jsx)("h4",{className:"sm-card-title",children:"Traffic Forecasts"})]}),(0,i.jsx)("button",{className:"sm-card-cta",onClick:()=>d("live"),children:"View Traffic Forecasts"})]})]})]})]})})}function Ln(e){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(e)}function jn(e){var t=function(e,t){if("object"!=Ln(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ln(t)?t:t+""}function Pn(e,t,n){return(t=jn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach(function(t){Pn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Nn=[{id:"r1",from:"239 Compassvale Walk",to:"SIM Global Education",timeMin:30,distanceKm:12,date:"2025-08-26",tag:"Shortest Distance",favorite:!0,recurring:!1},{id:"r2",from:"Our Tampines Hub",to:"Bugis Junction",timeMin:35,distanceKm:20,date:"2025-09-03",tag:"Fastest Route",favorite:!1,recurring:!1},{id:"r3",from:"SIM Global Education",to:"National Stadium",timeMin:25,distanceKm:9,date:"2025-08-29",tag:"Avoid Highways",favorite:!1,recurring:!1}];function Mn(e){let{routes:t,onStartTrip:n,onNavigate:s,onToggleFavorite:o,onDelete:a,onClose:l}=e;const[c,u]=(0,r.useState)(t||Nn),[d,h]=(0,r.useState)(""),[p,f]=(0,r.useState)("all"),g=(0,r.useMemo)(()=>{const e=d.trim().toLowerCase();let t=c;if(e&&(t=t.filter(t=>t.from.toLowerCase().includes(e)||t.to.toLowerCase().includes(e)||(t.tag||"").toLowerCase().includes(e))),"fav"===p&&(t=t.filter(e=>e.favorite)),"rec"===p&&(t=t.filter(e=>e.recurring)),"recent"===p){const e=Date.now()-2592e6;t=t.filter(t=>new Date(t.date).getTime()>=e)}return t},[c,d,p]),m=(0,r.useMemo)(()=>{const e=c.length,t=c.filter(e=>e.favorite).length,n=c.filter(e=>e.recurring).length,r=e>0?(c.reduce((e,t)=>e+t.distanceKm,0)/e).toFixed(2):"0.00",s=e>0?Math.round(c.reduce((e,t)=>e+t.timeMin,0)/e):0,o=c.map(e=>e.to).sort(function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;return r.set(e,(r.get(e)||0)+1),r.set(t,(r.get(t)||0)+1),(r.get(t)||0)-(r.get(e)||0)})[0]||"-";return{total:e,favs:t,rec:n,avgDist:r,avgTime:s,mostTo:o}},[c]);return(0,i.jsxs)("div",{className:"sr-page",children:[(0,i.jsxs)("div",{className:"sr-header",style:{position:"relative"},children:[l&&(0,i.jsx)("button",{"aria-label":"Close",title:"Close",onClick:l,className:"sr-close",style:{position:"absolute",top:8,right:8,width:36,height:36,borderRadius:8,border:"1px solid var(--border, #e2e2e2)",background:"var(--panel, #fff)",fontSize:18,lineHeight:"34px",cursor:"pointer"},children:"\u2715"}),(0,i.jsxs)("div",{className:"sr-title-wrap",children:[(0,i.jsx)("span",{className:"sr-title-icon",children:"\u2b50"}),(0,i.jsx)("h1",{className:"sr-title",children:"Saved Routes & Favourites"})]})]}),(0,i.jsxs)("div",{className:"sr-grid",children:[(0,i.jsxs)("main",{className:"sr-main",children:[(0,i.jsxs)("div",{className:"sr-toolbar",children:[(0,i.jsxs)("div",{className:"sr-search",children:[(0,i.jsx)("span",{className:"sr-search-icon",children:"\ud83d\udd0e"}),(0,i.jsx)("input",{className:"sr-search-input",value:d,onChange:e=>h(e.target.value),placeholder:"Search routes.."})]}),(0,i.jsxs)("div",{className:"sr-filters",children:[(0,i.jsx)("button",{className:"sr-chip ".concat("all"===p?"active":""),onClick:()=>f("all"),children:"All Routes"}),(0,i.jsx)("button",{className:"sr-chip ".concat("fav"===p?"active":""),onClick:()=>f("fav"),children:"Favourites"}),(0,i.jsx)("button",{className:"sr-chip ".concat("rec"===p?"active":""),onClick:()=>f("rec"),children:"Recurring"}),(0,i.jsx)("button",{className:"sr-chip ".concat("recent"===p?"active":""),onClick:()=>f("recent"),children:"Recent"})]})]}),(0,i.jsxs)("div",{className:"sr-list",children:[g.map(e=>(0,i.jsxs)("article",{className:"sr-route-card",children:[(0,i.jsxs)("div",{className:"sr-route-head",children:[(0,i.jsxs)("div",{className:"sr-route-head-left",children:[(0,i.jsx)("span",{className:"sr-pin",children:"\ud83d\udccd"}),(0,i.jsxs)("div",{className:"sr-route-title",children:[e.from," ",(0,i.jsx)("span",{className:"sr-arrow",children:"\u2192"})," ",e.to]})]}),(0,i.jsxs)("div",{className:"sr-route-head-actions",children:[(0,i.jsx)("button",{className:"sr-icon-btn",title:"Toggle favourite",onClick:()=>(e=>{null===o||void 0===o||o(e),u(t=>t.map(t=>t.id===e.id?Tn(Tn({},t),{},{favorite:!t.favorite}):t))})(e),children:e.favorite?"\u2b50":"\u2606"}),(0,i.jsx)("button",{className:"sr-icon-btn",title:"Delete",onClick:()=>(e=>{confirm("Delete this saved route?")&&(null===a||void 0===a||a(e),u(t=>t.filter(t=>t.id!==e.id)))})(e),children:"\ud83d\uddd1\ufe0f"})]})]}),(0,i.jsxs)("div",{className:"sr-meta",children:[(0,i.jsxs)("span",{className:"sr-meta-item",children:["\u23f1\ufe0f ",e.timeMin," min"]}),(0,i.jsxs)("span",{className:"sr-meta-item",children:["\ud83d\ude97 ",e.distanceKm," km"]}),(0,i.jsxs)("span",{className:"sr-meta-item",children:["\ud83d\udcc5 ",new Date(e.date).toLocaleDateString()]}),(0,i.jsx)("span",{className:"sr-tag ".concat("Fastest Route"===e.tag?"is-fastest":"Shortest Distance"===e.tag?"is-shortest":"is-other"),children:e.tag})]}),(0,i.jsxs)("div",{className:"sr-actions",children:[(0,i.jsx)("button",{className:"sr-btn sr-btn-ghost",onClick:()=>null===s||void 0===s?void 0:s(e),children:"\u2708\ufe0f Navigate"}),(0,i.jsx)("button",{className:"sr-btn sr-btn-primary",onClick:()=>null===n||void 0===n?void 0:n(e),children:"Start Trip"})]})]},e.id)),0===g.length&&(0,i.jsx)("div",{className:"sr-empty",children:"No routes found. Try clearing filters or saving a route."})]})]}),(0,i.jsxs)("aside",{className:"sr-aside",children:[(0,i.jsxs)("div",{className:"sr-card",children:[(0,i.jsx)("h3",{className:"sr-card-title",children:"\ud83d\udcc8 Route Statistics"}),(0,i.jsxs)("div",{className:"sr-kv",children:[(0,i.jsx)("span",{children:"Total Routes"}),(0,i.jsx)("strong",{children:m.total})]}),(0,i.jsxs)("div",{className:"sr-kv",children:[(0,i.jsx)("span",{children:"Favourites"}),(0,i.jsx)("strong",{children:m.favs})]}),(0,i.jsxs)("div",{className:"sr-kv",children:[(0,i.jsx)("span",{children:"Recurring"}),(0,i.jsx)("strong",{children:m.rec})]}),(0,i.jsxs)("div",{className:"sr-kv",children:[(0,i.jsx)("span",{children:"Avg. Distance"}),(0,i.jsxs)("strong",{children:[m.avgDist," km"]})]})]}),(0,i.jsxs)("div",{className:"sr-card",children:[(0,i.jsx)("h3",{className:"sr-card-title",children:"\ud83d\udcca Travel Analytics"}),(0,i.jsxs)("div",{className:"sr-kv-sm",children:[(0,i.jsx)("span",{children:"Most Visited"}),(0,i.jsx)("strong",{children:m.mostTo})]}),(0,i.jsxs)("div",{className:"sr-kv-sm",children:[(0,i.jsx)("span",{children:"Average Trip Time"}),(0,i.jsxs)("strong",{children:[m.avgTime," minutes"]})]}),(0,i.jsxs)("div",{className:"sr-kv-sm",children:[(0,i.jsx)("span",{children:"Peak Travel Hours"}),(0,i.jsx)("strong",{children:"8:00 AM \u2013 9:30 AM"})]}),(0,i.jsxs)("div",{className:"sr-kv-sm",children:[(0,i.jsx)("span",{children:"Total Trips"}),(0,i.jsxs)("strong",{children:[c.length," routes planned"]})]})]}),(0,i.jsxs)("div",{className:"sr-card",children:[(0,i.jsx)("h3",{className:"sr-card-title",children:"\ud83d\uddd3\ufe0f Recurring Commutes"}),(0,i.jsx)("div",{className:"sr-muted",children:"No recurring commutes set up."})]})]})]})]})}function An(e){let{theme:t="light",onToggleTheme:n,onClose:s}=e;const[o,a]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(!0),[h,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!0),[m,v]=(0,r.useState)(!0),[y,b]=(0,r.useState)(80),[w,k]=(0,r.useState)("en"),[S,x]=(0,r.useState)("dark"===t),[C,E]=(0,r.useState)("30"),[_,L]=(0,r.useState)("fastest"),[j,P]=(0,r.useState)(!1),[O,T]=(0,r.useState)(!0),[N,M]=(0,r.useState)(!1),[A,I]=(0,r.useState)(!1),[R,D]=(0,r.useState)(2);return(0,i.jsxs)("div",{className:"ns-page",children:[(0,i.jsxs)("div",{className:"ns-titlebar",style:{position:"relative"},children:[(0,i.jsx)("span",{className:"ns-title-icon",children:"\ud83d\udee0\ufe0f"}),(0,i.jsx)("h1",{className:"ns-title",children:"Notifications & Settings"}),(0,i.jsx)("p",{className:"ns-subtitle",children:"Customise your driving experience and alerts"}),s&&(0,i.jsx)("button",{"aria-label":"Close",title:"Close",onClick:s,className:"ns-close",style:{position:"absolute",top:8,right:8,width:36,height:36,borderRadius:8,border:"1px solid var(--border, #e5e7eb)",background:"var(--panel, #fff)",fontSize:18,lineHeight:"34px",cursor:"pointer"},children:"\u2715"})]}),(0,i.jsxs)("div",{className:"ns-grid",children:[(0,i.jsxs)("section",{className:"ns-col",children:[(0,i.jsxs)(In,{title:"Traffic Alert Preferences",icon:"\ud83e\udde9",children:[(0,i.jsx)(Rn,{icon:"\u26a0\ufe0f",title:"Accident Alerts",desc:"Notify about accidents on your route",right:(0,i.jsx)(Un,{on:o,setOn:a})}),(0,i.jsx)(Rn,{icon:"\ud83d\udea7",title:"Roadwork Alerts",desc:"Get updates on planned roadworks",right:(0,i.jsx)(Un,{on:l,setOn:c})}),(0,i.jsx)(Rn,{icon:"\ud83d\ude97",title:"Congestion Alerts",desc:"Alerts about heavy traffic areas",right:(0,i.jsx)(Un,{on:u,setOn:d})}),(0,i.jsx)(Rn,{icon:"\ud83d\udd04",title:"Auto Re-routing",desc:"Automatically find alternative routes",right:(0,i.jsx)(Un,{on:h,setOn:p})})]}),(0,i.jsxs)(In,{title:"App Preferences",icon:"\ud83d\udcdd",children:[(0,i.jsx)(Rn,{icon:"\ud83c\udf19",title:"Dark Mode",desc:"Use dark theme for night driving",right:(0,i.jsx)(Un,{on:S,setOn:function(){const e=!S;x(e),null===n||void 0===n||n(e?"dark":"light")}})}),(0,i.jsx)(Dn,{label:"Default Forecast Range",children:(0,i.jsx)(zn,{value:C,onChange:e=>E(e.target.value),options:[{value:"15",label:"15 minutes"},{value:"30",label:"30 minutes (Recommended)"},{value:"45",label:"45 minutes"},{value:"60",label:"60 minutes"}]})}),(0,i.jsx)(Dn,{label:"Preferred Route Type",children:(0,i.jsx)(zn,{value:_,onChange:e=>L(e.target.value),options:[{value:"fastest",label:"Fastest Route"},{value:"shortest",label:"Shortest Distance"},{value:"scenic",label:"Scenic Route"},{value:"eco",label:"Eco (Fuel-saving)"}]})}),(0,i.jsx)(Rn,{icon:"\ud83d\udccd",title:"Save Location History",desc:"Remember frequently visited places",right:(0,i.jsx)(Un,{on:j,setOn:P})})]})]}),(0,i.jsxs)("section",{className:"ns-col",children:[(0,i.jsxs)(In,{title:"Audio Alert Configuration",icon:"\ud83d\udd0a",children:[(0,i.jsx)(Rn,{icon:"\ud83d\udd14",title:"Audio Alerts",desc:"Sound notifications for incidents",right:(0,i.jsx)(Un,{on:f,setOn:g})}),(0,i.jsx)(Rn,{icon:"\ud83c\udfa4",title:"Voice Navigation",desc:"Spoken turn-by-turn directions",right:(0,i.jsx)(Un,{on:m,setOn:v})}),(0,i.jsxs)(Dn,{label:"Volume Level",hint:"".concat(y),children:[(0,i.jsx)("input",{className:"ns-range",type:"range",min:"0",max:"100",value:y,onChange:e=>b(parseInt(e.target.value,10))}),(0,i.jsxs)("div",{className:"ns-range-scale",children:[(0,i.jsx)("span",{children:"Quiet"}),(0,i.jsx)("span",{children:"Normal"}),(0,i.jsx)("span",{children:"Loud"})]})]}),(0,i.jsx)(Dn,{label:"Voice Language",children:(0,i.jsxs)("select",{className:"ns-select",value:w,onChange:e=>k(e.target.value),children:[(0,i.jsx)("option",{value:"en",children:"English"}),(0,i.jsx)("option",{value:"zh",children:"Chinese (Mandarin)"}),(0,i.jsx)("option",{value:"ms",children:"Malay"}),(0,i.jsx)("option",{value:"ta",children:"Tamil"})]})})]}),(0,i.jsxs)(In,{title:"Notification Settings",icon:"\ud83d\udd14",children:[(0,i.jsx)(Rn,{icon:"\ud83d\udcf1",title:"Push Notifications",desc:"Receive alerts about traffic and incidents",right:(0,i.jsx)(Un,{on:O,setOn:T})}),(0,i.jsx)(Rn,{icon:"\ud83d\udcac",title:"SMS Alerts",desc:"Get updates via text messages",right:(0,i.jsx)(Un,{on:N,setOn:M})}),(0,i.jsx)(Rn,{icon:"\u26a1",title:"Speed Limit Alerts",desc:"Warn when exceeding posted speed",right:(0,i.jsx)(Un,{on:A,setOn:I})}),(0,i.jsxs)(Dn,{label:"Alert Distance",children:[(0,i.jsx)("input",{className:"ns-range",type:"range",min:"0.1",max:"2",step:"0.1",value:R,onChange:e=>D(parseFloat(e.target.value))}),(0,i.jsxs)("div",{className:"ns-range-scale",children:[(0,i.jsx)("span",{children:"100m"}),(0,i.jsx)("span",{children:"1km ahead"}),(0,i.jsx)("span",{children:"2km ahead"})]})]})]})]})]})]})}function In(e){let{title:t,icon:n,children:r}=e;return(0,i.jsxs)("div",{className:"ns-card",children:[(0,i.jsx)("div",{className:"ns-card-head",children:(0,i.jsxs)("div",{className:"ns-card-title",children:[(0,i.jsx)("span",{className:"ns-card-icon",children:n}),(0,i.jsx)("span",{children:t})]})}),(0,i.jsx)("div",{className:"ns-card-body",children:r})]})}function Rn(e){let{icon:t,title:n,desc:r,right:s}=e;return(0,i.jsxs)("div",{className:"ns-li",children:[(0,i.jsxs)("div",{className:"ns-li-left",children:[(0,i.jsx)("span",{className:"ns-li-icon",children:t}),(0,i.jsxs)("div",{className:"ns-li-text",children:[(0,i.jsx)("div",{className:"ns-li-title",children:n}),r&&(0,i.jsx)("div",{className:"ns-li-desc",children:r})]})]}),(0,i.jsx)("div",{className:"ns-li-right",children:s})]})}function Dn(e){let{label:t,hint:n,children:r}=e;return(0,i.jsxs)("div",{className:"ns-field",children:[(0,i.jsxs)("div",{className:"ns-field-label",children:[(0,i.jsx)("span",{children:t}),n&&(0,i.jsx)("span",{className:"ns-field-hint",children:n})]}),r]})}function zn(e){let{value:t,onChange:n,options:r}=e;return(0,i.jsx)("select",{className:"ns-select",value:t,onChange:n,children:r.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))})}function Un(e){let{on:t,setOn:n}=e;return(0,i.jsx)("button",{type:"button",className:"ns-switch ".concat(t?"is-on":""),role:"switch","aria-checked":t,onClick:()=>"function"===typeof n?n(!t):n(),"aria-label":"toggle",children:(0,i.jsx)("span",{className:"ns-switch-knob"})})}function Bn(e){let{open:t,onClose:n,onSubmit:s,onLearnMore:o,fullScreen:a=!1}=e;const[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[m,v]=(0,r.useState)(!1),y=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!t)return;const e=document.body.style.overflow;return document.body.style.overflow="hidden",c(""),d(""),p(""),g(""),v(!1),setTimeout(()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.focus()},0),()=>{document.body.style.overflow=e}},[t]);const b=(0,r.useMemo)(()=>{const e={};return l.trim()||(e.name="Name must be entered"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)||(e.email="Valid email must be entered"),f?f.length<8&&(e.password="Password must be at least 8 characters"):e.password="Password must be entered",h&&!/^[\d\s()+-]{6,}$/.test(h)&&(e.phone="Enter a valid phone number"),e},[l,u,h,f]);if(!t)return null;const w="cam-backdrop".concat(a?" cam-backdrop--full":""),k="cam-card".concat(a?" cam-card--full":"");return(0,i.jsx)("div",{className:w,role:"dialog","aria-modal":"true","aria-label":"Create account",onClick:e=>e.target===e.currentTarget&&(null===n||void 0===n?void 0:n()),children:(0,i.jsxs)("div",{className:k,onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:"cam-close","aria-label":"Close",onClick:n,children:"\u2715"}),(0,i.jsxs)("div",{className:"cam-header",children:[(0,i.jsx)("span",{className:"cam-h-ico",children:"\ud83d\udc64\u2795"}),(0,i.jsx)("h3",{className:"cam-title",children:"Create Your Account"})]}),(0,i.jsxs)("form",{className:"cam-form",onSubmit:function(e){e.preventDefault(),v(!0),Object.keys(b).length||(null===s||void 0===s||s({name:l,email:u,phone:h,password:f}),null===n||void 0===n||n())},children:[(0,i.jsx)("label",{className:"cam-label",htmlFor:"acc-name",children:"Name"}),(0,i.jsx)("input",{id:"acc-name",ref:y,className:"cam-input",placeholder:"Test User",value:l,onChange:e=>c(e.target.value),autoComplete:"name"}),m&&b.name&&(0,i.jsx)("div",{className:"cam-error",children:b.name}),(0,i.jsx)("label",{className:"cam-label",htmlFor:"acc-email",children:"Email"}),(0,i.jsx)("input",{id:"acc-email",className:"cam-input",type:"email",placeholder:"testuser123@gmail.com",value:u,onChange:e=>d(e.target.value),inputMode:"email",autoComplete:"email"}),m&&b.email&&(0,i.jsx)("div",{className:"cam-error",children:b.email}),(0,i.jsx)("label",{className:"cam-label",htmlFor:"acc-phone",children:"Phone Number"}),(0,i.jsx)("input",{id:"acc-phone",className:"cam-input",type:"tel",placeholder:"9876 5432",value:h,onChange:e=>p(e.target.value),inputMode:"tel",autoComplete:"tel"}),m&&b.phone&&(0,i.jsx)("div",{className:"cam-error",children:b.phone}),(0,i.jsx)("label",{className:"cam-label",htmlFor:"acc-password",children:"Password"}),(0,i.jsx)("input",{id:"acc-password",className:"cam-input",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:f,onChange:e=>g(e.target.value),autoComplete:"new-password"}),m&&b.password&&(0,i.jsx)("div",{className:"cam-error",children:b.password}),(0,i.jsx)("button",{type:"submit",className:"cam-btn cam-btn-primary",children:"Create Account"}),(0,i.jsxs)("button",{type:"button",className:"cam-btn cam-btn-ghost cam-learn-btn",onClick:()=>null===o||void 0===o?void 0:o(),children:[(0,i.jsx)("span",{className:"cam-learn-ico-badge",children:"\u2753"}),(0,i.jsx)("span",{children:"Learn More"})]})]})]})})}function Fn(e){let{open:t,onClose:n,onLogin:r}=e;return t?(0,i.jsx)("div",{className:"acm-backdrop",role:"dialog","aria-modal":"true","aria-label":"Account created",onClick:e=>e.target===e.currentTarget&&(null===n||void 0===n?void 0:n()),children:(0,i.jsxs)("div",{className:"acm-card",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:"acm-close","aria-label":"Close",onClick:n,children:"\u2715"}),(0,i.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 48 48","aria-hidden":"true",children:[(0,i.jsx)("circle",{cx:"24",cy:"24",r:"22",fill:"#e8f6ee",stroke:"#22c55e",strokeWidth:"2"}),(0,i.jsx)("path",{d:"M14 24l6 6 14-14",fill:"none",stroke:"#22c55e",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,i.jsx)("h3",{className:"acm-title",children:"Account Created!"}),(0,i.jsx)("p",{className:"acm-text",children:"You can now use all our functions! Log in to get started."}),(0,i.jsx)("button",{className:"acm-login",onClick:r,children:"Log In"})]})}):null}function Hn(e){let{open:t,onClose:n,onGoBack:s,fullScreen:o=!1}=e;if((0,r.useEffect)(()=>{if(!t)return;const e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>document.body.style.overflow=e},[t]),!t)return null;const a="culm-backdrop".concat(o?" culm-backdrop--full":""),l="culm-card".concat(o?" culm-card--full":"");return(0,i.jsx)("div",{className:a,role:"dialog","aria-modal":"true","aria-label":"What You Unlock",onClick:e=>e.target===e.currentTarget&&(null===n||void 0===n?void 0:n()),children:(0,i.jsxs)("div",{className:l,onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:"culm-close","aria-label":"Close",onClick:n,children:"\u2715"}),(0,i.jsxs)("div",{className:"culm-titlebar",children:[(0,i.jsx)("span",{className:"culm-q",children:"\u2753"}),(0,i.jsx)("h3",{className:"culm-title",children:"What You Unlock"})]}),(0,i.jsxs)("ul",{className:"culm-list",children:[(0,i.jsxs)("li",{className:"culm-item",children:[(0,i.jsx)("span",{className:"culm-ico",children:"\ud83d\ude97"}),(0,i.jsx)("span",{className:"culm-text",children:"Core Navigation & Travel Time Estimation"})]}),(0,i.jsxs)("li",{className:"culm-item",children:[(0,i.jsx)("span",{className:"culm-ico",children:"\u26a0\ufe0f"}),(0,i.jsx)("span",{className:"culm-text",children:"Traffic & Incident Awareness"})]}),(0,i.jsxs)("li",{className:"culm-item",children:[(0,i.jsx)("span",{className:"culm-ico",children:"\ud83d\udd14"}),(0,i.jsx)("span",{className:"culm-text",children:"Alerts & Driver Assistance"})]}),(0,i.jsxs)("li",{className:"culm-item",children:[(0,i.jsx)("span",{className:"culm-ico",children:"\ud83d\udc65"}),(0,i.jsx)("span",{className:"culm-text",children:"Community-Driven Features"})]}),(0,i.jsxs)("li",{className:"culm-item",children:[(0,i.jsx)("span",{className:"culm-ico",children:"\ud83d\udd8a\ufe0f"}),(0,i.jsx)("span",{className:"culm-text",children:"User Experience Customisation"})]})]}),(0,i.jsx)("button",{className:"culm-btn",onClick:()=>s?s():null===n||void 0===n?void 0:n(),children:"Go Back"})]})})}function Wn(e){let{open:t,onClose:n,active:r="dashboard",onNavigate:s}=e;const o=e=>{null===s||void 0===s||s(e),null===n||void 0===n||n()},a=function(e){return"adm-pill ".concat(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&r===e?"is-primary":"is-outline"," ").concat(r===e?"is-active":"")};return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)("div",{className:"adm-backdrop",onClick:n}),(0,i.jsx)("aside",{className:"adm-drawer ".concat(t?"open":""),role:"dialog","aria-label":"Admin controls",onClick:e=>e.stopPropagation(),children:(0,i.jsxs)("section",{className:"adm-section",children:[(0,i.jsx)("div",{className:"adm-title",children:"ADMIN CONTROLS"}),(0,i.jsxs)("div",{className:"adm-pill-row",children:[(0,i.jsxs)("button",{className:a("dashboard",!0),"aria-current":"dashboard"===r?"page":void 0,onClick:()=>o("dashboard"),children:[(0,i.jsx)("span",{className:"adm-ico",children:"\ud83d\udcca"}),(0,i.jsx)("span",{children:"Admin Dashboard"})]}),(0,i.jsxs)("button",{className:a("users"),"aria-current":"users"===r?"page":void 0,onClick:()=>o("users"),children:[(0,i.jsx)("span",{className:"adm-ico",children:"\ud83d\udee1\ufe0f"}),(0,i.jsx)("span",{children:"User Management"})]}),(0,i.jsxs)("button",{className:a("flagged"),"aria-current":"flagged"===r?"page":void 0,onClick:()=>o("flagged"),children:[(0,i.jsx)("span",{className:"adm-ico",children:"\u274e"}),(0,i.jsx)("span",{children:"Flagged Users"})]})]})]})})]})}function Vn(){return(0,i.jsxs)("div",{className:"ad-wrap",children:[(0,i.jsxs)("header",{className:"ad-header",children:[(0,i.jsx)("div",{className:"ad-h-icon",children:"\ud83d\udcca"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"ad-h-title",children:"Admin Dashboard"}),(0,i.jsx)("p",{className:"ad-h-sub",children:"System analytics and management overview"})]})]}),(0,i.jsx)("section",{className:"ad-kpis",children:[{label:"Total Incidents",value:6,delta:"+12% vs last month",up:!0},{label:"Active Incidents",value:3,delta:"-8% vs last month",up:!1},{label:"Total Users",value:58,delta:"+21% vs last month",up:!0},{label:"Routes Planned",value:37,delta:"+20% vs last month",up:!0}].map(e=>{let{label:t,value:n,delta:r,up:s}=e;return(0,i.jsxs)("div",{className:"ad-kpi",children:[(0,i.jsx)("div",{className:"ad-kpi-label",children:t}),(0,i.jsx)("div",{className:"ad-kpi-value",children:n}),(0,i.jsxs)("div",{className:"ad-kpi-delta ".concat(s?"up":"down"),children:[(0,i.jsx)("span",{className:"ad-trend",children:s?"\ud83d\udcc8":"\ud83d\udcc9"}),r]})]},t)})}),(0,i.jsxs)("section",{className:"ad-grid",children:[(0,i.jsxs)("div",{className:"ad-card",children:[(0,i.jsxs)("div",{className:"ad-card-title",children:[(0,i.jsx)("span",{className:"ad-ico",children:"\u26a0\ufe0f"}),(0,i.jsx)("span",{children:"Incident Analytics"})]}),(0,i.jsx)("div",{className:"ad-subtitle",children:"By Type"}),(0,i.jsx)("div",{className:"ad-badges",children:[{name:"Breakdown",n:1,color:"violet"},{name:"Accident",n:2,color:"pink"},{name:"Roadwork",n:1,color:"amber"},{name:"Community Report",n:1,color:"green"},{name:"Weather",n:1,color:"sky"}].map(e=>(0,i.jsxs)("span",{className:"ad-badge ".concat(e.color),children:[e.name,": ",e.n]},e.name))}),(0,i.jsx)("div",{className:"ad-subtitle",children:"By Severity"}),(0,i.jsx)("div",{className:"ad-badges",children:[{name:"Low",n:1,color:"green"},{name:"Medium",n:2,color:"amber"},{name:"High",n:1,color:"red"}].map(e=>(0,i.jsxs)("span",{className:"ad-badge ".concat(e.color),children:[e.name,": ",e.n]},e.name))}),(0,i.jsx)("div",{className:"ad-subtitle",children:"Recent Incidents"}),(0,i.jsx)("div",{className:"ad-scroll",children:[{id:1,road:"Orchard Road",tags:["Accident","High"],desc:"Traffic accident involving two vehicles. Emergency services currently on scene.",time:"Aug 17, 1:49 PM"},{id:2,road:"SLE",tags:["Breakdown","Medium"],desc:"Vehicle Breakdown on SLE (towards BKE) at BKE (Woodlands) Exit.",time:"Aug 17, 1:45 PM"}].map(e=>(0,i.jsxs)("article",{className:"ad-incident",children:[(0,i.jsxs)("div",{className:"ad-incident-row",children:[(0,i.jsx)("span",{className:"ad-dot","aria-hidden":!0}),(0,i.jsx)("h4",{className:"ad-incident-road",children:e.road})]}),(0,i.jsx)("div",{className:"ad-incident-tags",children:e.tags.map(e=>(0,i.jsx)("span",{className:"ad-tag ".concat("High"===e?"red":"Medium"===e?"amber":"Accident"===e?"pink":"slate"),children:e},e))}),(0,i.jsx)("p",{className:"ad-incident-desc",children:e.desc}),(0,i.jsxs)("div",{className:"ad-incident-time",children:["\ud83d\udd52 ",e.time]})]},e.id))})]}),(0,i.jsxs)("div",{className:"ad-card",children:[(0,i.jsxs)("div",{className:"ad-card-title",children:[(0,i.jsx)("span",{className:"ad-ico",children:"\ud83e\uddd1\u200d\ud83d\udcbb"}),(0,i.jsx)("span",{children:"User Activity"})]}),(0,i.jsx)("div",{className:"ad-subtitle",children:"Most Active Users"}),(0,i.jsx)("ul",{className:"ad-userlist",children:[{name:"John Tan",email:"johntan@gmail.com",routes:7,rank:1}].map(e=>(0,i.jsxs)("li",{className:"ad-user",children:[(0,i.jsx)("div",{className:"ad-avatar ad-rank",children:e.rank}),(0,i.jsxs)("div",{className:"ad-user-main",children:[(0,i.jsx)("div",{className:"ad-user-name",children:e.name}),(0,i.jsx)("div",{className:"ad-user-email",children:e.email})]}),(0,i.jsxs)("span",{className:"ad-pill",children:[e.routes," routes"]})]},e.email))}),(0,i.jsx)("div",{className:"ad-subtitle",children:"New Users"}),(0,i.jsx)("ul",{className:"ad-userlist",children:[{name:"Emily Lee",email:"emilylee@gmail.com",role:"Admin"}].map(e=>(0,i.jsxs)("li",{className:"ad-user",children:[(0,i.jsx)("div",{className:"ad-avatar",children:"\ud83d\udc64"}),(0,i.jsxs)("div",{className:"ad-user-main",children:[(0,i.jsx)("div",{className:"ad-user-name",children:e.name}),(0,i.jsx)("div",{className:"ad-user-email",children:e.email})]}),(0,i.jsx)("span",{className:"ad-pill green",children:e.role})]},e.email))})]})]})]})}function qn(e){let{open:t,onClose:n,onSuccess:s}=e;const[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)("");if((0,r.useEffect)(()=>{if(!t)return;l(""),u(""),f("");const e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>document.body.style.overflow=e},[t]),!t)return null;return(0,i.jsx)("div",{className:"usf-backdrop",onClick:e=>e.target===e.currentTarget&&(null===n||void 0===n?void 0:n()),children:(0,i.jsxs)("div",{className:"usf-card",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:"usf-close","aria-label":"Close",onClick:n,children:"\u2715"}),(0,i.jsxs)("div",{className:"usf-header",children:[(0,i.jsx)("span",{className:"usf-ico",children:"\ud83d\udd10"}),(0,i.jsx)("h3",{className:"usf-title",children:"Sign In"})]}),(0,i.jsxs)("form",{className:"usf-form",onSubmit:async function(e){e.preventDefault(),f(""),h(!0);const t=(a||"").trim().toLowerCase(),n=(c||"").trim();try{var r,i,l,u,d,g,m;const{data:e,error:a}=await o.N.from("users").select("*").ilike("email",t).limit(1).maybeSingle();if(a)return console.error("UserSignInForm SELECT error:",a),void f("Sign in failed. Please try again.");if(!e)return void f("No account found for that email.");if(String(null!==(r=e.password)&&void 0!==r?r:"").trim()!==n)return void f("Incorrect email or password.");const c=null!==(i=null!==(l=null!==(u=e.id)&&void 0!==u?u:e.userid)&&void 0!==l?l:e.user_id)&&void 0!==i?i:"local";null===s||void 0===s||s({id:c,name:null!==(d=e.name)&&void 0!==d?d:"",email:null!==(g=e.email)&&void 0!==g?g:t,role:"user",phone:null!==(m=e.phone)&&void 0!==m?m:""})}catch(p){console.error("UserSignInForm exception:",p),f("Sign in failed. Please try again.")}finally{h(!1)}},children:[(0,i.jsx)("label",{className:"usf-label",htmlFor:"login-email",children:"Email"}),(0,i.jsx)("input",{id:"login-email",className:"usf-input",type:"email",value:a,onChange:e=>l(e.target.value),required:!0}),(0,i.jsx)("label",{className:"usf-label",htmlFor:"login-pass",children:"Password"}),(0,i.jsx)("input",{id:"login-pass",className:"usf-input",type:"password",value:c,onChange:e=>u(e.target.value),required:!0}),p&&(0,i.jsx)("div",{className:"usf-error",children:p}),(0,i.jsx)("button",{className:"usf-btn usf-btn-primary",disabled:d,children:d?"Signing in\u2026":"Sign In"})]})]})})}function Gn(e){let{open:t,onClose:n,onContinue:s,autoCloseMs:o=1800}=e;return(0,r.useEffect)(()=>{if(!t||!o)return;const e=setTimeout(()=>{null===n||void 0===n||n(),null===s||void 0===s||s()},o);return()=>clearTimeout(e)},[t,o,n,s]),t?(0,i.jsx)("div",{className:"uss-backdrop",role:"dialog","aria-modal":"true","aria-label":"Signed in",onClick:e=>e.target===e.currentTarget&&(null===n||void 0===n?void 0:n()),children:(0,i.jsxs)("div",{className:"uss-card",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:"uss-close","aria-label":"Close",onClick:n,children:"\u2715"}),(0,i.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 48 48","aria-hidden":"true",children:[(0,i.jsx)("circle",{cx:"24",cy:"24",r:"22",fill:"#e8f6ee",stroke:"#22c55e",strokeWidth:"2"}),(0,i.jsx)("path",{d:"M14 24l6 6 14-14",fill:"none",stroke:"#22c55e",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,i.jsx)("h3",{className:"uss-title",children:"Signed In!"}),(0,i.jsx)("p",{className:"uss-text",children:"You\u2019re now signed in. Redirecting to your dashboard\u2026"}),(0,i.jsx)("button",{className:"uss-btn",onClick:()=>{null===n||void 0===n||n(),null===s||void 0===s||s()},children:"Continue"})]})}):null}function Kn(e){let{theme:t="light",onToggle:n}=e;const r="dark"===t;return(0,i.jsx)("button",{className:"map-fab theme-fab",onClick:n,"aria-label":"Toggle theme",title:r?"Switch to light mode":"Switch to dark mode",children:r?"\u2600\ufe0f":"\ud83c\udf19"})}function $n(e){let{onOpenMenu:t}=e;return(0,i.jsx)("button",{className:"map-fab menu-fab",onClick:t,"aria-label":"Open menu",title:"Menu",children:"\u2630"})}function Zn(e){let{onSubmit:t,isGuest:n=!0}=e;const s=()=>{var e;const t=Math.max((null===(e=window)||void 0===e?void 0:e.innerHeight)||0,640),n=Math.round(t-12);return{COLLAPSED:320,EXPANDED:Math.round(.62*t),FULL:n}},[o,a]=(0,r.useState)(s),[{mode:l,sheetHeight:c},u]=(0,r.useState)({mode:"collapsed",sheetHeight:s().COLLAPSED}),d=(0,r.useRef)(null),h=(0,r.useRef)(0),p=(0,r.useRef)(0),f=(0,r.useRef)(!1),g=()=>u({mode:"collapsed",sheetHeight:o.COLLAPSED}),m=()=>u({mode:"form",sheetHeight:o.FULL});function v(e){var t,n,r;if("form"!==l){f.current=!0,document.documentElement.classList.add("hide-map-fabs"),h.current=null!==(t=e.clientY)&&void 0!==t?t:(null===(n=e.touches)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.clientY)||0,p.current=c;try{var s,o;null===(s=d.current)||void 0===s||null===(o=s.setPointerCapture)||void 0===o||o.call(s,e.pointerId)}catch(i){}}}function y(e){var t,n,r;if(!f.current)return;const s=null!==(t=e.clientY)&&void 0!==t?t:(null===(n=e.touches)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.clientY)||0,i=h.current-s,a=(l=p.current+i,c=o.COLLAPSED,d=o.FULL,Math.max(c,Math.min(d,l)));var l,c,d;u(e=>Tn(Tn({},e),{},{sheetHeight:a}))}function b(){if(!f.current)return;f.current=!1;if(c>=o.FULL-24)return m();return c/o.FULL>.45?u({mode:"expanded",sheetHeight:o.EXPANDED}):g()}(0,r.useEffect)(()=>{const e=document.documentElement;return e.style.setProperty("--rps-height","".concat(c,"px")),()=>e.style.removeProperty("--rps-height")},[c]),(0,r.useEffect)(()=>{const e=()=>{const e=s();a(e),u(t=>"collapsed"===t.mode?{mode:"collapsed",sheetHeight:e.COLLAPSED}:"expanded"===t.mode?{mode:"expanded",sheetHeight:e.EXPANDED}:{mode:"form",sheetHeight:e.FULL})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{const e=document.documentElement;return"collapsed"!==l?e.classList.add("hide-map-fabs"):e.classList.remove("hide-map-fabs"),()=>e.classList.remove("hide-map-fabs")},[l]);const w=(0,r.useMemo)(()=>({time:"30 min",distance:"15 km",traffic:"Moderate traffic expected",placeTitle:"Our Tampines Hub",placeDesc:"Moderate traffic expected, currently evening peak hours"}),[]);const k=n?"Route Preview":"Plan Your Route",S=n?"\ud83d\udce1":"\ud83d\udeeb";return(0,i.jsxs)("div",{ref:d,className:"rps-sheet ".concat("collapsed"!==l?"is-open":""," ").concat("form"===l?"rps-full":""),style:{height:c,transition:f.current?"none":"height 160ms ease"},onPointerMove:y,onPointerUp:b,onPointerCancel:b,onMouseMove:y,onMouseUp:b,onTouchMove:y,onTouchEnd:b,children:["form"===l?(0,i.jsxs)("div",{className:"rps-header",children:[(0,i.jsx)("span",{className:"rps-h-ico","aria-hidden":!0,children:S}),(0,i.jsx)("h3",{className:"rps-h-title",children:k}),(0,i.jsx)("button",{className:"rps-close","aria-label":"Close",onClick:g,children:"\u2715"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"rps-handle",onPointerDown:v,onMouseDown:v,onTouchStart:v,"aria-label":"Drag to expand",role:"button"}),(0,i.jsxs)("div",{className:"rps-search-row",onClick:m,onMouseDown:e=>e.preventDefault(),"aria-label":"Open route preview form",children:[(0,i.jsx)("span",{className:"rps-search-leading",children:"\u2261"}),(0,i.jsx)("span",{className:"rps-search-label",children:k}),(0,i.jsx)("span",{className:"rps-search-trailing",children:"\ud83d\udd0e"})]})]}),(0,i.jsxs)("div",{className:"rps-body",children:["form"!==l&&n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"rps-recent-title",children:"Recent"}),(0,i.jsx)("div",{className:"rps-recent-list",children:[{t:"Bugis+",s:"201 Victoria St, Singapore 188067"},{t:"Changi Airport T3",s:"65 Airport Blvd., Singapore 819663"},{t:"Our Tampines Hub",s:"1 Tampines Walk, Singapore 528523"}].map((e,t,n)=>(0,i.jsxs)("div",{className:"rps-recent-row ".concat(t===n.length-1?"is-last":""),onClick:m,children:[(0,i.jsx)("span",{className:"rps-recent-ico",children:"\ud83d\udd52"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"rps-recent-title",children:e.t}),(0,i.jsx)("div",{className:"rps-recent-sub",children:e.s})]})]},e.t))})]}),"form"===l&&n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",{className:"rps-form rps-form--pretty",onSubmit:function(e){var n,r;e.preventDefault();const s=new FormData(e.currentTarget),o=null===(n=s.get("from"))||void 0===n?void 0:n.toString().trim(),i=null===(r=s.get("to"))||void 0===r?void 0:r.toString().trim();null===t||void 0===t||t(o,i)},children:[(0,i.jsx)("label",{className:"rps-label",htmlFor:"rps-from",children:"From"}),(0,i.jsx)("input",{id:"rps-from",name:"from",className:"rps-input rps-input--lg",placeholder:"Enter starting point\u2026"}),(0,i.jsx)("label",{className:"rps-label",htmlFor:"rps-to",children:"To"}),(0,i.jsx)("input",{id:"rps-to",name:"to",className:"rps-input rps-input--lg",placeholder:"Enter destination\u2026"}),(0,i.jsx)("button",{className:"rps-btn rps-btn-primary rps-btn--lg",type:"submit",children:"Get Route Preview"})]}),(0,i.jsxs)("div",{className:"rps-card",children:[(0,i.jsx)("div",{className:"rps-card-title",children:"Route Preview"}),(0,i.jsxs)("div",{className:"rps-meta",children:[(0,i.jsxs)("div",{className:"rps-meta-item",children:["\ud83d\udd52 ",w.time]}),(0,i.jsxs)("div",{className:"rps-meta-item",children:["\ud83d\udccd ",w.distance]})]}),(0,i.jsxs)("div",{className:"rps-alert rps-alert--amber",children:[(0,i.jsx)("span",{className:"rps-alert-ico",children:"\ud83d\udcc8"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"rps-alert-title",children:"Traffic Impact"}),(0,i.jsx)("div",{className:"rps-alert-text",children:w.traffic})]})]})]}),(0,i.jsx)("div",{className:"rps-subtitle",children:"Location Search"}),(0,i.jsxs)("div",{className:"rps-search-input rps-search-input--pill",children:[(0,i.jsx)("span",{className:"rps-search-ico",children:"\ud83d\udd0e"}),(0,i.jsx)("input",{className:"rps-input-ghost",placeholder:"Search location for traffic conditions\u2026",defaultValue:w.placeTitle})]}),(0,i.jsxs)("div",{className:"rps-location-card rps-card",children:[(0,i.jsx)("div",{className:"rps-location-title",children:"Our Tampines Hub"}),(0,i.jsxs)("div",{className:"rps-alert rps-alert--amber rps-alert--light",children:[(0,i.jsx)("span",{className:"rps-alert-ico",children:"\ud83d\ude8c"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"rps-alert-title",children:"Traffic Conditions"}),(0,i.jsx)("div",{className:"rps-alert-text",children:w.placeDesc})]})]})]})]}),"form"===l&&!n&&(0,i.jsxs)("form",{className:"rps-form rps-form--pretty",onSubmit:function(e){var n,r,s,o;e.preventDefault();const i=new FormData(e.currentTarget),a=null===(n=i.get("from"))||void 0===n?void 0:n.toString().trim(),l=null===(r=i.get("to"))||void 0===r?void 0:r.toString().trim(),c=(null===(s=i.get("departAt"))||void 0===s?void 0:s.toString())||"",u=(null===(o=i.get("routeType"))||void 0===o?void 0:o.toString())||"fastest",d="on"===i.get("recurring");null===t||void 0===t||t(a,l,{departAt:c,routeType:u,recurring:d})},children:[(0,i.jsx)("label",{className:"rps-label",htmlFor:"rps-from",children:"From"}),(0,i.jsx)("input",{id:"rps-from",name:"from",className:"rps-input rps-input--lg",placeholder:"Enter starting point\u2026"}),(0,i.jsx)("label",{className:"rps-label",htmlFor:"rps-to",children:"To"}),(0,i.jsx)("input",{id:"rps-to",name:"to",className:"rps-input rps-input--lg",placeholder:"Enter destination\u2026"}),(0,i.jsx)("label",{className:"rps-label",htmlFor:"rps-depart",children:"Departure Time"}),(0,i.jsx)("input",{id:"rps-depart",name:"departAt",type:"datetime-local",className:"rps-input rps-input--lg"}),(0,i.jsx)("label",{className:"rps-label",htmlFor:"rps-route-type",children:"Route Type"}),(0,i.jsxs)("select",{id:"rps-route-type",name:"routeType",className:"rps-input rps-input--lg",defaultValue:"fastest",children:[(0,i.jsx)("option",{value:"fastest",children:"Fastest Route"}),(0,i.jsx)("option",{value:"shortest",children:"Shortest Route"}),(0,i.jsx)("option",{value:"no-tolls",children:"Avoid Tolls"}),(0,i.jsx)("option",{value:"eco",children:"Eco-friendly"})]}),(0,i.jsxs)("div",{className:"sbm-recurring",style:{marginTop:8},children:[(0,i.jsxs)("div",{className:"sbm-rec-left",children:[(0,i.jsx)("span",{className:"sbm-rec-ico",children:"\ud83d\udd01"}),(0,i.jsx)("div",{className:"sbm-rec-title",children:"Recurring Commute"})]}),(0,i.jsxs)("label",{className:"sbm-switch",children:[(0,i.jsx)("input",{type:"checkbox",name:"recurring",style:{position:"absolute",inset:0,opacity:0},"aria-label":"Enable recurring commute"}),(0,i.jsx)("span",{className:"sbm-switch-knob"})]})]}),(0,i.jsx)("button",{className:"rps-btn rps-btn-primary rps-btn--lg",type:"submit",style:{marginTop:10},children:"\u2708\ufe0f\xa0 Plan Route"})]}),"form"!==l&&!n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"rps-recent-title",style:{marginTop:6},children:"Recent"}),(0,i.jsx)("div",{className:"rps-recent-list",children:[{t:"Home",s:"Saved address"},{t:"Work",s:"Saved address"},{t:"Favourite",s:"Your starred places"},{t:"Saved",s:"Saved routes"}].map((e,t,n)=>(0,i.jsxs)("div",{className:"rps-recent-row ".concat(t===n.length-1?"is-last":""),onClick:m,children:[(0,i.jsx)("span",{className:"rps-recent-ico",children:"\ud83d\udccd"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"rps-recent-title",children:e.t}),(0,i.jsx)("div",{className:"rps-recent-sub",children:e.s})]})]},e.t))})]})]})]})}function Jn(e){let{onClick:t}=e;return(0,i.jsx)("button",{className:"map-fab incident-fab",onClick:t,"aria-label":"Report incident",title:"Report incident",children:"\u26a0\ufe0f"})}function Qn(e){let{open:t=!0,onCancel:n=()=>{},onSubmit:s=()=>{}}=e;const[o,a]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[m,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(null),w=(0,r.useRef)(null);if((0,r.useEffect)(()=>{if(!t)return;const e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>document.body.style.overflow=e},[t]),!t)return null;return(0,i.jsx)("div",{className:"rif-backdrop rif-backdrop--full",onClick:n,children:(0,i.jsxs)("div",{className:"rif-card rif-card--sheet",onClick:e=>e.stopPropagation(),children:[(0,i.jsxs)("div",{className:"rif-header",children:[(0,i.jsxs)("div",{className:"rif-header-left",children:[(0,i.jsx)("span",{className:"rif-type-icon","aria-hidden":!0,children:"\ud83d\udccd"}),(0,i.jsx)("h3",{className:"cam-title",style:{margin:0},children:"Report Traffic Incident"})]}),(0,i.jsx)("button",{className:"rif-icon-btn",type:"button",onClick:n,"aria-label":"Close",children:"\u2715"})]}),(0,i.jsx)("label",{className:"rif-label",style:{marginTop:6},children:"Incident Type"}),(0,i.jsx)("div",{className:"rif-type-grid",children:[{key:"heavy",label:"Heavy Traffic",icon:"\ud83d\ude97"},{key:"roadwork",label:"Roadwork",icon:"\ud83d\udea7"},{key:"breakdown",label:"Breakdown",icon:"\ud83d\udee0\ufe0f"},{key:"accident",label:"Accident",icon:"\u26a0\ufe0f"},{key:"weather",label:"Weather",icon:"\ud83c\udf27\ufe0f"},{key:"hazards",label:"Other Hazards",icon:"\u2795"},{key:"police",label:"Police",icon:"\ud83d\udc6e\u200d\u2642\ufe0f"}].map(e=>(0,i.jsxs)("button",{type:"button",className:"rif-type-btn ".concat(o===e.key?"is-active":""),onClick:()=>a(e.key),"aria-pressed":o===e.key,children:[(0,i.jsx)("span",{className:"rif-type-icon","aria-hidden":!0,children:e.icon}),(0,i.jsx)("span",{children:e.label})]},e.key))}),(0,i.jsx)("label",{className:"rif-label",children:"Severity"}),(0,i.jsx)("div",{className:"rif-row",role:"group","aria-label":"Severity",children:["Low","Medium","High"].map(e=>(0,i.jsx)("button",{type:"button",className:"rif-type-btn ".concat(l===e?"is-active":""),onClick:()=>c(e),"aria-pressed":l===e,children:e},e))}),(0,i.jsx)("label",{className:"rif-label",children:"Location"}),(0,i.jsxs)("div",{className:"rif-row",children:[(0,i.jsx)("input",{className:"rif-input",placeholder:"Enter road name",value:u,onChange:e=>d(e.target.value)}),(0,i.jsx)("button",{type:"button",className:"rif-gps-btn",onClick:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{const t={lat:Number(e.coords.latitude.toFixed(6)),lng:Number(e.coords.longitude.toFixed(6))};b(t),u||d("".concat(t.lat,", ").concat(t.lng))},()=>alert("Unable to fetch GPS. Please type the location."),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):alert("Geolocation not supported on this device.")},children:"\ud83d\udccd Use GPS"})]}),(0,i.jsx)("input",{className:"rif-input rif-input--full",placeholder:"Full address (optional)",value:h,onChange:e=>p(e.target.value)}),(0,i.jsx)("label",{className:"rif-label",children:"Description"}),(0,i.jsx)("textarea",{className:"rif-input rif-textarea",placeholder:"Describe what you have observed...",value:f,onChange:e=>g(e.target.value)}),(0,i.jsx)("label",{className:"rif-label",children:"Add Photo (optional)"}),(0,i.jsxs)("div",{className:"rif-upload",role:"button",tabIndex:0,onClick:()=>{var e;return null===(e=w.current)||void 0===e?void 0:e.click()},onKeyDown:e=>{var t;return("Enter"===e.key||" "===e.key)&&(null===(t=w.current)||void 0===t?void 0:t.click())},children:[m?(0,i.jsx)("img",{className:"rif-upload-preview",src:URL.createObjectURL(m),alt:"Selected",onLoad:e=>URL.revokeObjectURL(e.currentTarget.src)}):(0,i.jsxs)("div",{className:"rif-upload-placeholder",children:[(0,i.jsx)("div",{style:{fontSize:24,marginBottom:6},children:"\ud83d\udcf7"}),"Tap to add photo"]}),(0,i.jsx)("input",{ref:w,type:"file",accept:"image/*",capture:"environment",style:{display:"none"},onChange:function(e){var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(n.type.startsWith("image/")?v(n):alert("Please select an image file."))}})]}),(0,i.jsxs)("div",{className:"rif-footer",children:[(0,i.jsx)("button",{type:"button",className:"rif-btn rif-btn--ghost",onClick:n,children:"Cancel"}),(0,i.jsx)("button",{type:"submit",className:"rif-btn sbm-btn-primary",onClick:function(e){if(e.preventDefault(),!o)return alert("Please choose an incident type.");if(!l)return alert("Please choose a severity.");if(!u&&!h&&!y)return alert("Please provide a location (road, address, or GPS).");const t={type:o,severity:l,location:{road:u,fullAddress:h,gps:y},description:f,photo:m,createdAt:(new Date).toISOString()};s(t)},children:"Submit"})]})]})})}var Yn,Xn;const er="undefined"!==typeof process&&(null===(Yn={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===Yn?void 0:Yn.REACT_APP_SB_BUCKET)||"incident-photos",tr="true"===("undefined"!==typeof process&&(null===(Xn={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===Xn?void 0:Xn.REACT_APP_SB_SIGNED));function nr(e){let{onClick:t,title:n="Notifications"}=e;return(0,i.jsx)("button",{type:"button",className:"floating-notification-fab","aria-label":n,title:n,onClick:t,children:(0,i.jsx)("span",{role:"img","aria-hidden":!0,children:"\ud83d\udd14"})})}function rr(e){let{open:t,onClose:n,items:r=[]}=e;return t?(0,i.jsx)("div",{className:"notif-backdrop",role:"dialog","aria-modal":"true","aria-label":"Live Updates",onClick:e=>e.target===e.currentTarget&&(null===n||void 0===n?void 0:n()),children:(0,i.jsxs)("div",{className:"notif-card",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:"notif-close","aria-label":"Close",onClick:n,children:"\u2715"}),(0,i.jsxs)("div",{className:"notif-head",children:[(0,i.jsx)("span",{className:"notif-head-ico","aria-hidden":!0,children:"\ud83d\udd14"}),(0,i.jsx)("h3",{className:"notif-title",children:"Live Updates"})]}),(0,i.jsx)("div",{className:"notif-sub",children:"within the last 12 hours"}),(0,i.jsxs)("div",{className:"notif-list",children:[r.map(e=>(0,i.jsxs)("article",{className:"notif-item",children:[(0,i.jsx)("div",{className:"notif-time",children:e.when}),(0,i.jsx)("div",{className:"notif-item-title",children:e.title}),(0,i.jsx)("div",{className:"notif-item-desc",children:e.desc})]},e.id)),0===r.length&&(0,i.jsx)("div",{className:"notif-empty",children:"No new updates."})]})]})}):null}function sr(e){let{open:t,onClose:n,autoCloseMs:s=0}=e;return(0,r.useEffect)(()=>{if(!t||!s)return;const e=setTimeout(n,s);return()=>clearTimeout(e)},[t,s,n]),t?(0,i.jsx)("div",{className:"ris-backdrop",role:"dialog","aria-modal":"true","aria-label":"Report submitted",onClick:e=>e.target===e.currentTarget&&(null===n||void 0===n?void 0:n()),children:(0,i.jsxs)("div",{className:"ris-card",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:"ris-close","aria-label":"Close",title:"Close",onClick:n,children:"\u2715"}),(0,i.jsx)("div",{style:{display:"grid",placeItems:"center",marginTop:2},children:(0,i.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 48 48","aria-hidden":"true",children:[(0,i.jsx)("circle",{cx:"24",cy:"24",r:"22",fill:"none",stroke:"#22c55e",strokeWidth:"2.5",opacity:"0.25"}),(0,i.jsx)("path",{d:"M16 24.5l5.2 5.2L32 18",fill:"none",stroke:"#22c55e",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,i.jsx)("h3",{className:"ris-title",style:{textAlign:"center"},children:"Report Submitted!"}),(0,i.jsx)("p",{className:"ris-text",style:{textAlign:"center"},children:"Thank you for helping other drivers. Your report is being reviewed."})]})}):null}function or(){const[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),[g,m]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)(!1),[x,C]=(0,r.useState)(!1),[E,_]=(0,r.useState)(!1),[L,j]=(0,r.useState)("live"),[P,O]=(0,r.useState)(!1),[T,N]=(0,r.useState)(!1),[M,A]=(0,r.useState)(!1),[I,R]=(0,r.useState)(()=>localStorage.getItem("theme")||"light"),D=()=>{R(e=>{const t="light"===e?"dark":"light";return localStorage.setItem("theme",t),t})},[z,U]=(0,r.useState)(0),B=()=>{U(e=>e+1),setTimeout(()=>window.dispatchEvent(new Event("resize")),0)},F=()=>h(!1),H=!!p&&"admin"===p.role,W=!p,V=!p&&!g,q=v||k||b,G=V&&!q;function K(e){var t,n,r,s,o,i;const a={id:null!==(t=null!==(n=null===e||void 0===e?void 0:e.id)&&void 0!==n?n:null===e||void 0===e?void 0:e.userid)&&void 0!==t?t:"local",name:null!==(r=null===e||void 0===e?void 0:e.name)&&void 0!==r?r:"",email:null!==(s=null===e||void 0===e?void 0:e.email)&&void 0!==s?s:"",phone:null!==(o=null===e||void 0===e?void 0:e.phone)&&void 0!==o?o:"",role:null!==(i=null===e||void 0===e?void 0:e.role)&&void 0!==i?i:"user"};f(a),j("live"),_(!0),C(!1),h(!1),B()}async function $(e){let{name:t,email:n,phone:r,password:s}=e;const i=(null!==n&&void 0!==n?n:"").trim().toLowerCase(),{error:a}=await o.N.from("users").insert([{name:t,email:i,phone:r,password:s}]).select().single();if(a)return console.error(a),void alert("Create failed: ".concat(a.message));y(!1),w(!0)}return(0,r.useEffect)(()=>{!W||"saved"!==L&&"profile"!==L||j("live")},[W,L]),(0,r.useEffect)(()=>{H&&j("dashboard")},[H]),V&&q?(0,i.jsxs)("div",{className:"app","data-theme":I,children:[v&&(0,i.jsx)(Bn,{open:v,onClose:()=>y(!1),onLearnMore:()=>{y(!1),S(!0)},onSubmit:$,fullScreen:!0}),k&&(0,i.jsx)(Hn,{open:k,onClose:()=>S(!1),onGoBack:()=>{S(!1),y(!0)},fullScreen:!0}),b&&(0,i.jsx)(Fn,{open:!0,onClose:()=>w(!1),onLogin:()=>{w(!1)}})]}):G?(0,i.jsx)("div",{className:"app","data-theme":I,children:(0,i.jsx)(a,{appName:"SG Traffic Forecast",onAuthed:K,onGuest:()=>{m(!0),B()},onSignUp:()=>y(!0)})}):(0,i.jsxs)("div",{className:"app","data-theme":I,children:[H?(0,i.jsx)(Wn,{open:d,onClose:F,active:L,onNavigate:j}):(0,i.jsx)(_n,{open:d,onClose:F,activePage:L,onNavigate:j,isGuest:!p,onCreateAccount:()=>y(!0),onSignIn:()=>C(!0),onLogout:async function(){try{const{doLogout:e}=await n.e(7).then(n.bind(n,7));await e()}catch(e){}f(null),j("live"),h(!1);try{localStorage.removeItem("role")}catch(t){}B()}}),(0,i.jsxs)("section",{className:"page page-live ".concat("live"===L?"is-active":""),"aria-hidden":"live"!==L,children:[(0,i.jsxs)("div",{className:"map-wrapper",children:[(0,i.jsx)(En,{route:e,origin:s,destination:c,theme:I},z),(0,i.jsxs)("div",{className:"map-overlays-tl",children:[(0,i.jsx)($n,{onOpenMenu:()=>h(!0)}),!!p&&(0,i.jsx)(nr,{onClick:()=>j("profile")}),!!p&&(0,i.jsx)(nr,{onClick:()=>A(!0)})]}),(0,i.jsx)(Kn,{theme:I,onToggle:D}),!!p&&(0,i.jsx)(Jn,{onClick:()=>O(!0)}),(0,i.jsx)(Qn,{open:P,onCancel:()=>O(!1),onSubmit:async e=>{try{await async function(e){var t,n,r;let{form:s,user:i}=e,a=null;if((null===s||void 0===s?void 0:s.photo)instanceof File){const e=(null===i||void 0===i?void 0:i.id)||"guest",t="".concat(Date.now(),"-").concat(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[^\w.\-]+/g,"_").slice(0,120)}(s.photo.name||"photo.jpg")),n="".concat(e,"/").concat(t),{data:r,error:u}=await o.N.storage.from(er).upload(n,s.photo,{cacheControl:"3600",upsert:!1});if(u){if(/Bucket not found/i.test(u.message))throw new Error('Storage bucket "'.concat(er,'" not found. Create it in Supabase \u2192 Storage (or set REACT_APP_SB_BUCKET to an existing bucket).'));throw u}if(tr){var l;const{data:e,error:t}=await o.N.storage.from(er).createSignedUrl(r.path,2592e3);if(t)throw t;a=null!==(l=null===e||void 0===e?void 0:e.signedUrl)&&void 0!==l?l:null}else{var c;const{data:e}=o.N.storage.from(er).getPublicUrl(r.path);a=null!==(c=null===e||void 0===e?void 0:e.publicUrl)&&void 0!==c?c:null}}const u={user:(null===i||void 0===i?void 0:i.name)||(null===i||void 0===i?void 0:i.email)||"Guest",incidentType:(null===s||void 0===s?void 0:s.type)||null,severity:((null===s||void 0===s?void 0:s.severity)||"").toLowerCase(),location:(null===s||void 0===s||null===(t=s.location)||void 0===t?void 0:t.road)||(null!==s&&void 0!==s&&null!==(n=s.location)&&void 0!==n&&n.gps?"".concat(s.location.gps.lat,",").concat(s.location.gps.lng):null),fullAddress:(null===s||void 0===s||null===(r=s.location)||void 0===r?void 0:r.fullAddress)||null,description:(null===s||void 0===s?void 0:s.description)||null,photo_url:a,createdAt:(new Date).toISOString()},{data:d,error:h}=await o.N.from("incident_report").insert([u]).select().single();if(h)throw h;return d}({form:e,user:p}),O(!1),N(!0)}catch(t){console.error(t),alert(t.message||"Failed to save incident")}}}),(0,i.jsx)(sr,{open:T,onClose:()=>N(!1),autoCloseMs:1800}),(0,i.jsx)(rr,{open:M,onClose:()=>A(!1),items:[{id:"n1",when:"10 min ago",title:"Severe Traffic incident on KPE",desc:"Severe traffic collision on KPE involving 5 vehicles."},{id:"n2",when:"2 hours ago",title:"Road closure along PIE",desc:"Road closure along PIE Exit 2 from 12am - 5am on 21 Sep 2025"}]})]}),(0,i.jsx)(Zn,{isGuest:!p,onSubmit:(e,t,n)=>{console.log("Preview requested:",{from:e,to:t,options:n})}})]}),(0,i.jsx)("section",{className:"page page-saved ".concat("saved"===L?"is-active":""),"aria-hidden":"saved"!==L,children:(0,i.jsx)(Mn,{onClose:()=>j("live")})}),(0,i.jsx)("section",{className:"page page-profile ".concat("profile"===L?"is-active":""),"aria-hidden":"profile"!==L,children:(0,i.jsx)(An,{theme:I,onToggleTheme:D,onClose:()=>j("live")})}),!!p&&"admin"===p.role&&(0,i.jsx)("section",{className:"page page-admin ".concat("dashboard"===L?"is-active":""),"aria-hidden":"dashboard"!==L,children:(0,i.jsx)(Vn,{})}),(0,i.jsx)(Bn,{open:v,onClose:()=>y(!1),onLearnMore:()=>{y(!1),S(!0)},onSubmit:$,fullScreen:!0}),(0,i.jsx)(Fn,{open:b,onClose:()=>w(!1),onLogin:()=>{w(!1),K({id:"demo",fname:"New",role:"user"})}}),(0,i.jsx)(Hn,{open:k,onClose:()=>S(!1),onGoBack:()=>{S(!1),y(!0)},fullScreen:!0}),(0,i.jsx)(qn,{open:x,onClose:()=>C(!1),onSuccess:e=>{var t;K(null!==(t=null===e||void 0===e?void 0:e.user)&&void 0!==t?t:e),C(!1),_(!0),j("live")}}),(0,i.jsx)(Gn,{open:E,onClose:()=>_(!1),onContinue:()=>_(!1),autoCloseMs:1800})]})}(0,s.createRoot)(document.getElementById("root")).render((0,i.jsx)(r.StrictMode,{children:(0,i.jsx)(or,{})}))})();
//# sourceMappingURL=main.d6f23c19.js.map